{"ast":null,"code":"'use strict';\n\nconst utils = require('../../utils');\n\n/**\r\n * If populating a path within a document array, make sure each\r\n * subdoc within the array knows its subpaths are populated.\r\n *\r\n * #### Example:\r\n *\r\n *     const doc = await Article.findOne().populate('comments.author');\r\n *     doc.comments[0].populated('author'); // Should be set\r\n *\r\n * @param {Document} doc\r\n * @param {Object} [populated]\r\n * @api private\r\n */\n\nmodule.exports = function markArraySubdocsPopulated(doc, populated) {\n  if (doc._id == null || populated == null || populated.length === 0) {\n    return;\n  }\n  const id = String(doc._id);\n  for (const item of populated) {\n    if (item.isVirtual) {\n      continue;\n    }\n    const path = item.path;\n    const pieces = path.split('.');\n    for (let i = 0; i < pieces.length - 1; ++i) {\n      const subpath = pieces.slice(0, i + 1).join('.');\n      const rest = pieces.slice(i + 1).join('.');\n      const val = doc.get(subpath);\n      if (val == null) {\n        continue;\n      }\n      if (utils.isMongooseDocumentArray(val)) {\n        for (let j = 0; j < val.length; ++j) {\n          val[j].populated(rest, item._docs[id] == null ? void 0 : item._docs[id][j], item);\n        }\n        break;\n      }\n    }\n  }\n};","map":{"version":3,"names":["utils","require","module","exports","markArraySubdocsPopulated","doc","populated","_id","length","id","String","item","isVirtual","path","pieces","split","i","subpath","slice","join","rest","val","get","isMongooseDocumentArray","j","_docs"],"sources":["C:/Users/91930/Desktop/Github projects/Pharmacy Demo/back-end/node_modules/mongoose/lib/helpers/populate/markArraySubdocsPopulated.js"],"sourcesContent":["'use strict';\r\n\r\nconst utils = require('../../utils');\r\n\r\n/**\r\n * If populating a path within a document array, make sure each\r\n * subdoc within the array knows its subpaths are populated.\r\n *\r\n * #### Example:\r\n *\r\n *     const doc = await Article.findOne().populate('comments.author');\r\n *     doc.comments[0].populated('author'); // Should be set\r\n *\r\n * @param {Document} doc\r\n * @param {Object} [populated]\r\n * @api private\r\n */\r\n\r\nmodule.exports = function markArraySubdocsPopulated(doc, populated) {\r\n  if (doc._id == null || populated == null || populated.length === 0) {\r\n    return;\r\n  }\r\n\r\n  const id = String(doc._id);\r\n  for (const item of populated) {\r\n    if (item.isVirtual) {\r\n      continue;\r\n    }\r\n    const path = item.path;\r\n    const pieces = path.split('.');\r\n    for (let i = 0; i < pieces.length - 1; ++i) {\r\n      const subpath = pieces.slice(0, i + 1).join('.');\r\n      const rest = pieces.slice(i + 1).join('.');\r\n      const val = doc.get(subpath);\r\n      if (val == null) {\r\n        continue;\r\n      }\r\n\r\n      if (utils.isMongooseDocumentArray(val)) {\r\n        for (let j = 0; j < val.length; ++j) {\r\n          val[j].populated(rest, item._docs[id] == null ? void 0 : item._docs[id][j], item);\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  }\r\n};\r\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,KAAK,GAAGC,OAAO,CAAC,aAAa,CAAC;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAC,MAAM,CAACC,OAAO,GAAG,SAASC,yBAAyB,CAACC,GAAG,EAAEC,SAAS,EAAE;EAClE,IAAID,GAAG,CAACE,GAAG,IAAI,IAAI,IAAID,SAAS,IAAI,IAAI,IAAIA,SAAS,CAACE,MAAM,KAAK,CAAC,EAAE;IAClE;EACF;EAEA,MAAMC,EAAE,GAAGC,MAAM,CAACL,GAAG,CAACE,GAAG,CAAC;EAC1B,KAAK,MAAMI,IAAI,IAAIL,SAAS,EAAE;IAC5B,IAAIK,IAAI,CAACC,SAAS,EAAE;MAClB;IACF;IACA,MAAMC,IAAI,GAAGF,IAAI,CAACE,IAAI;IACtB,MAAMC,MAAM,GAAGD,IAAI,CAACE,KAAK,CAAC,GAAG,CAAC;IAC9B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,MAAM,CAACN,MAAM,GAAG,CAAC,EAAE,EAAEQ,CAAC,EAAE;MAC1C,MAAMC,OAAO,GAAGH,MAAM,CAACI,KAAK,CAAC,CAAC,EAAEF,CAAC,GAAG,CAAC,CAAC,CAACG,IAAI,CAAC,GAAG,CAAC;MAChD,MAAMC,IAAI,GAAGN,MAAM,CAACI,KAAK,CAACF,CAAC,GAAG,CAAC,CAAC,CAACG,IAAI,CAAC,GAAG,CAAC;MAC1C,MAAME,GAAG,GAAGhB,GAAG,CAACiB,GAAG,CAACL,OAAO,CAAC;MAC5B,IAAII,GAAG,IAAI,IAAI,EAAE;QACf;MACF;MAEA,IAAIrB,KAAK,CAACuB,uBAAuB,CAACF,GAAG,CAAC,EAAE;QACtC,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,GAAG,CAACb,MAAM,EAAE,EAAEgB,CAAC,EAAE;UACnCH,GAAG,CAACG,CAAC,CAAC,CAAClB,SAAS,CAACc,IAAI,EAAET,IAAI,CAACc,KAAK,CAAChB,EAAE,CAAC,IAAI,IAAI,GAAG,KAAK,CAAC,GAAGE,IAAI,CAACc,KAAK,CAAChB,EAAE,CAAC,CAACe,CAAC,CAAC,EAAEb,IAAI,CAAC;QACnF;QACA;MACF;IACF;EACF;AACF,CAAC"},"metadata":{},"sourceType":"script","externalDependencies":[]}