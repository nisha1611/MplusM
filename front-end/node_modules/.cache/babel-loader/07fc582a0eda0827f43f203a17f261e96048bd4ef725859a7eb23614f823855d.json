{"ast":null,"code":"/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\n\n\"use strict\";\n\nconst {\n  compareModulesByPreOrderIndexOrIdentifier\n} = require(\"../util/comparators\");\nconst createSchemaValidation = require(\"../util/create-schema-validation\");\nconst createHash = require(\"../util/createHash\");\nconst {\n  getUsedModuleIdsAndModules,\n  getFullModuleName\n} = require(\"./IdHelpers\");\n\n/** @typedef {import(\"../../declarations/plugins/HashedModuleIdsPlugin\").HashedModuleIdsPluginOptions} HashedModuleIdsPluginOptions */\n\nconst validate = createSchemaValidation(require(\"../../schemas/plugins/HashedModuleIdsPlugin.check.js\"), () => require(\"../../schemas/plugins/HashedModuleIdsPlugin.json\"), {\n  name: \"Hashed Module Ids Plugin\",\n  baseDataPath: \"options\"\n});\nclass HashedModuleIdsPlugin {\n  /**\r\n   * @param {HashedModuleIdsPluginOptions=} options options object\r\n   */\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    validate(options);\n\n    /** @type {HashedModuleIdsPluginOptions} */\n    this.options = {\n      context: null,\n      hashFunction: \"md4\",\n      hashDigest: \"base64\",\n      hashDigestLength: 4,\n      ...options\n    };\n  }\n  apply(compiler) {\n    const options = this.options;\n    compiler.hooks.compilation.tap(\"HashedModuleIdsPlugin\", compilation => {\n      compilation.hooks.moduleIds.tap(\"HashedModuleIdsPlugin\", () => {\n        const chunkGraph = compilation.chunkGraph;\n        const context = this.options.context ? this.options.context : compiler.context;\n        const [usedIds, modules] = getUsedModuleIdsAndModules(compilation);\n        const modulesInNaturalOrder = modules.sort(compareModulesByPreOrderIndexOrIdentifier(compilation.moduleGraph));\n        for (const module of modulesInNaturalOrder) {\n          const ident = getFullModuleName(module, context, compiler.root);\n          const hash = createHash(options.hashFunction);\n          hash.update(ident || \"\");\n          const hashId = /** @type {string} */\n          hash.digest(options.hashDigest);\n          let len = options.hashDigestLength;\n          while (usedIds.has(hashId.slice(0, len))) len++;\n          const moduleId = hashId.slice(0, len);\n          chunkGraph.setModuleId(module, moduleId);\n          usedIds.add(moduleId);\n        }\n      });\n    });\n  }\n}\nmodule.exports = HashedModuleIdsPlugin;","map":{"version":3,"names":["compareModulesByPreOrderIndexOrIdentifier","require","createSchemaValidation","createHash","getUsedModuleIdsAndModules","getFullModuleName","validate","name","baseDataPath","HashedModuleIdsPlugin","constructor","options","context","hashFunction","hashDigest","hashDigestLength","apply","compiler","hooks","compilation","tap","moduleIds","chunkGraph","usedIds","modules","modulesInNaturalOrder","sort","moduleGraph","module","ident","root","hash","update","hashId","digest","len","has","slice","moduleId","setModuleId","add","exports"],"sources":["C:/Users/91930/Desktop/Github projects/Pharmacy Demo/front-end/node_modules/webpack/lib/ids/HashedModuleIdsPlugin.js"],"sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n\r\n\"use strict\";\r\n\r\nconst {\r\n\tcompareModulesByPreOrderIndexOrIdentifier\r\n} = require(\"../util/comparators\");\r\nconst createSchemaValidation = require(\"../util/create-schema-validation\");\r\nconst createHash = require(\"../util/createHash\");\r\nconst {\r\n\tgetUsedModuleIdsAndModules,\r\n\tgetFullModuleName\r\n} = require(\"./IdHelpers\");\r\n\r\n/** @typedef {import(\"../../declarations/plugins/HashedModuleIdsPlugin\").HashedModuleIdsPluginOptions} HashedModuleIdsPluginOptions */\r\n\r\nconst validate = createSchemaValidation(\r\n\trequire(\"../../schemas/plugins/HashedModuleIdsPlugin.check.js\"),\r\n\t() => require(\"../../schemas/plugins/HashedModuleIdsPlugin.json\"),\r\n\t{\r\n\t\tname: \"Hashed Module Ids Plugin\",\r\n\t\tbaseDataPath: \"options\"\r\n\t}\r\n);\r\n\r\nclass HashedModuleIdsPlugin {\r\n\t/**\r\n\t * @param {HashedModuleIdsPluginOptions=} options options object\r\n\t */\r\n\tconstructor(options = {}) {\r\n\t\tvalidate(options);\r\n\r\n\t\t/** @type {HashedModuleIdsPluginOptions} */\r\n\t\tthis.options = {\r\n\t\t\tcontext: null,\r\n\t\t\thashFunction: \"md4\",\r\n\t\t\thashDigest: \"base64\",\r\n\t\t\thashDigestLength: 4,\r\n\t\t\t...options\r\n\t\t};\r\n\t}\r\n\r\n\tapply(compiler) {\r\n\t\tconst options = this.options;\r\n\t\tcompiler.hooks.compilation.tap(\"HashedModuleIdsPlugin\", compilation => {\r\n\t\t\tcompilation.hooks.moduleIds.tap(\"HashedModuleIdsPlugin\", () => {\r\n\t\t\t\tconst chunkGraph = compilation.chunkGraph;\r\n\t\t\t\tconst context = this.options.context\r\n\t\t\t\t\t? this.options.context\r\n\t\t\t\t\t: compiler.context;\r\n\r\n\t\t\t\tconst [usedIds, modules] = getUsedModuleIdsAndModules(compilation);\r\n\t\t\t\tconst modulesInNaturalOrder = modules.sort(\r\n\t\t\t\t\tcompareModulesByPreOrderIndexOrIdentifier(compilation.moduleGraph)\r\n\t\t\t\t);\r\n\t\t\t\tfor (const module of modulesInNaturalOrder) {\r\n\t\t\t\t\tconst ident = getFullModuleName(module, context, compiler.root);\r\n\t\t\t\t\tconst hash = createHash(options.hashFunction);\r\n\t\t\t\t\thash.update(ident || \"\");\r\n\t\t\t\t\tconst hashId = /** @type {string} */ (\r\n\t\t\t\t\t\thash.digest(options.hashDigest)\r\n\t\t\t\t\t);\r\n\t\t\t\t\tlet len = options.hashDigestLength;\r\n\t\t\t\t\twhile (usedIds.has(hashId.slice(0, len))) len++;\r\n\t\t\t\t\tconst moduleId = hashId.slice(0, len);\r\n\t\t\t\t\tchunkGraph.setModuleId(module, moduleId);\r\n\t\t\t\t\tusedIds.add(moduleId);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n}\r\n\r\nmodule.exports = HashedModuleIdsPlugin;\r\n"],"mappings":"AAAA;AACA;AACA;AACA;;AAEA,YAAY;;AAEZ,MAAM;EACLA;AACD,CAAC,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AAClC,MAAMC,sBAAsB,GAAGD,OAAO,CAAC,kCAAkC,CAAC;AAC1E,MAAME,UAAU,GAAGF,OAAO,CAAC,oBAAoB,CAAC;AAChD,MAAM;EACLG,0BAA0B;EAC1BC;AACD,CAAC,GAAGJ,OAAO,CAAC,aAAa,CAAC;;AAE1B;;AAEA,MAAMK,QAAQ,GAAGJ,sBAAsB,CACtCD,OAAO,CAAC,sDAAsD,CAAC,EAC/D,MAAMA,OAAO,CAAC,kDAAkD,CAAC,EACjE;EACCM,IAAI,EAAE,0BAA0B;EAChCC,YAAY,EAAE;AACf,CAAC,CACD;AAED,MAAMC,qBAAqB,CAAC;EAC3B;AACD;AACA;EACCC,WAAW,GAAe;IAAA,IAAdC,OAAO,uEAAG,CAAC,CAAC;IACvBL,QAAQ,CAACK,OAAO,CAAC;;IAEjB;IACA,IAAI,CAACA,OAAO,GAAG;MACdC,OAAO,EAAE,IAAI;MACbC,YAAY,EAAE,KAAK;MACnBC,UAAU,EAAE,QAAQ;MACpBC,gBAAgB,EAAE,CAAC;MACnB,GAAGJ;IACJ,CAAC;EACF;EAEAK,KAAK,CAACC,QAAQ,EAAE;IACf,MAAMN,OAAO,GAAG,IAAI,CAACA,OAAO;IAC5BM,QAAQ,CAACC,KAAK,CAACC,WAAW,CAACC,GAAG,CAAC,uBAAuB,EAAED,WAAW,IAAI;MACtEA,WAAW,CAACD,KAAK,CAACG,SAAS,CAACD,GAAG,CAAC,uBAAuB,EAAE,MAAM;QAC9D,MAAME,UAAU,GAAGH,WAAW,CAACG,UAAU;QACzC,MAAMV,OAAO,GAAG,IAAI,CAACD,OAAO,CAACC,OAAO,GACjC,IAAI,CAACD,OAAO,CAACC,OAAO,GACpBK,QAAQ,CAACL,OAAO;QAEnB,MAAM,CAACW,OAAO,EAAEC,OAAO,CAAC,GAAGpB,0BAA0B,CAACe,WAAW,CAAC;QAClE,MAAMM,qBAAqB,GAAGD,OAAO,CAACE,IAAI,CACzC1B,yCAAyC,CAACmB,WAAW,CAACQ,WAAW,CAAC,CAClE;QACD,KAAK,MAAMC,MAAM,IAAIH,qBAAqB,EAAE;UAC3C,MAAMI,KAAK,GAAGxB,iBAAiB,CAACuB,MAAM,EAAEhB,OAAO,EAAEK,QAAQ,CAACa,IAAI,CAAC;UAC/D,MAAMC,IAAI,GAAG5B,UAAU,CAACQ,OAAO,CAACE,YAAY,CAAC;UAC7CkB,IAAI,CAACC,MAAM,CAACH,KAAK,IAAI,EAAE,CAAC;UACxB,MAAMI,MAAM,GAAG;UACdF,IAAI,CAACG,MAAM,CAACvB,OAAO,CAACG,UAAU,CAC9B;UACD,IAAIqB,GAAG,GAAGxB,OAAO,CAACI,gBAAgB;UAClC,OAAOQ,OAAO,CAACa,GAAG,CAACH,MAAM,CAACI,KAAK,CAAC,CAAC,EAAEF,GAAG,CAAC,CAAC,EAAEA,GAAG,EAAE;UAC/C,MAAMG,QAAQ,GAAGL,MAAM,CAACI,KAAK,CAAC,CAAC,EAAEF,GAAG,CAAC;UACrCb,UAAU,CAACiB,WAAW,CAACX,MAAM,EAAEU,QAAQ,CAAC;UACxCf,OAAO,CAACiB,GAAG,CAACF,QAAQ,CAAC;QACtB;MACD,CAAC,CAAC;IACH,CAAC,CAAC;EACH;AACD;AAEAV,MAAM,CAACa,OAAO,GAAGhC,qBAAqB"},"metadata":{},"sourceType":"script","externalDependencies":[]}