{"ast":null,"code":"/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n*/\n\n\"use strict\";\n\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst Template = require(\"../Template\");\nconst HelperRuntimeModule = require(\"./HelperRuntimeModule\");\nclass GetTrustedTypesPolicyRuntimeModule extends HelperRuntimeModule {\n  /**\r\n   * @param {Set<string>} runtimeRequirements runtime requirements\r\n   */\n  constructor(runtimeRequirements) {\n    super(\"trusted types policy\");\n    this.runtimeRequirements = runtimeRequirements;\n  }\n\n  /**\r\n   * @returns {string} runtime code\r\n   */\n  generate() {\n    const {\n      compilation\n    } = this;\n    const {\n      runtimeTemplate,\n      outputOptions\n    } = compilation;\n    const {\n      trustedTypes\n    } = outputOptions;\n    const fn = RuntimeGlobals.getTrustedTypesPolicy;\n    return Template.asString([\"var policy;\", `${fn} = ${runtimeTemplate.basicFunction(\"\", [\"// Create Trusted Type policy if Trusted Types are available and the policy doesn't exist yet.\", \"if (policy === undefined) {\", Template.indent([\"policy = {\", Template.indent([...(this.runtimeRequirements.has(RuntimeGlobals.createScript) ? [`createScript: ${runtimeTemplate.returningFunction(\"script\", \"script\")}`] : []), ...(this.runtimeRequirements.has(RuntimeGlobals.createScriptUrl) ? [`createScriptURL: ${runtimeTemplate.returningFunction(\"url\", \"url\")}`] : [])].join(\",\\n\")), \"};\", ...(trustedTypes ? ['if (typeof trustedTypes !== \"undefined\" && trustedTypes.createPolicy) {', Template.indent([`policy = trustedTypes.createPolicy(${JSON.stringify(trustedTypes.policyName)}, policy);`]), \"}\"] : [])]), \"}\", \"return policy;\"])};`]);\n  }\n}\nmodule.exports = GetTrustedTypesPolicyRuntimeModule;","map":{"version":3,"names":["RuntimeGlobals","require","Template","HelperRuntimeModule","GetTrustedTypesPolicyRuntimeModule","constructor","runtimeRequirements","generate","compilation","runtimeTemplate","outputOptions","trustedTypes","fn","getTrustedTypesPolicy","asString","basicFunction","indent","has","createScript","returningFunction","createScriptUrl","join","JSON","stringify","policyName","module","exports"],"sources":["C:/Users/91930/Desktop/Github projects/Pharmacy Demo/front-end/node_modules/webpack/lib/runtime/GetTrustedTypesPolicyRuntimeModule.js"],"sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n*/\r\n\r\n\"use strict\";\r\n\r\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\r\nconst Template = require(\"../Template\");\r\nconst HelperRuntimeModule = require(\"./HelperRuntimeModule\");\r\n\r\nclass GetTrustedTypesPolicyRuntimeModule extends HelperRuntimeModule {\r\n\t/**\r\n\t * @param {Set<string>} runtimeRequirements runtime requirements\r\n\t */\r\n\tconstructor(runtimeRequirements) {\r\n\t\tsuper(\"trusted types policy\");\r\n\t\tthis.runtimeRequirements = runtimeRequirements;\r\n\t}\r\n\r\n\t/**\r\n\t * @returns {string} runtime code\r\n\t */\r\n\tgenerate() {\r\n\t\tconst { compilation } = this;\r\n\t\tconst { runtimeTemplate, outputOptions } = compilation;\r\n\t\tconst { trustedTypes } = outputOptions;\r\n\t\tconst fn = RuntimeGlobals.getTrustedTypesPolicy;\r\n\r\n\t\treturn Template.asString([\r\n\t\t\t\"var policy;\",\r\n\t\t\t`${fn} = ${runtimeTemplate.basicFunction(\"\", [\r\n\t\t\t\t\"// Create Trusted Type policy if Trusted Types are available and the policy doesn't exist yet.\",\r\n\t\t\t\t\"if (policy === undefined) {\",\r\n\t\t\t\tTemplate.indent([\r\n\t\t\t\t\t\"policy = {\",\r\n\t\t\t\t\tTemplate.indent(\r\n\t\t\t\t\t\t[\r\n\t\t\t\t\t\t\t...(this.runtimeRequirements.has(RuntimeGlobals.createScript)\r\n\t\t\t\t\t\t\t\t? [\r\n\t\t\t\t\t\t\t\t\t\t`createScript: ${runtimeTemplate.returningFunction(\r\n\t\t\t\t\t\t\t\t\t\t\t\"script\",\r\n\t\t\t\t\t\t\t\t\t\t\t\"script\"\r\n\t\t\t\t\t\t\t\t\t\t)}`\r\n\t\t\t\t\t\t\t\t  ]\r\n\t\t\t\t\t\t\t\t: []),\r\n\t\t\t\t\t\t\t...(this.runtimeRequirements.has(RuntimeGlobals.createScriptUrl)\r\n\t\t\t\t\t\t\t\t? [\r\n\t\t\t\t\t\t\t\t\t\t`createScriptURL: ${runtimeTemplate.returningFunction(\r\n\t\t\t\t\t\t\t\t\t\t\t\"url\",\r\n\t\t\t\t\t\t\t\t\t\t\t\"url\"\r\n\t\t\t\t\t\t\t\t\t\t)}`\r\n\t\t\t\t\t\t\t\t  ]\r\n\t\t\t\t\t\t\t\t: [])\r\n\t\t\t\t\t\t].join(\",\\n\")\r\n\t\t\t\t\t),\r\n\t\t\t\t\t\"};\",\r\n\t\t\t\t\t...(trustedTypes\r\n\t\t\t\t\t\t? [\r\n\t\t\t\t\t\t\t\t'if (typeof trustedTypes !== \"undefined\" && trustedTypes.createPolicy) {',\r\n\t\t\t\t\t\t\t\tTemplate.indent([\r\n\t\t\t\t\t\t\t\t\t`policy = trustedTypes.createPolicy(${JSON.stringify(\r\n\t\t\t\t\t\t\t\t\t\ttrustedTypes.policyName\r\n\t\t\t\t\t\t\t\t\t)}, policy);`\r\n\t\t\t\t\t\t\t\t]),\r\n\t\t\t\t\t\t\t\t\"}\"\r\n\t\t\t\t\t\t  ]\r\n\t\t\t\t\t\t: [])\r\n\t\t\t\t]),\r\n\t\t\t\t\"}\",\r\n\t\t\t\t\"return policy;\"\r\n\t\t\t])};`\r\n\t\t]);\r\n\t}\r\n}\r\n\r\nmodule.exports = GetTrustedTypesPolicyRuntimeModule;\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA,YAAY;;AAEZ,MAAMA,cAAc,GAAGC,OAAO,CAAC,mBAAmB,CAAC;AACnD,MAAMC,QAAQ,GAAGD,OAAO,CAAC,aAAa,CAAC;AACvC,MAAME,mBAAmB,GAAGF,OAAO,CAAC,uBAAuB,CAAC;AAE5D,MAAMG,kCAAkC,SAASD,mBAAmB,CAAC;EACpE;AACD;AACA;EACCE,WAAW,CAACC,mBAAmB,EAAE;IAChC,KAAK,CAAC,sBAAsB,CAAC;IAC7B,IAAI,CAACA,mBAAmB,GAAGA,mBAAmB;EAC/C;;EAEA;AACD;AACA;EACCC,QAAQ,GAAG;IACV,MAAM;MAAEC;IAAY,CAAC,GAAG,IAAI;IAC5B,MAAM;MAAEC,eAAe;MAAEC;IAAc,CAAC,GAAGF,WAAW;IACtD,MAAM;MAAEG;IAAa,CAAC,GAAGD,aAAa;IACtC,MAAME,EAAE,GAAGZ,cAAc,CAACa,qBAAqB;IAE/C,OAAOX,QAAQ,CAACY,QAAQ,CAAC,CACxB,aAAa,EACZ,GAAEF,EAAG,MAAKH,eAAe,CAACM,aAAa,CAAC,EAAE,EAAE,CAC5C,gGAAgG,EAChG,6BAA6B,EAC7Bb,QAAQ,CAACc,MAAM,CAAC,CACf,YAAY,EACZd,QAAQ,CAACc,MAAM,CACd,CACC,IAAI,IAAI,CAACV,mBAAmB,CAACW,GAAG,CAACjB,cAAc,CAACkB,YAAY,CAAC,GAC1D,CACC,iBAAgBT,eAAe,CAACU,iBAAiB,CACjD,QAAQ,EACR,QAAQ,CACP,EAAC,CACF,GACD,EAAE,CAAC,EACN,IAAI,IAAI,CAACb,mBAAmB,CAACW,GAAG,CAACjB,cAAc,CAACoB,eAAe,CAAC,GAC7D,CACC,oBAAmBX,eAAe,CAACU,iBAAiB,CACpD,KAAK,EACL,KAAK,CACJ,EAAC,CACF,GACD,EAAE,CAAC,CACN,CAACE,IAAI,CAAC,KAAK,CAAC,CACb,EACD,IAAI,EACJ,IAAIV,YAAY,GACb,CACA,yEAAyE,EACzET,QAAQ,CAACc,MAAM,CAAC,CACd,sCAAqCM,IAAI,CAACC,SAAS,CACnDZ,YAAY,CAACa,UAAU,CACtB,YAAW,CACb,CAAC,EACF,GAAG,CACF,GACD,EAAE,CAAC,CACN,CAAC,EACF,GAAG,EACH,gBAAgB,CAChB,CAAE,GAAE,CACL,CAAC;EACH;AACD;AAEAC,MAAM,CAACC,OAAO,GAAGtB,kCAAkC"},"metadata":{},"sourceType":"script","externalDependencies":[]}