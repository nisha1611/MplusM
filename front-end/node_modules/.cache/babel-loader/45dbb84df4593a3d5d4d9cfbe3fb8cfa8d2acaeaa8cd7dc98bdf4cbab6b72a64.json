{"ast":null,"code":"// info about each config option.\n\nvar debug = process.env.DEBUG_NOPT || process.env.NOPT_DEBUG ? function () {\n  console.error.apply(console, arguments);\n} : function () {};\nvar url = require(\"url\"),\n  path = require(\"path\"),\n  Stream = require(\"stream\").Stream,\n  abbrev = require(\"abbrev\");\nmodule.exports = exports = nopt;\nexports.clean = clean;\nexports.typeDefs = {\n  String: {\n    type: String,\n    validate: validateString\n  },\n  Boolean: {\n    type: Boolean,\n    validate: validateBoolean\n  },\n  url: {\n    type: url,\n    validate: validateUrl\n  },\n  Number: {\n    type: Number,\n    validate: validateNumber\n  },\n  path: {\n    type: path,\n    validate: validatePath\n  },\n  Stream: {\n    type: Stream,\n    validate: validateStream\n  },\n  Date: {\n    type: Date,\n    validate: validateDate\n  }\n};\nfunction nopt(types, shorthands, args, slice) {\n  args = args || process.argv;\n  types = types || {};\n  shorthands = shorthands || {};\n  if (typeof slice !== \"number\") slice = 2;\n  debug(types, shorthands, args, slice);\n  args = args.slice(slice);\n  var data = {},\n    key,\n    remain = [],\n    cooked = args,\n    original = args.slice(0);\n  parse(args, data, remain, types, shorthands);\n  // now data is full\n  clean(data, types, exports.typeDefs);\n  data.argv = {\n    remain: remain,\n    cooked: cooked,\n    original: original\n  };\n  data.argv.toString = function () {\n    return this.original.map(JSON.stringify).join(\" \");\n  };\n  return data;\n}\nfunction clean(data, types, typeDefs) {\n  typeDefs = typeDefs || exports.typeDefs;\n  var remove = {},\n    typeDefault = [false, true, null, String, Number];\n  Object.keys(data).forEach(function (k) {\n    if (k === \"argv\") return;\n    var val = data[k],\n      isArray = Array.isArray(val),\n      type = types[k];\n    if (!isArray) val = [val];\n    if (!type) type = typeDefault;\n    if (type === Array) type = typeDefault.concat(Array);\n    if (!Array.isArray(type)) type = [type];\n    debug(\"val=%j\", val);\n    debug(\"types=\", type);\n    val = val.map(function (val) {\n      // if it's an unknown value, then parse false/true/null/numbers/dates\n      if (typeof val === \"string\") {\n        debug(\"string %j\", val);\n        val = val.trim();\n        if (val === \"null\" && ~type.indexOf(null) || val === \"true\" && (~type.indexOf(true) || ~type.indexOf(Boolean)) || val === \"false\" && (~type.indexOf(false) || ~type.indexOf(Boolean))) {\n          val = JSON.parse(val);\n          debug(\"jsonable %j\", val);\n        } else if (~type.indexOf(Number) && !isNaN(val)) {\n          debug(\"convert to number\", val);\n          val = +val;\n        } else if (~type.indexOf(Date) && !isNaN(Date.parse(val))) {\n          debug(\"convert to date\", val);\n          val = new Date(val);\n        }\n      }\n      if (!types.hasOwnProperty(k)) {\n        return val;\n      }\n\n      // allow `--no-blah` to set 'blah' to null if null is allowed\n      if (val === false && ~type.indexOf(null) && !(~type.indexOf(false) || ~type.indexOf(Boolean))) {\n        val = null;\n      }\n      var d = {};\n      d[k] = val;\n      debug(\"prevalidated val\", d, val, types[k]);\n      if (!validate(d, k, val, types[k], typeDefs)) {\n        if (exports.invalidHandler) {\n          exports.invalidHandler(k, val, types[k], data);\n        } else if (exports.invalidHandler !== false) {\n          debug(\"invalid: \" + k + \"=\" + val, types[k]);\n        }\n        return remove;\n      }\n      debug(\"validated val\", d, val, types[k]);\n      return d[k];\n    }).filter(function (val) {\n      return val !== remove;\n    });\n    if (!val.length) delete data[k];else if (isArray) {\n      debug(isArray, data[k], val);\n      data[k] = val;\n    } else data[k] = val[0];\n    debug(\"k=%s val=%j\", k, val, data[k]);\n  });\n}\nfunction validateString(data, k, val) {\n  data[k] = String(val);\n}\nfunction validatePath(data, k, val) {\n  data[k] = path.resolve(String(val));\n  return true;\n}\nfunction validateNumber(data, k, val) {\n  debug(\"validate Number %j %j %j\", k, val, isNaN(val));\n  if (isNaN(val)) return false;\n  data[k] = +val;\n}\nfunction validateDate(data, k, val) {\n  debug(\"validate Date %j %j %j\", k, val, Date.parse(val));\n  var s = Date.parse(val);\n  if (isNaN(s)) return false;\n  data[k] = new Date(val);\n}\nfunction validateBoolean(data, k, val) {\n  if (val instanceof Boolean) val = val.valueOf();else if (typeof val === \"string\") {\n    if (!isNaN(val)) val = !!+val;else if (val === \"null\" || val === \"false\") val = false;else val = true;\n  } else val = !!val;\n  data[k] = val;\n}\nfunction validateUrl(data, k, val) {\n  val = url.parse(String(val));\n  if (!val.host) return false;\n  data[k] = val.href;\n}\nfunction validateStream(data, k, val) {\n  if (!(val instanceof Stream)) return false;\n  data[k] = val;\n}\nfunction validate(data, k, val, type, typeDefs) {\n  // arrays are lists of types.\n  if (Array.isArray(type)) {\n    for (var i = 0, l = type.length; i < l; i++) {\n      if (type[i] === Array) continue;\n      if (validate(data, k, val, type[i], typeDefs)) return true;\n    }\n    delete data[k];\n    return false;\n  }\n\n  // an array of anything?\n  if (type === Array) return true;\n\n  // NaN is poisonous.  Means that something is not allowed.\n  if (type !== type) {\n    debug(\"Poison NaN\", k, val, type);\n    delete data[k];\n    return false;\n  }\n\n  // explicit list of values\n  if (val === type) {\n    debug(\"Explicitly allowed %j\", val);\n    // if (isArray) (data[k] = data[k] || []).push(val)\n    // else data[k] = val\n    data[k] = val;\n    return true;\n  }\n\n  // now go through the list of typeDefs, validate against each one.\n  var ok = false,\n    types = Object.keys(typeDefs);\n  for (var i = 0, l = types.length; i < l; i++) {\n    debug(\"test type %j %j %j\", k, val, types[i]);\n    var t = typeDefs[types[i]];\n    if (t && type === t.type) {\n      var d = {};\n      ok = false !== t.validate(d, k, val);\n      val = d[k];\n      if (ok) {\n        // if (isArray) (data[k] = data[k] || []).push(val)\n        // else data[k] = val\n        data[k] = val;\n        break;\n      }\n    }\n  }\n  debug(\"OK? %j (%j %j %j)\", ok, k, val, types[i]);\n  if (!ok) delete data[k];\n  return ok;\n}\nfunction parse(args, data, remain, types, shorthands) {\n  debug(\"parse\", args, data, remain);\n  var key = null,\n    abbrevs = abbrev(Object.keys(types)),\n    shortAbbr = abbrev(Object.keys(shorthands));\n  for (var i = 0; i < args.length; i++) {\n    var arg = args[i];\n    debug(\"arg\", arg);\n    if (arg.match(/^-{2,}$/)) {\n      // done with keys.\n      // the rest are args.\n      remain.push.apply(remain, args.slice(i + 1));\n      args[i] = \"--\";\n      break;\n    }\n    if (arg.charAt(0) === \"-\") {\n      if (arg.indexOf(\"=\") !== -1) {\n        var v = arg.split(\"=\");\n        arg = v.shift();\n        v = v.join(\"=\");\n        args.splice.apply(args, [i, 1].concat([arg, v]));\n      }\n      // see if it's a shorthand\n      // if so, splice and back up to re-parse it.\n      var shRes = resolveShort(arg, shorthands, shortAbbr, abbrevs);\n      debug(\"arg=%j shRes=%j\", arg, shRes);\n      if (shRes) {\n        debug(arg, shRes);\n        args.splice.apply(args, [i, 1].concat(shRes));\n        if (arg !== shRes[0]) {\n          i--;\n          continue;\n        }\n      }\n      arg = arg.replace(/^-+/, \"\");\n      var no = false;\n      while (arg.toLowerCase().indexOf(\"no-\") === 0) {\n        no = !no;\n        arg = arg.substr(3);\n      }\n      if (abbrevs[arg]) arg = abbrevs[arg];\n      var isArray = types[arg] === Array || Array.isArray(types[arg]) && types[arg].indexOf(Array) !== -1;\n      var val,\n        la = args[i + 1];\n      var isBool = no || types[arg] === Boolean || Array.isArray(types[arg]) && types[arg].indexOf(Boolean) !== -1 || la === \"false\" && (types[arg] === null || Array.isArray(types[arg]) && ~types[arg].indexOf(null));\n      if (isBool) {\n        // just set and move along\n        val = !no;\n        // however, also support --bool true or --bool false\n        if (la === \"true\" || la === \"false\") {\n          val = JSON.parse(la);\n          la = null;\n          if (no) val = !val;\n          i++;\n        }\n\n        // also support \"foo\":[Boolean, \"bar\"] and \"--foo bar\"\n        if (Array.isArray(types[arg]) && la) {\n          if (~types[arg].indexOf(la)) {\n            // an explicit type\n            val = la;\n            i++;\n          } else if (la === \"null\" && ~types[arg].indexOf(null)) {\n            // null allowed\n            val = null;\n            i++;\n          } else if (!la.match(/^-{2,}[^-]/) && !isNaN(la) && ~types[arg].indexOf(Number)) {\n            // number\n            val = +la;\n            i++;\n          } else if (!la.match(/^-[^-]/) && ~types[arg].indexOf(String)) {\n            // string\n            val = la;\n            i++;\n          }\n        }\n        if (isArray) (data[arg] = data[arg] || []).push(val);else data[arg] = val;\n        continue;\n      }\n      if (la && la.match(/^-{2,}$/)) {\n        la = undefined;\n        i--;\n      }\n      val = la === undefined ? true : la;\n      if (isArray) (data[arg] = data[arg] || []).push(val);else data[arg] = val;\n      i++;\n      continue;\n    }\n    remain.push(arg);\n  }\n}\nfunction resolveShort(arg, shorthands, shortAbbr, abbrevs) {\n  // handle single-char shorthands glommed together, like\n  // npm ls -glp, but only if there is one dash, and only if\n  // all of the chars are single-char shorthands, and it's\n  // not a match to some other abbrev.\n  arg = arg.replace(/^-+/, '');\n  if (abbrevs[arg] && !shorthands[arg]) {\n    return null;\n  }\n  if (shortAbbr[arg]) {\n    arg = shortAbbr[arg];\n  } else {\n    var singles = shorthands.___singles;\n    if (!singles) {\n      singles = Object.keys(shorthands).filter(function (s) {\n        return s.length === 1;\n      }).reduce(function (l, r) {\n        l[r] = true;\n        return l;\n      }, {});\n      shorthands.___singles = singles;\n    }\n    var chrs = arg.split(\"\").filter(function (c) {\n      return singles[c];\n    });\n    if (chrs.join(\"\") === arg) return chrs.map(function (c) {\n      return shorthands[c];\n    }).reduce(function (l, r) {\n      return l.concat(r);\n    }, []);\n  }\n  if (shorthands[arg] && !Array.isArray(shorthands[arg])) {\n    shorthands[arg] = shorthands[arg].split(/\\s+/);\n  }\n  return shorthands[arg];\n}\nif (module === require.main) {\n  var assert = require(\"assert\"),\n    util = require(\"util\"),\n    shorthands = {\n      s: [\"--loglevel\", \"silent\"],\n      d: [\"--loglevel\", \"info\"],\n      dd: [\"--loglevel\", \"verbose\"],\n      ddd: [\"--loglevel\", \"silly\"],\n      noreg: [\"--no-registry\"],\n      reg: [\"--registry\"],\n      \"no-reg\": [\"--no-registry\"],\n      silent: [\"--loglevel\", \"silent\"],\n      verbose: [\"--loglevel\", \"verbose\"],\n      h: [\"--usage\"],\n      H: [\"--usage\"],\n      \"?\": [\"--usage\"],\n      help: [\"--usage\"],\n      v: [\"--version\"],\n      f: [\"--force\"],\n      desc: [\"--description\"],\n      \"no-desc\": [\"--no-description\"],\n      \"local\": [\"--no-global\"],\n      l: [\"--long\"],\n      p: [\"--parseable\"],\n      porcelain: [\"--parseable\"],\n      g: [\"--global\"]\n    },\n    types = {\n      aoa: Array,\n      nullstream: [null, Stream],\n      date: Date,\n      str: String,\n      browser: String,\n      cache: path,\n      color: [\"always\", Boolean],\n      depth: Number,\n      description: Boolean,\n      dev: Boolean,\n      editor: path,\n      force: Boolean,\n      global: Boolean,\n      globalconfig: path,\n      group: [String, Number],\n      gzipbin: String,\n      logfd: [Number, Stream],\n      loglevel: [\"silent\", \"win\", \"error\", \"warn\", \"info\", \"verbose\", \"silly\"],\n      long: Boolean,\n      \"node-version\": [false, String],\n      npaturl: url,\n      npat: Boolean,\n      \"onload-script\": [false, String],\n      outfd: [Number, Stream],\n      parseable: Boolean,\n      pre: Boolean,\n      prefix: path,\n      proxy: url,\n      \"rebuild-bundle\": Boolean,\n      registry: url,\n      searchopts: String,\n      searchexclude: [null, String],\n      shell: path,\n      t: [Array, String],\n      tag: String,\n      tar: String,\n      tmp: path,\n      \"unsafe-perm\": Boolean,\n      usage: Boolean,\n      user: String,\n      username: String,\n      userconfig: path,\n      version: Boolean,\n      viewer: path,\n      _exit: Boolean\n    };\n  [[\"-v\", {\n    version: true\n  }, []], [\"---v\", {\n    version: true\n  }, []], [\"ls -s --no-reg connect -d\", {\n    loglevel: \"info\",\n    registry: null\n  }, [\"ls\", \"connect\"]], [\"ls ---s foo\", {\n    loglevel: \"silent\"\n  }, [\"ls\", \"foo\"]], [\"ls --registry blargle\", {}, [\"ls\"]], [\"--no-registry\", {\n    registry: null\n  }, []], [\"--no-color true\", {\n    color: false\n  }, []], [\"--no-color false\", {\n    color: true\n  }, []], [\"--no-color\", {\n    color: false\n  }, []], [\"--color false\", {\n    color: false\n  }, []], [\"--color --logfd 7\", {\n    logfd: 7,\n    color: true\n  }, []], [\"--color=true\", {\n    color: true\n  }, []], [\"--logfd=10\", {\n    logfd: 10\n  }, []], [\"--tmp=/tmp -tar=gtar\", {\n    tmp: \"/tmp\",\n    tar: \"gtar\"\n  }, []], [\"--tmp=tmp -tar=gtar\", {\n    tmp: path.resolve(process.cwd(), \"tmp\"),\n    tar: \"gtar\"\n  }, []], [\"--logfd x\", {}, []], [\"a -true -- -no-false\", {\n    true: true\n  }, [\"a\", \"-no-false\"]], [\"a -no-false\", {\n    false: false\n  }, [\"a\"]], [\"a -no-no-true\", {\n    true: true\n  }, [\"a\"]], [\"a -no-no-no-false\", {\n    false: false\n  }, [\"a\"]], [\"---NO-no-No-no-no-no-nO-no-no\" + \"-No-no-no-no-no-no-no-no-no\" + \"-no-no-no-no-NO-NO-no-no-no-no-no-no\" + \"-no-body-can-do-the-boogaloo-like-I-do\", {\n    \"body-can-do-the-boogaloo-like-I-do\": false\n  }, []], [\"we are -no-strangers-to-love \" + \"--you-know the-rules --and so-do-i \" + \"---im-thinking-of=a-full-commitment \" + \"--no-you-would-get-this-from-any-other-guy \" + \"--no-gonna-give-you-up \" + \"-no-gonna-let-you-down=true \" + \"--no-no-gonna-run-around false \" + \"--desert-you=false \" + \"--make-you-cry false \" + \"--no-tell-a-lie \" + \"--no-no-and-hurt-you false\", {\n    \"strangers-to-love\": false,\n    \"you-know\": \"the-rules\",\n    \"and\": \"so-do-i\",\n    \"you-would-get-this-from-any-other-guy\": false,\n    \"gonna-give-you-up\": false,\n    \"gonna-let-you-down\": false,\n    \"gonna-run-around\": false,\n    \"desert-you\": false,\n    \"make-you-cry\": false,\n    \"tell-a-lie\": false,\n    \"and-hurt-you\": false\n  }, [\"we\", \"are\"]], [\"-t one -t two -t three\", {\n    t: [\"one\", \"two\", \"three\"]\n  }, []], [\"-t one -t null -t three four five null\", {\n    t: [\"one\", \"null\", \"three\"]\n  }, [\"four\", \"five\", \"null\"]], [\"-t foo\", {\n    t: [\"foo\"]\n  }, []], [\"--no-t\", {\n    t: [\"false\"]\n  }, []], [\"-no-no-t\", {\n    t: [\"true\"]\n  }, []], [\"-aoa one -aoa null -aoa 100\", {\n    aoa: [\"one\", null, 100]\n  }, []], [\"-str 100\", {\n    str: \"100\"\n  }, []], [\"--color always\", {\n    color: \"always\"\n  }, []], [\"--no-nullstream\", {\n    nullstream: null\n  }, []], [\"--nullstream false\", {\n    nullstream: null\n  }, []], [\"--notadate 2011-01-25\", {\n    notadate: \"2011-01-25\"\n  }, []], [\"--date 2011-01-25\", {\n    date: new Date(\"2011-01-25\")\n  }, []]].forEach(function (test) {\n    var argv = test[0].split(/\\s+/),\n      opts = test[1],\n      rem = test[2],\n      actual = nopt(types, shorthands, argv, 0),\n      parsed = actual.argv;\n    delete actual.argv;\n    console.log(util.inspect(actual, false, 2, true), parsed.remain);\n    for (var i in opts) {\n      var e = JSON.stringify(opts[i]),\n        a = JSON.stringify(actual[i] === undefined ? null : actual[i]);\n      if (e && typeof e === \"object\") {\n        assert.deepEqual(e, a);\n      } else {\n        assert.equal(e, a);\n      }\n    }\n    assert.deepEqual(rem, parsed.remain);\n  });\n}","map":{"version":3,"names":["debug","process","env","DEBUG_NOPT","NOPT_DEBUG","console","error","apply","arguments","url","require","path","Stream","abbrev","module","exports","nopt","clean","typeDefs","String","type","validate","validateString","Boolean","validateBoolean","validateUrl","Number","validateNumber","validatePath","validateStream","Date","validateDate","types","shorthands","args","slice","argv","data","key","remain","cooked","original","parse","toString","map","JSON","stringify","join","remove","typeDefault","Object","keys","forEach","k","val","isArray","Array","concat","trim","indexOf","isNaN","hasOwnProperty","d","invalidHandler","filter","length","resolve","s","valueOf","host","href","i","l","ok","t","abbrevs","shortAbbr","arg","match","push","charAt","v","split","shift","splice","shRes","resolveShort","replace","no","toLowerCase","substr","la","isBool","undefined","singles","___singles","reduce","r","chrs","c","main","assert","util","dd","ddd","noreg","reg","silent","verbose","h","H","help","f","desc","p","porcelain","g","aoa","nullstream","date","str","browser","cache","color","depth","description","dev","editor","force","global","globalconfig","group","gzipbin","logfd","loglevel","long","npaturl","npat","outfd","parseable","pre","prefix","proxy","registry","searchopts","searchexclude","shell","tag","tar","tmp","usage","user","username","userconfig","version","viewer","_exit","cwd","true","false","notadate","test","opts","rem","actual","parsed","log","inspect","e","a","deepEqual","equal"],"sources":["C:/Users/91930/Desktop/Github projects/Pharmacy Demo/back-end/node_modules/nopt/lib/nopt.js"],"sourcesContent":["// info about each config option.\r\n\r\nvar debug = process.env.DEBUG_NOPT || process.env.NOPT_DEBUG\r\n  ? function () { console.error.apply(console, arguments) }\r\n  : function () {}\r\n\r\nvar url = require(\"url\")\r\n  , path = require(\"path\")\r\n  , Stream = require(\"stream\").Stream\r\n  , abbrev = require(\"abbrev\")\r\n\r\nmodule.exports = exports = nopt\r\nexports.clean = clean\r\n\r\nexports.typeDefs =\r\n  { String  : { type: String,  validate: validateString  }\r\n  , Boolean : { type: Boolean, validate: validateBoolean }\r\n  , url     : { type: url,     validate: validateUrl     }\r\n  , Number  : { type: Number,  validate: validateNumber  }\r\n  , path    : { type: path,    validate: validatePath    }\r\n  , Stream  : { type: Stream,  validate: validateStream  }\r\n  , Date    : { type: Date,    validate: validateDate    }\r\n  }\r\n\r\nfunction nopt (types, shorthands, args, slice) {\r\n  args = args || process.argv\r\n  types = types || {}\r\n  shorthands = shorthands || {}\r\n  if (typeof slice !== \"number\") slice = 2\r\n\r\n  debug(types, shorthands, args, slice)\r\n\r\n  args = args.slice(slice)\r\n  var data = {}\r\n    , key\r\n    , remain = []\r\n    , cooked = args\r\n    , original = args.slice(0)\r\n\r\n  parse(args, data, remain, types, shorthands)\r\n  // now data is full\r\n  clean(data, types, exports.typeDefs)\r\n  data.argv = {remain:remain,cooked:cooked,original:original}\r\n  data.argv.toString = function () {\r\n    return this.original.map(JSON.stringify).join(\" \")\r\n  }\r\n  return data\r\n}\r\n\r\nfunction clean (data, types, typeDefs) {\r\n  typeDefs = typeDefs || exports.typeDefs\r\n  var remove = {}\r\n    , typeDefault = [false, true, null, String, Number]\r\n\r\n  Object.keys(data).forEach(function (k) {\r\n    if (k === \"argv\") return\r\n    var val = data[k]\r\n      , isArray = Array.isArray(val)\r\n      , type = types[k]\r\n    if (!isArray) val = [val]\r\n    if (!type) type = typeDefault\r\n    if (type === Array) type = typeDefault.concat(Array)\r\n    if (!Array.isArray(type)) type = [type]\r\n\r\n    debug(\"val=%j\", val)\r\n    debug(\"types=\", type)\r\n    val = val.map(function (val) {\r\n      // if it's an unknown value, then parse false/true/null/numbers/dates\r\n      if (typeof val === \"string\") {\r\n        debug(\"string %j\", val)\r\n        val = val.trim()\r\n        if ((val === \"null\" && ~type.indexOf(null))\r\n            || (val === \"true\" &&\r\n               (~type.indexOf(true) || ~type.indexOf(Boolean)))\r\n            || (val === \"false\" &&\r\n               (~type.indexOf(false) || ~type.indexOf(Boolean)))) {\r\n          val = JSON.parse(val)\r\n          debug(\"jsonable %j\", val)\r\n        } else if (~type.indexOf(Number) && !isNaN(val)) {\r\n          debug(\"convert to number\", val)\r\n          val = +val\r\n        } else if (~type.indexOf(Date) && !isNaN(Date.parse(val))) {\r\n          debug(\"convert to date\", val)\r\n          val = new Date(val)\r\n        }\r\n      }\r\n\r\n      if (!types.hasOwnProperty(k)) {\r\n        return val\r\n      }\r\n\r\n      // allow `--no-blah` to set 'blah' to null if null is allowed\r\n      if (val === false && ~type.indexOf(null) &&\r\n          !(~type.indexOf(false) || ~type.indexOf(Boolean))) {\r\n        val = null\r\n      }\r\n\r\n      var d = {}\r\n      d[k] = val\r\n      debug(\"prevalidated val\", d, val, types[k])\r\n      if (!validate(d, k, val, types[k], typeDefs)) {\r\n        if (exports.invalidHandler) {\r\n          exports.invalidHandler(k, val, types[k], data)\r\n        } else if (exports.invalidHandler !== false) {\r\n          debug(\"invalid: \"+k+\"=\"+val, types[k])\r\n        }\r\n        return remove\r\n      }\r\n      debug(\"validated val\", d, val, types[k])\r\n      return d[k]\r\n    }).filter(function (val) { return val !== remove })\r\n\r\n    if (!val.length) delete data[k]\r\n    else if (isArray) {\r\n      debug(isArray, data[k], val)\r\n      data[k] = val\r\n    } else data[k] = val[0]\r\n\r\n    debug(\"k=%s val=%j\", k, val, data[k])\r\n  })\r\n}\r\n\r\nfunction validateString (data, k, val) {\r\n  data[k] = String(val)\r\n}\r\n\r\nfunction validatePath (data, k, val) {\r\n  data[k] = path.resolve(String(val))\r\n  return true\r\n}\r\n\r\nfunction validateNumber (data, k, val) {\r\n  debug(\"validate Number %j %j %j\", k, val, isNaN(val))\r\n  if (isNaN(val)) return false\r\n  data[k] = +val\r\n}\r\n\r\nfunction validateDate (data, k, val) {\r\n  debug(\"validate Date %j %j %j\", k, val, Date.parse(val))\r\n  var s = Date.parse(val)\r\n  if (isNaN(s)) return false\r\n  data[k] = new Date(val)\r\n}\r\n\r\nfunction validateBoolean (data, k, val) {\r\n  if (val instanceof Boolean) val = val.valueOf()\r\n  else if (typeof val === \"string\") {\r\n    if (!isNaN(val)) val = !!(+val)\r\n    else if (val === \"null\" || val === \"false\") val = false\r\n    else val = true\r\n  } else val = !!val\r\n  data[k] = val\r\n}\r\n\r\nfunction validateUrl (data, k, val) {\r\n  val = url.parse(String(val))\r\n  if (!val.host) return false\r\n  data[k] = val.href\r\n}\r\n\r\nfunction validateStream (data, k, val) {\r\n  if (!(val instanceof Stream)) return false\r\n  data[k] = val\r\n}\r\n\r\nfunction validate (data, k, val, type, typeDefs) {\r\n  // arrays are lists of types.\r\n  if (Array.isArray(type)) {\r\n    for (var i = 0, l = type.length; i < l; i ++) {\r\n      if (type[i] === Array) continue\r\n      if (validate(data, k, val, type[i], typeDefs)) return true\r\n    }\r\n    delete data[k]\r\n    return false\r\n  }\r\n\r\n  // an array of anything?\r\n  if (type === Array) return true\r\n\r\n  // NaN is poisonous.  Means that something is not allowed.\r\n  if (type !== type) {\r\n    debug(\"Poison NaN\", k, val, type)\r\n    delete data[k]\r\n    return false\r\n  }\r\n\r\n  // explicit list of values\r\n  if (val === type) {\r\n    debug(\"Explicitly allowed %j\", val)\r\n    // if (isArray) (data[k] = data[k] || []).push(val)\r\n    // else data[k] = val\r\n    data[k] = val\r\n    return true\r\n  }\r\n\r\n  // now go through the list of typeDefs, validate against each one.\r\n  var ok = false\r\n    , types = Object.keys(typeDefs)\r\n  for (var i = 0, l = types.length; i < l; i ++) {\r\n    debug(\"test type %j %j %j\", k, val, types[i])\r\n    var t = typeDefs[types[i]]\r\n    if (t && type === t.type) {\r\n      var d = {}\r\n      ok = false !== t.validate(d, k, val)\r\n      val = d[k]\r\n      if (ok) {\r\n        // if (isArray) (data[k] = data[k] || []).push(val)\r\n        // else data[k] = val\r\n        data[k] = val\r\n        break\r\n      }\r\n    }\r\n  }\r\n  debug(\"OK? %j (%j %j %j)\", ok, k, val, types[i])\r\n\r\n  if (!ok) delete data[k]\r\n  return ok\r\n}\r\n\r\nfunction parse (args, data, remain, types, shorthands) {\r\n  debug(\"parse\", args, data, remain)\r\n\r\n  var key = null\r\n    , abbrevs = abbrev(Object.keys(types))\r\n    , shortAbbr = abbrev(Object.keys(shorthands))\r\n\r\n  for (var i = 0; i < args.length; i ++) {\r\n    var arg = args[i]\r\n    debug(\"arg\", arg)\r\n\r\n    if (arg.match(/^-{2,}$/)) {\r\n      // done with keys.\r\n      // the rest are args.\r\n      remain.push.apply(remain, args.slice(i + 1))\r\n      args[i] = \"--\"\r\n      break\r\n    }\r\n    if (arg.charAt(0) === \"-\") {\r\n      if (arg.indexOf(\"=\") !== -1) {\r\n        var v = arg.split(\"=\")\r\n        arg = v.shift()\r\n        v = v.join(\"=\")\r\n        args.splice.apply(args, [i, 1].concat([arg, v]))\r\n      }\r\n      // see if it's a shorthand\r\n      // if so, splice and back up to re-parse it.\r\n      var shRes = resolveShort(arg, shorthands, shortAbbr, abbrevs)\r\n      debug(\"arg=%j shRes=%j\", arg, shRes)\r\n      if (shRes) {\r\n        debug(arg, shRes)\r\n        args.splice.apply(args, [i, 1].concat(shRes))\r\n        if (arg !== shRes[0]) {\r\n          i --\r\n          continue\r\n        }\r\n      }\r\n      arg = arg.replace(/^-+/, \"\")\r\n      var no = false\r\n      while (arg.toLowerCase().indexOf(\"no-\") === 0) {\r\n        no = !no\r\n        arg = arg.substr(3)\r\n      }\r\n\r\n      if (abbrevs[arg]) arg = abbrevs[arg]\r\n\r\n      var isArray = types[arg] === Array ||\r\n        Array.isArray(types[arg]) && types[arg].indexOf(Array) !== -1\r\n\r\n      var val\r\n        , la = args[i + 1]\r\n\r\n      var isBool = no ||\r\n        types[arg] === Boolean ||\r\n        Array.isArray(types[arg]) && types[arg].indexOf(Boolean) !== -1 ||\r\n        (la === \"false\" &&\r\n         (types[arg] === null ||\r\n          Array.isArray(types[arg]) && ~types[arg].indexOf(null)))\r\n\r\n      if (isBool) {\r\n        // just set and move along\r\n        val = !no\r\n        // however, also support --bool true or --bool false\r\n        if (la === \"true\" || la === \"false\") {\r\n          val = JSON.parse(la)\r\n          la = null\r\n          if (no) val = !val\r\n          i ++\r\n        }\r\n\r\n        // also support \"foo\":[Boolean, \"bar\"] and \"--foo bar\"\r\n        if (Array.isArray(types[arg]) && la) {\r\n          if (~types[arg].indexOf(la)) {\r\n            // an explicit type\r\n            val = la\r\n            i ++\r\n          } else if ( la === \"null\" && ~types[arg].indexOf(null) ) {\r\n            // null allowed\r\n            val = null\r\n            i ++\r\n          } else if ( !la.match(/^-{2,}[^-]/) &&\r\n                      !isNaN(la) &&\r\n                      ~types[arg].indexOf(Number) ) {\r\n            // number\r\n            val = +la\r\n            i ++\r\n          } else if ( !la.match(/^-[^-]/) && ~types[arg].indexOf(String) ) {\r\n            // string\r\n            val = la\r\n            i ++\r\n          }\r\n        }\r\n\r\n        if (isArray) (data[arg] = data[arg] || []).push(val)\r\n        else data[arg] = val\r\n\r\n        continue\r\n      }\r\n\r\n      if (la && la.match(/^-{2,}$/)) {\r\n        la = undefined\r\n        i --\r\n      }\r\n\r\n      val = la === undefined ? true : la\r\n      if (isArray) (data[arg] = data[arg] || []).push(val)\r\n      else data[arg] = val\r\n\r\n      i ++\r\n      continue\r\n    }\r\n    remain.push(arg)\r\n  }\r\n}\r\n\r\nfunction resolveShort (arg, shorthands, shortAbbr, abbrevs) {\r\n  // handle single-char shorthands glommed together, like\r\n  // npm ls -glp, but only if there is one dash, and only if\r\n  // all of the chars are single-char shorthands, and it's\r\n  // not a match to some other abbrev.\r\n  arg = arg.replace(/^-+/, '')\r\n  if (abbrevs[arg] && !shorthands[arg]) {\r\n    return null\r\n  }\r\n  if (shortAbbr[arg]) {\r\n    arg = shortAbbr[arg]\r\n  } else {\r\n    var singles = shorthands.___singles\r\n    if (!singles) {\r\n      singles = Object.keys(shorthands).filter(function (s) {\r\n        return s.length === 1\r\n      }).reduce(function (l,r) { l[r] = true ; return l }, {})\r\n      shorthands.___singles = singles\r\n    }\r\n    var chrs = arg.split(\"\").filter(function (c) {\r\n      return singles[c]\r\n    })\r\n    if (chrs.join(\"\") === arg) return chrs.map(function (c) {\r\n      return shorthands[c]\r\n    }).reduce(function (l, r) {\r\n      return l.concat(r)\r\n    }, [])\r\n  }\r\n\r\n  if (shorthands[arg] && !Array.isArray(shorthands[arg])) {\r\n    shorthands[arg] = shorthands[arg].split(/\\s+/)\r\n  }\r\n  return shorthands[arg]\r\n}\r\n\r\nif (module === require.main) {\r\nvar assert = require(\"assert\")\r\n  , util = require(\"util\")\r\n\r\n  , shorthands =\r\n    { s : [\"--loglevel\", \"silent\"]\r\n    , d : [\"--loglevel\", \"info\"]\r\n    , dd : [\"--loglevel\", \"verbose\"]\r\n    , ddd : [\"--loglevel\", \"silly\"]\r\n    , noreg : [\"--no-registry\"]\r\n    , reg : [\"--registry\"]\r\n    , \"no-reg\" : [\"--no-registry\"]\r\n    , silent : [\"--loglevel\", \"silent\"]\r\n    , verbose : [\"--loglevel\", \"verbose\"]\r\n    , h : [\"--usage\"]\r\n    , H : [\"--usage\"]\r\n    , \"?\" : [\"--usage\"]\r\n    , help : [\"--usage\"]\r\n    , v : [\"--version\"]\r\n    , f : [\"--force\"]\r\n    , desc : [\"--description\"]\r\n    , \"no-desc\" : [\"--no-description\"]\r\n    , \"local\" : [\"--no-global\"]\r\n    , l : [\"--long\"]\r\n    , p : [\"--parseable\"]\r\n    , porcelain : [\"--parseable\"]\r\n    , g : [\"--global\"]\r\n    }\r\n\r\n  , types =\r\n    { aoa: Array\r\n    , nullstream: [null, Stream]\r\n    , date: Date\r\n    , str: String\r\n    , browser : String\r\n    , cache : path\r\n    , color : [\"always\", Boolean]\r\n    , depth : Number\r\n    , description : Boolean\r\n    , dev : Boolean\r\n    , editor : path\r\n    , force : Boolean\r\n    , global : Boolean\r\n    , globalconfig : path\r\n    , group : [String, Number]\r\n    , gzipbin : String\r\n    , logfd : [Number, Stream]\r\n    , loglevel : [\"silent\",\"win\",\"error\",\"warn\",\"info\",\"verbose\",\"silly\"]\r\n    , long : Boolean\r\n    , \"node-version\" : [false, String]\r\n    , npaturl : url\r\n    , npat : Boolean\r\n    , \"onload-script\" : [false, String]\r\n    , outfd : [Number, Stream]\r\n    , parseable : Boolean\r\n    , pre: Boolean\r\n    , prefix: path\r\n    , proxy : url\r\n    , \"rebuild-bundle\" : Boolean\r\n    , registry : url\r\n    , searchopts : String\r\n    , searchexclude: [null, String]\r\n    , shell : path\r\n    , t: [Array, String]\r\n    , tag : String\r\n    , tar : String\r\n    , tmp : path\r\n    , \"unsafe-perm\" : Boolean\r\n    , usage : Boolean\r\n    , user : String\r\n    , username : String\r\n    , userconfig : path\r\n    , version : Boolean\r\n    , viewer: path\r\n    , _exit : Boolean\r\n    }\r\n\r\n; [[\"-v\", {version:true}, []]\r\n  ,[\"---v\", {version:true}, []]\r\n  ,[\"ls -s --no-reg connect -d\",\r\n    {loglevel:\"info\",registry:null},[\"ls\",\"connect\"]]\r\n  ,[\"ls ---s foo\",{loglevel:\"silent\"},[\"ls\",\"foo\"]]\r\n  ,[\"ls --registry blargle\", {}, [\"ls\"]]\r\n  ,[\"--no-registry\", {registry:null}, []]\r\n  ,[\"--no-color true\", {color:false}, []]\r\n  ,[\"--no-color false\", {color:true}, []]\r\n  ,[\"--no-color\", {color:false}, []]\r\n  ,[\"--color false\", {color:false}, []]\r\n  ,[\"--color --logfd 7\", {logfd:7,color:true}, []]\r\n  ,[\"--color=true\", {color:true}, []]\r\n  ,[\"--logfd=10\", {logfd:10}, []]\r\n  ,[\"--tmp=/tmp -tar=gtar\",{tmp:\"/tmp\",tar:\"gtar\"},[]]\r\n  ,[\"--tmp=tmp -tar=gtar\",\r\n    {tmp:path.resolve(process.cwd(), \"tmp\"),tar:\"gtar\"},[]]\r\n  ,[\"--logfd x\", {}, []]\r\n  ,[\"a -true -- -no-false\", {true:true},[\"a\",\"-no-false\"]]\r\n  ,[\"a -no-false\", {false:false},[\"a\"]]\r\n  ,[\"a -no-no-true\", {true:true}, [\"a\"]]\r\n  ,[\"a -no-no-no-false\", {false:false}, [\"a\"]]\r\n  ,[\"---NO-no-No-no-no-no-nO-no-no\"+\r\n    \"-No-no-no-no-no-no-no-no-no\"+\r\n    \"-no-no-no-no-NO-NO-no-no-no-no-no-no\"+\r\n    \"-no-body-can-do-the-boogaloo-like-I-do\"\r\n   ,{\"body-can-do-the-boogaloo-like-I-do\":false}, []]\r\n  ,[\"we are -no-strangers-to-love \"+\r\n    \"--you-know the-rules --and so-do-i \"+\r\n    \"---im-thinking-of=a-full-commitment \"+\r\n    \"--no-you-would-get-this-from-any-other-guy \"+\r\n    \"--no-gonna-give-you-up \"+\r\n    \"-no-gonna-let-you-down=true \"+\r\n    \"--no-no-gonna-run-around false \"+\r\n    \"--desert-you=false \"+\r\n    \"--make-you-cry false \"+\r\n    \"--no-tell-a-lie \"+\r\n    \"--no-no-and-hurt-you false\"\r\n   ,{\"strangers-to-love\":false\r\n    ,\"you-know\":\"the-rules\"\r\n    ,\"and\":\"so-do-i\"\r\n    ,\"you-would-get-this-from-any-other-guy\":false\r\n    ,\"gonna-give-you-up\":false\r\n    ,\"gonna-let-you-down\":false\r\n    ,\"gonna-run-around\":false\r\n    ,\"desert-you\":false\r\n    ,\"make-you-cry\":false\r\n    ,\"tell-a-lie\":false\r\n    ,\"and-hurt-you\":false\r\n    },[\"we\", \"are\"]]\r\n  ,[\"-t one -t two -t three\"\r\n   ,{t: [\"one\", \"two\", \"three\"]}\r\n   ,[]]\r\n  ,[\"-t one -t null -t three four five null\"\r\n   ,{t: [\"one\", \"null\", \"three\"]}\r\n   ,[\"four\", \"five\", \"null\"]]\r\n  ,[\"-t foo\"\r\n   ,{t:[\"foo\"]}\r\n   ,[]]\r\n  ,[\"--no-t\"\r\n   ,{t:[\"false\"]}\r\n   ,[]]\r\n  ,[\"-no-no-t\"\r\n   ,{t:[\"true\"]}\r\n   ,[]]\r\n  ,[\"-aoa one -aoa null -aoa 100\"\r\n   ,{aoa:[\"one\", null, 100]}\r\n   ,[]]\r\n  ,[\"-str 100\"\r\n   ,{str:\"100\"}\r\n   ,[]]\r\n  ,[\"--color always\"\r\n   ,{color:\"always\"}\r\n   ,[]]\r\n  ,[\"--no-nullstream\"\r\n   ,{nullstream:null}\r\n   ,[]]\r\n  ,[\"--nullstream false\"\r\n   ,{nullstream:null}\r\n   ,[]]\r\n  ,[\"--notadate 2011-01-25\"\r\n   ,{notadate: \"2011-01-25\"}\r\n   ,[]]\r\n  ,[\"--date 2011-01-25\"\r\n   ,{date: new Date(\"2011-01-25\")}\r\n   ,[]]\r\n  ].forEach(function (test) {\r\n    var argv = test[0].split(/\\s+/)\r\n      , opts = test[1]\r\n      , rem = test[2]\r\n      , actual = nopt(types, shorthands, argv, 0)\r\n      , parsed = actual.argv\r\n    delete actual.argv\r\n    console.log(util.inspect(actual, false, 2, true), parsed.remain)\r\n    for (var i in opts) {\r\n      var e = JSON.stringify(opts[i])\r\n        , a = JSON.stringify(actual[i] === undefined ? null : actual[i])\r\n      if (e && typeof e === \"object\") {\r\n        assert.deepEqual(e, a)\r\n      } else {\r\n        assert.equal(e, a)\r\n      }\r\n    }\r\n    assert.deepEqual(rem, parsed.remain)\r\n  })\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}