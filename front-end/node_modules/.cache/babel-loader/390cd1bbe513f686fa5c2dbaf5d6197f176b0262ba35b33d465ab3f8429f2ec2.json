{"ast":null,"code":"/*!\r\n * Module dependencies.\r\n */\n\n'use strict';\n\nconst MongooseError = require('./mongooseError');\nconst allServersUnknown = require('../helpers/topology/allServersUnknown');\nconst isAtlas = require('../helpers/topology/isAtlas');\nconst isSSLError = require('../helpers/topology/isSSLError');\n\n/*!\r\n * ignore\r\n */\n\nconst atlasMessage = 'Could not connect to any servers in your MongoDB Atlas cluster. ' + 'One common reason is that you\\'re trying to access the database from ' + 'an IP that isn\\'t whitelisted. Make sure your current IP address is on your Atlas ' + 'cluster\\'s IP whitelist: https://docs.atlas.mongodb.com/security-whitelist/';\nconst sslMessage = 'Mongoose is connecting with SSL enabled, but the server is ' + 'not accepting SSL connections. Please ensure that the MongoDB server you are ' + 'connecting to is configured to accept SSL connections. Learn more: ' + 'https://mongoosejs.com/docs/tutorials/ssl.html';\nclass MongooseServerSelectionError extends MongooseError {\n  /**\r\n   * MongooseServerSelectionError constructor\r\n   *\r\n   * @api private\r\n   */\n  assimilateError(err) {\n    const reason = err.reason;\n    // Special message for a case that is likely due to IP whitelisting issues.\n    const isAtlasWhitelistError = isAtlas(reason) && allServersUnknown(reason) && err.message.indexOf('bad auth') === -1 && err.message.indexOf('Authentication failed') === -1;\n    if (isAtlasWhitelistError) {\n      this.message = atlasMessage;\n    } else if (isSSLError(reason)) {\n      this.message = sslMessage;\n    } else {\n      this.message = err.message;\n    }\n    for (const key in err) {\n      if (key !== 'name') {\n        this[key] = err[key];\n      }\n    }\n    return this;\n  }\n}\nObject.defineProperty(MongooseServerSelectionError.prototype, 'name', {\n  value: 'MongooseServerSelectionError'\n});\nmodule.exports = MongooseServerSelectionError;","map":{"version":3,"names":["MongooseError","require","allServersUnknown","isAtlas","isSSLError","atlasMessage","sslMessage","MongooseServerSelectionError","assimilateError","err","reason","isAtlasWhitelistError","message","indexOf","key","Object","defineProperty","prototype","value","module","exports"],"sources":["C:/Users/91930/Desktop/Github projects/Pharmacy Demo/back-end/node_modules/mongoose/lib/error/serverSelection.js"],"sourcesContent":["/*!\r\n * Module dependencies.\r\n */\r\n\r\n'use strict';\r\n\r\nconst MongooseError = require('./mongooseError');\r\nconst allServersUnknown = require('../helpers/topology/allServersUnknown');\r\nconst isAtlas = require('../helpers/topology/isAtlas');\r\nconst isSSLError = require('../helpers/topology/isSSLError');\r\n\r\n/*!\r\n * ignore\r\n */\r\n\r\nconst atlasMessage = 'Could not connect to any servers in your MongoDB Atlas cluster. ' +\r\n  'One common reason is that you\\'re trying to access the database from ' +\r\n  'an IP that isn\\'t whitelisted. Make sure your current IP address is on your Atlas ' +\r\n  'cluster\\'s IP whitelist: https://docs.atlas.mongodb.com/security-whitelist/';\r\n\r\nconst sslMessage = 'Mongoose is connecting with SSL enabled, but the server is ' +\r\n  'not accepting SSL connections. Please ensure that the MongoDB server you are ' +\r\n  'connecting to is configured to accept SSL connections. Learn more: ' +\r\n  'https://mongoosejs.com/docs/tutorials/ssl.html';\r\n\r\nclass MongooseServerSelectionError extends MongooseError {\r\n  /**\r\n   * MongooseServerSelectionError constructor\r\n   *\r\n   * @api private\r\n   */\r\n  assimilateError(err) {\r\n    const reason = err.reason;\r\n    // Special message for a case that is likely due to IP whitelisting issues.\r\n    const isAtlasWhitelistError = isAtlas(reason) &&\r\n      allServersUnknown(reason) &&\r\n      err.message.indexOf('bad auth') === -1 &&\r\n      err.message.indexOf('Authentication failed') === -1;\r\n\r\n    if (isAtlasWhitelistError) {\r\n      this.message = atlasMessage;\r\n    } else if (isSSLError(reason)) {\r\n      this.message = sslMessage;\r\n    } else {\r\n      this.message = err.message;\r\n    }\r\n    for (const key in err) {\r\n      if (key !== 'name') {\r\n        this[key] = err[key];\r\n      }\r\n    }\r\n\r\n    return this;\r\n  }\r\n}\r\n\r\nObject.defineProperty(MongooseServerSelectionError.prototype, 'name', {\r\n  value: 'MongooseServerSelectionError'\r\n});\r\n\r\nmodule.exports = MongooseServerSelectionError;\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA,YAAY;;AAEZ,MAAMA,aAAa,GAAGC,OAAO,CAAC,iBAAiB,CAAC;AAChD,MAAMC,iBAAiB,GAAGD,OAAO,CAAC,uCAAuC,CAAC;AAC1E,MAAME,OAAO,GAAGF,OAAO,CAAC,6BAA6B,CAAC;AACtD,MAAMG,UAAU,GAAGH,OAAO,CAAC,gCAAgC,CAAC;;AAE5D;AACA;AACA;;AAEA,MAAMI,YAAY,GAAG,kEAAkE,GACrF,uEAAuE,GACvE,oFAAoF,GACpF,6EAA6E;AAE/E,MAAMC,UAAU,GAAG,6DAA6D,GAC9E,+EAA+E,GAC/E,qEAAqE,GACrE,gDAAgD;AAElD,MAAMC,4BAA4B,SAASP,aAAa,CAAC;EACvD;AACF;AACA;AACA;AACA;EACEQ,eAAe,CAACC,GAAG,EAAE;IACnB,MAAMC,MAAM,GAAGD,GAAG,CAACC,MAAM;IACzB;IACA,MAAMC,qBAAqB,GAAGR,OAAO,CAACO,MAAM,CAAC,IAC3CR,iBAAiB,CAACQ,MAAM,CAAC,IACzBD,GAAG,CAACG,OAAO,CAACC,OAAO,CAAC,UAAU,CAAC,KAAK,CAAC,CAAC,IACtCJ,GAAG,CAACG,OAAO,CAACC,OAAO,CAAC,uBAAuB,CAAC,KAAK,CAAC,CAAC;IAErD,IAAIF,qBAAqB,EAAE;MACzB,IAAI,CAACC,OAAO,GAAGP,YAAY;IAC7B,CAAC,MAAM,IAAID,UAAU,CAACM,MAAM,CAAC,EAAE;MAC7B,IAAI,CAACE,OAAO,GAAGN,UAAU;IAC3B,CAAC,MAAM;MACL,IAAI,CAACM,OAAO,GAAGH,GAAG,CAACG,OAAO;IAC5B;IACA,KAAK,MAAME,GAAG,IAAIL,GAAG,EAAE;MACrB,IAAIK,GAAG,KAAK,MAAM,EAAE;QAClB,IAAI,CAACA,GAAG,CAAC,GAAGL,GAAG,CAACK,GAAG,CAAC;MACtB;IACF;IAEA,OAAO,IAAI;EACb;AACF;AAEAC,MAAM,CAACC,cAAc,CAACT,4BAA4B,CAACU,SAAS,EAAE,MAAM,EAAE;EACpEC,KAAK,EAAE;AACT,CAAC,CAAC;AAEFC,MAAM,CAACC,OAAO,GAAGb,4BAA4B"},"metadata":{},"sourceType":"script","externalDependencies":[]}