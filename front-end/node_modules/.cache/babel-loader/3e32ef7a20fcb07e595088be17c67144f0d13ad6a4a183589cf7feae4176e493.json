{"ast":null,"code":"'use strict';\n\nconst StrictModeError = require('../../error/strict');\n\n/*!\r\n * ignore\r\n */\n\nmodule.exports = function (schematype) {\n  if (schematype.$immutable) {\n    schematype.$immutableSetter = createImmutableSetter(schematype.path, schematype.options.immutable);\n    schematype.set(schematype.$immutableSetter);\n  } else if (schematype.$immutableSetter) {\n    schematype.setters = schematype.setters.filter(fn => fn !== schematype.$immutableSetter);\n    delete schematype.$immutableSetter;\n  }\n};\nfunction createImmutableSetter(path, immutable) {\n  return function immutableSetter(v, _priorVal, _doc, options) {\n    if (this == null || this.$__ == null) {\n      return v;\n    }\n    if (this.isNew) {\n      return v;\n    }\n    if (options && options.overwriteImmutable) {\n      return v;\n    }\n    const _immutable = typeof immutable === 'function' ? immutable.call(this, this) : immutable;\n    if (!_immutable) {\n      return v;\n    }\n    const _value = this.$__.priorDoc != null ? this.$__.priorDoc.$__getValue(path) : this.$__getValue(path);\n    if (this.$__.strictMode === 'throw' && v !== _value) {\n      throw new StrictModeError(path, 'Path `' + path + '` is immutable ' + 'and strict mode is set to throw.', true);\n    }\n    return _value;\n  };\n}","map":{"version":3,"names":["StrictModeError","require","module","exports","schematype","$immutable","$immutableSetter","createImmutableSetter","path","options","immutable","set","setters","filter","fn","immutableSetter","v","_priorVal","_doc","$__","isNew","overwriteImmutable","_immutable","call","_value","priorDoc","$__getValue","strictMode"],"sources":["C:/Users/91930/Desktop/Github projects/Pharmacy Demo/back-end/node_modules/mongoose/lib/helpers/schematype/handleImmutable.js"],"sourcesContent":["'use strict';\r\n\r\nconst StrictModeError = require('../../error/strict');\r\n\r\n/*!\r\n * ignore\r\n */\r\n\r\nmodule.exports = function(schematype) {\r\n  if (schematype.$immutable) {\r\n    schematype.$immutableSetter = createImmutableSetter(schematype.path,\r\n      schematype.options.immutable);\r\n    schematype.set(schematype.$immutableSetter);\r\n  } else if (schematype.$immutableSetter) {\r\n    schematype.setters = schematype.setters.\r\n      filter(fn => fn !== schematype.$immutableSetter);\r\n    delete schematype.$immutableSetter;\r\n  }\r\n};\r\n\r\nfunction createImmutableSetter(path, immutable) {\r\n  return function immutableSetter(v, _priorVal, _doc, options) {\r\n    if (this == null || this.$__ == null) {\r\n      return v;\r\n    }\r\n    if (this.isNew) {\r\n      return v;\r\n    }\r\n    if (options && options.overwriteImmutable) {\r\n      return v;\r\n    }\r\n\r\n    const _immutable = typeof immutable === 'function' ?\r\n      immutable.call(this, this) :\r\n      immutable;\r\n    if (!_immutable) {\r\n      return v;\r\n    }\r\n\r\n    const _value = this.$__.priorDoc != null ?\r\n      this.$__.priorDoc.$__getValue(path) :\r\n      this.$__getValue(path);\r\n    if (this.$__.strictMode === 'throw' && v !== _value) {\r\n      throw new StrictModeError(path, 'Path `' + path + '` is immutable ' +\r\n        'and strict mode is set to throw.', true);\r\n    }\r\n\r\n    return _value;\r\n  };\r\n}\r\n"],"mappings":"AAAA,YAAY;;AAEZ,MAAMA,eAAe,GAAGC,OAAO,CAAC,oBAAoB,CAAC;;AAErD;AACA;AACA;;AAEAC,MAAM,CAACC,OAAO,GAAG,UAASC,UAAU,EAAE;EACpC,IAAIA,UAAU,CAACC,UAAU,EAAE;IACzBD,UAAU,CAACE,gBAAgB,GAAGC,qBAAqB,CAACH,UAAU,CAACI,IAAI,EACjEJ,UAAU,CAACK,OAAO,CAACC,SAAS,CAAC;IAC/BN,UAAU,CAACO,GAAG,CAACP,UAAU,CAACE,gBAAgB,CAAC;EAC7C,CAAC,MAAM,IAAIF,UAAU,CAACE,gBAAgB,EAAE;IACtCF,UAAU,CAACQ,OAAO,GAAGR,UAAU,CAACQ,OAAO,CACrCC,MAAM,CAACC,EAAE,IAAIA,EAAE,KAAKV,UAAU,CAACE,gBAAgB,CAAC;IAClD,OAAOF,UAAU,CAACE,gBAAgB;EACpC;AACF,CAAC;AAED,SAASC,qBAAqB,CAACC,IAAI,EAAEE,SAAS,EAAE;EAC9C,OAAO,SAASK,eAAe,CAACC,CAAC,EAAEC,SAAS,EAAEC,IAAI,EAAET,OAAO,EAAE;IAC3D,IAAI,IAAI,IAAI,IAAI,IAAI,IAAI,CAACU,GAAG,IAAI,IAAI,EAAE;MACpC,OAAOH,CAAC;IACV;IACA,IAAI,IAAI,CAACI,KAAK,EAAE;MACd,OAAOJ,CAAC;IACV;IACA,IAAIP,OAAO,IAAIA,OAAO,CAACY,kBAAkB,EAAE;MACzC,OAAOL,CAAC;IACV;IAEA,MAAMM,UAAU,GAAG,OAAOZ,SAAS,KAAK,UAAU,GAChDA,SAAS,CAACa,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,GAC1Bb,SAAS;IACX,IAAI,CAACY,UAAU,EAAE;MACf,OAAON,CAAC;IACV;IAEA,MAAMQ,MAAM,GAAG,IAAI,CAACL,GAAG,CAACM,QAAQ,IAAI,IAAI,GACtC,IAAI,CAACN,GAAG,CAACM,QAAQ,CAACC,WAAW,CAAClB,IAAI,CAAC,GACnC,IAAI,CAACkB,WAAW,CAAClB,IAAI,CAAC;IACxB,IAAI,IAAI,CAACW,GAAG,CAACQ,UAAU,KAAK,OAAO,IAAIX,CAAC,KAAKQ,MAAM,EAAE;MACnD,MAAM,IAAIxB,eAAe,CAACQ,IAAI,EAAE,QAAQ,GAAGA,IAAI,GAAG,iBAAiB,GACjE,kCAAkC,EAAE,IAAI,CAAC;IAC7C;IAEA,OAAOgB,MAAM;EACf,CAAC;AACH"},"metadata":{},"sourceType":"script","externalDependencies":[]}