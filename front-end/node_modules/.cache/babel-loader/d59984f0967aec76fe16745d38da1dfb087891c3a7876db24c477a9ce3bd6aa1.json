{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.AdaptiveRetryStrategy = void 0;\nconst util_retry_1 = require(\"@aws-sdk/util-retry\");\nconst StandardRetryStrategy_1 = require(\"./StandardRetryStrategy\");\nclass AdaptiveRetryStrategy extends StandardRetryStrategy_1.StandardRetryStrategy {\n  constructor(maxAttemptsProvider, options) {\n    const {\n      rateLimiter,\n      ...superOptions\n    } = options !== null && options !== void 0 ? options : {};\n    super(maxAttemptsProvider, superOptions);\n    this.rateLimiter = rateLimiter !== null && rateLimiter !== void 0 ? rateLimiter : new util_retry_1.DefaultRateLimiter();\n    this.mode = util_retry_1.RETRY_MODES.ADAPTIVE;\n  }\n  async retry(next, args) {\n    return super.retry(next, args, {\n      beforeRequest: async () => {\n        return this.rateLimiter.getSendToken();\n      },\n      afterRequest: response => {\n        this.rateLimiter.updateClientSendingRate(response);\n      }\n    });\n  }\n}\nexports.AdaptiveRetryStrategy = AdaptiveRetryStrategy;","map":{"version":3,"names":["Object","defineProperty","exports","value","AdaptiveRetryStrategy","util_retry_1","require","StandardRetryStrategy_1","StandardRetryStrategy","constructor","maxAttemptsProvider","options","rateLimiter","superOptions","DefaultRateLimiter","mode","RETRY_MODES","ADAPTIVE","retry","next","args","beforeRequest","getSendToken","afterRequest","response","updateClientSendingRate"],"sources":["C:/Users/91930/Desktop/Github projects/Pharmacy Demo/back-end/node_modules/@aws-sdk/middleware-retry/dist-cjs/AdaptiveRetryStrategy.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.AdaptiveRetryStrategy = void 0;\r\nconst util_retry_1 = require(\"@aws-sdk/util-retry\");\r\nconst StandardRetryStrategy_1 = require(\"./StandardRetryStrategy\");\r\nclass AdaptiveRetryStrategy extends StandardRetryStrategy_1.StandardRetryStrategy {\r\n    constructor(maxAttemptsProvider, options) {\r\n        const { rateLimiter, ...superOptions } = options !== null && options !== void 0 ? options : {};\r\n        super(maxAttemptsProvider, superOptions);\r\n        this.rateLimiter = rateLimiter !== null && rateLimiter !== void 0 ? rateLimiter : new util_retry_1.DefaultRateLimiter();\r\n        this.mode = util_retry_1.RETRY_MODES.ADAPTIVE;\r\n    }\r\n    async retry(next, args) {\r\n        return super.retry(next, args, {\r\n            beforeRequest: async () => {\r\n                return this.rateLimiter.getSendToken();\r\n            },\r\n            afterRequest: (response) => {\r\n                this.rateLimiter.updateClientSendingRate(response);\r\n            },\r\n        });\r\n    }\r\n}\r\nexports.AdaptiveRetryStrategy = AdaptiveRetryStrategy;\r\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,qBAAqB,GAAG,KAAK,CAAC;AACtC,MAAMC,YAAY,GAAGC,OAAO,CAAC,qBAAqB,CAAC;AACnD,MAAMC,uBAAuB,GAAGD,OAAO,CAAC,yBAAyB,CAAC;AAClE,MAAMF,qBAAqB,SAASG,uBAAuB,CAACC,qBAAqB,CAAC;EAC9EC,WAAW,CAACC,mBAAmB,EAAEC,OAAO,EAAE;IACtC,MAAM;MAAEC,WAAW;MAAE,GAAGC;IAAa,CAAC,GAAGF,OAAO,KAAK,IAAI,IAAIA,OAAO,KAAK,KAAK,CAAC,GAAGA,OAAO,GAAG,CAAC,CAAC;IAC9F,KAAK,CAACD,mBAAmB,EAAEG,YAAY,CAAC;IACxC,IAAI,CAACD,WAAW,GAAGA,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK,KAAK,CAAC,GAAGA,WAAW,GAAG,IAAIP,YAAY,CAACS,kBAAkB,EAAE;IACvH,IAAI,CAACC,IAAI,GAAGV,YAAY,CAACW,WAAW,CAACC,QAAQ;EACjD;EACA,MAAMC,KAAK,CAACC,IAAI,EAAEC,IAAI,EAAE;IACpB,OAAO,KAAK,CAACF,KAAK,CAACC,IAAI,EAAEC,IAAI,EAAE;MAC3BC,aAAa,EAAE,YAAY;QACvB,OAAO,IAAI,CAACT,WAAW,CAACU,YAAY,EAAE;MAC1C,CAAC;MACDC,YAAY,EAAGC,QAAQ,IAAK;QACxB,IAAI,CAACZ,WAAW,CAACa,uBAAuB,CAACD,QAAQ,CAAC;MACtD;IACJ,CAAC,CAAC;EACN;AACJ;AACAtB,OAAO,CAACE,qBAAqB,GAAGA,qBAAqB"},"metadata":{},"sourceType":"script","externalDependencies":[]}