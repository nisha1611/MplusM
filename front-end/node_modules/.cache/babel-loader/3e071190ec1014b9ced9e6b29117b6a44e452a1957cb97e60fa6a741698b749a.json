{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PromiseProvider = void 0;\nconst error_1 = require(\"./error\");\n/** @internal */\nconst kPromise = Symbol('promise');\nconst store = {\n  [kPromise]: null\n};\n/**\r\n * Global promise store allowing user-provided promises\r\n * @deprecated Setting a custom promise library is deprecated the next major version will use the global Promise constructor only.\r\n * @public\r\n */\nclass PromiseProvider {\n  /**\r\n   * Validates the passed in promise library\r\n   * @deprecated Setting a custom promise library is deprecated the next major version will use the global Promise constructor only.\r\n   */\n  static validate(lib) {\n    if (typeof lib !== 'function') throw new error_1.MongoInvalidArgumentError(`Promise must be a function, got ${lib}`);\n    return !!lib;\n  }\n  /**\r\n   * Sets the promise library\r\n   * @deprecated Setting a custom promise library is deprecated the next major version will use the global Promise constructor only.\r\n   */\n  static set(lib) {\n    // eslint-disable-next-line no-restricted-syntax\n    if (lib === null) {\n      // Check explicitly against null since `.set()` (no args) should fall through to validate\n      store[kPromise] = null;\n      return;\n    }\n    if (!PromiseProvider.validate(lib)) {\n      // validate\n      return;\n    }\n    store[kPromise] = lib;\n  }\n  /**\r\n   * Get the stored promise library, or resolves passed in\r\n   * @deprecated Setting a custom promise library is deprecated the next major version will use the global Promise constructor only.\r\n   */\n  static get() {\n    return store[kPromise];\n  }\n}\nexports.PromiseProvider = PromiseProvider;","map":{"version":3,"mappings":";;;;;;AAAA;AAEA;AACA,MAAMA,QAAQ,GAAGC,MAAM,CAAC,SAAS,CAAC;AAMlC,MAAMC,KAAK,GAAiB;EAC1B,CAACF,QAAQ,GAAG;CACb;AAED;;;;;AAKA,MAAaG,eAAe;EAC1B;;;;EAIA,OAAOC,QAAQ,CAACC,GAAY;IAC1B,IAAI,OAAOA,GAAG,KAAK,UAAU,EAC3B,MAAM,IAAIC,iCAAyB,CAAC,mCAAmCD,GAAG,EAAE,CAAC;IAC/E,OAAO,CAAC,CAACA,GAAG;EACd;EAEA;;;;EAIA,OAAOE,GAAG,CAACF,GAA8B;IACvC;IACA,IAAIA,GAAG,KAAK,IAAI,EAAE;MAChB;MACAH,KAAK,CAACF,QAAQ,CAAC,GAAG,IAAI;MACtB;;IAGF,IAAI,CAACG,eAAe,CAACC,QAAQ,CAACC,GAAG,CAAC,EAAE;MAClC;MACA;;IAEFH,KAAK,CAACF,QAAQ,CAAC,GAAGK,GAAG;EACvB;EAEA;;;;EAIA,OAAOG,GAAG;IACR,OAAON,KAAK,CAACF,QAAQ,CAAC;EACxB;;AApCFS","names":["kPromise","Symbol","store","PromiseProvider","validate","lib","error_1","set","get","exports"],"sources":["C:\\Users\\91930\\Desktop\\Github projects\\Pharmacy Demo\\back-end\\node_modules\\mongoose\\node_modules\\mongodb\\src\\promise_provider.ts"],"sourcesContent":["import { MongoInvalidArgumentError } from './error';\r\n\r\n/** @internal */\r\nconst kPromise = Symbol('promise');\r\n\r\ninterface PromiseStore {\r\n  [kPromise]: PromiseConstructor | null;\r\n}\r\n\r\nconst store: PromiseStore = {\r\n  [kPromise]: null\r\n};\r\n\r\n/**\r\n * Global promise store allowing user-provided promises\r\n * @deprecated Setting a custom promise library is deprecated the next major version will use the global Promise constructor only.\r\n * @public\r\n */\r\nexport class PromiseProvider {\r\n  /**\r\n   * Validates the passed in promise library\r\n   * @deprecated Setting a custom promise library is deprecated the next major version will use the global Promise constructor only.\r\n   */\r\n  static validate(lib: unknown): lib is PromiseConstructor {\r\n    if (typeof lib !== 'function')\r\n      throw new MongoInvalidArgumentError(`Promise must be a function, got ${lib}`);\r\n    return !!lib;\r\n  }\r\n\r\n  /**\r\n   * Sets the promise library\r\n   * @deprecated Setting a custom promise library is deprecated the next major version will use the global Promise constructor only.\r\n   */\r\n  static set(lib: PromiseConstructor | null): void {\r\n    // eslint-disable-next-line no-restricted-syntax\r\n    if (lib === null) {\r\n      // Check explicitly against null since `.set()` (no args) should fall through to validate\r\n      store[kPromise] = null;\r\n      return;\r\n    }\r\n\r\n    if (!PromiseProvider.validate(lib)) {\r\n      // validate\r\n      return;\r\n    }\r\n    store[kPromise] = lib;\r\n  }\r\n\r\n  /**\r\n   * Get the stored promise library, or resolves passed in\r\n   * @deprecated Setting a custom promise library is deprecated the next major version will use the global Promise constructor only.\r\n   */\r\n  static get(): PromiseConstructor | null {\r\n    return store[kPromise];\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"script","externalDependencies":[]}