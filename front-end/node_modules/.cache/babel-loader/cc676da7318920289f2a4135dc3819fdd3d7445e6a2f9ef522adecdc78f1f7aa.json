{"ast":null,"code":"/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Sergey Melyukov @smelukov\r\n*/\n\n\"use strict\";\n\nconst {\n  ReplaceSource,\n  RawSource,\n  ConcatSource\n} = require(\"webpack-sources\");\nconst {\n  UsageState\n} = require(\"../ExportsInfo\");\nconst Generator = require(\"../Generator\");\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\nconst Template = require(\"../Template\");\n\n/** @typedef {import(\"webpack-sources\").Source} Source */\n/** @typedef {import(\"../Dependency\")} Dependency */\n/** @typedef {import(\"../Generator\").GenerateContext} GenerateContext */\n/** @typedef {import(\"../Generator\").UpdateHashContext} UpdateHashContext */\n/** @typedef {import(\"../Module\").ConcatenationBailoutReasonContext} ConcatenationBailoutReasonContext */\n/** @typedef {import(\"../NormalModule\")} NormalModule */\n/** @typedef {import(\"../util/Hash\")} Hash */\n\nconst TYPES = new Set([\"javascript\"]);\nclass CssExportsGenerator extends Generator {\n  constructor() {\n    super();\n  }\n\n  // TODO add getConcatenationBailoutReason to allow concatenation\n  // but how to make it have a module id\n\n  /**\r\n   * @param {NormalModule} module module for which the code should be generated\r\n   * @param {GenerateContext} generateContext context for generate\r\n   * @returns {Source} generated code\r\n   */\n  generate(module, generateContext) {\n    const source = new ReplaceSource(new RawSource(\"\"));\n    const initFragments = [];\n    const cssExports = new Map();\n    generateContext.runtimeRequirements.add(RuntimeGlobals.module);\n    const runtimeRequirements = new Set();\n    const templateContext = {\n      runtimeTemplate: generateContext.runtimeTemplate,\n      dependencyTemplates: generateContext.dependencyTemplates,\n      moduleGraph: generateContext.moduleGraph,\n      chunkGraph: generateContext.chunkGraph,\n      module,\n      runtime: generateContext.runtime,\n      runtimeRequirements: runtimeRequirements,\n      concatenationScope: generateContext.concatenationScope,\n      codeGenerationResults: generateContext.codeGenerationResults,\n      initFragments,\n      cssExports\n    };\n    const handleDependency = dependency => {\n      const constructor = /** @type {new (...args: any[]) => Dependency} */\n      dependency.constructor;\n      const template = generateContext.dependencyTemplates.get(constructor);\n      if (!template) {\n        throw new Error(\"No template for dependency: \" + dependency.constructor.name);\n      }\n      template.apply(dependency, source, templateContext);\n    };\n    module.dependencies.forEach(handleDependency);\n    if (generateContext.concatenationScope) {\n      const source = new ConcatSource();\n      const usedIdentifiers = new Set();\n      for (const [k, v] of cssExports) {\n        let identifier = Template.toIdentifier(k);\n        let i = 0;\n        while (usedIdentifiers.has(identifier)) {\n          identifier = Template.toIdentifier(k + i);\n        }\n        usedIdentifiers.add(identifier);\n        generateContext.concatenationScope.registerExport(k, identifier);\n        source.add(`${generateContext.runtimeTemplate.supportsConst ? \"const\" : \"var\"} ${identifier} = ${JSON.stringify(v)};\\n`);\n      }\n      return source;\n    } else {\n      const otherUsed = generateContext.moduleGraph.getExportsInfo(module).otherExportsInfo.getUsed(generateContext.runtime) !== UsageState.Unused;\n      if (otherUsed) {\n        generateContext.runtimeRequirements.add(RuntimeGlobals.makeNamespaceObject);\n      }\n      return new RawSource(`${otherUsed ? `${RuntimeGlobals.makeNamespaceObject}(` : \"\"}${module.moduleArgument}.exports = {\\n${Array.from(cssExports, _ref => {\n        let [k, v] = _ref;\n        return `\\t${JSON.stringify(k)}: ${JSON.stringify(v)}`;\n      }).join(\",\\n\")}\\n}${otherUsed ? \")\" : \"\"};`);\n    }\n  }\n\n  /**\r\n   * @param {NormalModule} module fresh module\r\n   * @returns {Set<string>} available types (do not mutate)\r\n   */\n  getTypes(module) {\n    return TYPES;\n  }\n\n  /**\r\n   * @param {NormalModule} module the module\r\n   * @param {string=} type source type\r\n   * @returns {number} estimate size of the module\r\n   */\n  getSize(module, type) {\n    return 42;\n  }\n\n  /**\r\n   * @param {Hash} hash hash that will be modified\r\n   * @param {UpdateHashContext} updateHashContext context for updating hash\r\n   */\n  updateHash(hash, _ref2) {\n    let {\n      module\n    } = _ref2;\n  }\n}\nmodule.exports = CssExportsGenerator;","map":{"version":3,"names":["ReplaceSource","RawSource","ConcatSource","require","UsageState","Generator","RuntimeGlobals","Template","TYPES","Set","CssExportsGenerator","constructor","generate","module","generateContext","source","initFragments","cssExports","Map","runtimeRequirements","add","templateContext","runtimeTemplate","dependencyTemplates","moduleGraph","chunkGraph","runtime","concatenationScope","codeGenerationResults","handleDependency","dependency","template","get","Error","name","apply","dependencies","forEach","usedIdentifiers","k","v","identifier","toIdentifier","i","has","registerExport","supportsConst","JSON","stringify","otherUsed","getExportsInfo","otherExportsInfo","getUsed","Unused","makeNamespaceObject","moduleArgument","Array","from","join","getTypes","getSize","type","updateHash","hash","exports"],"sources":["C:/Users/91930/Desktop/Github projects/Pharmacy Demo/front-end/node_modules/webpack/lib/css/CssExportsGenerator.js"],"sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Sergey Melyukov @smelukov\r\n*/\r\n\r\n\"use strict\";\r\n\r\nconst { ReplaceSource, RawSource, ConcatSource } = require(\"webpack-sources\");\r\nconst { UsageState } = require(\"../ExportsInfo\");\r\nconst Generator = require(\"../Generator\");\r\nconst RuntimeGlobals = require(\"../RuntimeGlobals\");\r\nconst Template = require(\"../Template\");\r\n\r\n/** @typedef {import(\"webpack-sources\").Source} Source */\r\n/** @typedef {import(\"../Dependency\")} Dependency */\r\n/** @typedef {import(\"../Generator\").GenerateContext} GenerateContext */\r\n/** @typedef {import(\"../Generator\").UpdateHashContext} UpdateHashContext */\r\n/** @typedef {import(\"../Module\").ConcatenationBailoutReasonContext} ConcatenationBailoutReasonContext */\r\n/** @typedef {import(\"../NormalModule\")} NormalModule */\r\n/** @typedef {import(\"../util/Hash\")} Hash */\r\n\r\nconst TYPES = new Set([\"javascript\"]);\r\n\r\nclass CssExportsGenerator extends Generator {\r\n\tconstructor() {\r\n\t\tsuper();\r\n\t}\r\n\r\n\t// TODO add getConcatenationBailoutReason to allow concatenation\r\n\t// but how to make it have a module id\r\n\r\n\t/**\r\n\t * @param {NormalModule} module module for which the code should be generated\r\n\t * @param {GenerateContext} generateContext context for generate\r\n\t * @returns {Source} generated code\r\n\t */\r\n\tgenerate(module, generateContext) {\r\n\t\tconst source = new ReplaceSource(new RawSource(\"\"));\r\n\t\tconst initFragments = [];\r\n\t\tconst cssExports = new Map();\r\n\r\n\t\tgenerateContext.runtimeRequirements.add(RuntimeGlobals.module);\r\n\r\n\t\tconst runtimeRequirements = new Set();\r\n\r\n\t\tconst templateContext = {\r\n\t\t\truntimeTemplate: generateContext.runtimeTemplate,\r\n\t\t\tdependencyTemplates: generateContext.dependencyTemplates,\r\n\t\t\tmoduleGraph: generateContext.moduleGraph,\r\n\t\t\tchunkGraph: generateContext.chunkGraph,\r\n\t\t\tmodule,\r\n\t\t\truntime: generateContext.runtime,\r\n\t\t\truntimeRequirements: runtimeRequirements,\r\n\t\t\tconcatenationScope: generateContext.concatenationScope,\r\n\t\t\tcodeGenerationResults: generateContext.codeGenerationResults,\r\n\t\t\tinitFragments,\r\n\t\t\tcssExports\r\n\t\t};\r\n\r\n\t\tconst handleDependency = dependency => {\r\n\t\t\tconst constructor = /** @type {new (...args: any[]) => Dependency} */ (\r\n\t\t\t\tdependency.constructor\r\n\t\t\t);\r\n\t\t\tconst template = generateContext.dependencyTemplates.get(constructor);\r\n\t\t\tif (!template) {\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\t\"No template for dependency: \" + dependency.constructor.name\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\ttemplate.apply(dependency, source, templateContext);\r\n\t\t};\r\n\t\tmodule.dependencies.forEach(handleDependency);\r\n\r\n\t\tif (generateContext.concatenationScope) {\r\n\t\t\tconst source = new ConcatSource();\r\n\t\t\tconst usedIdentifiers = new Set();\r\n\t\t\tfor (const [k, v] of cssExports) {\r\n\t\t\t\tlet identifier = Template.toIdentifier(k);\r\n\t\t\t\tlet i = 0;\r\n\t\t\t\twhile (usedIdentifiers.has(identifier)) {\r\n\t\t\t\t\tidentifier = Template.toIdentifier(k + i);\r\n\t\t\t\t}\r\n\t\t\t\tusedIdentifiers.add(identifier);\r\n\t\t\t\tgenerateContext.concatenationScope.registerExport(k, identifier);\r\n\t\t\t\tsource.add(\r\n\t\t\t\t\t`${\r\n\t\t\t\t\t\tgenerateContext.runtimeTemplate.supportsConst ? \"const\" : \"var\"\r\n\t\t\t\t\t} ${identifier} = ${JSON.stringify(v)};\\n`\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\treturn source;\r\n\t\t} else {\r\n\t\t\tconst otherUsed =\r\n\t\t\t\tgenerateContext.moduleGraph\r\n\t\t\t\t\t.getExportsInfo(module)\r\n\t\t\t\t\t.otherExportsInfo.getUsed(generateContext.runtime) !==\r\n\t\t\t\tUsageState.Unused;\r\n\t\t\tif (otherUsed) {\r\n\t\t\t\tgenerateContext.runtimeRequirements.add(\r\n\t\t\t\t\tRuntimeGlobals.makeNamespaceObject\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t\treturn new RawSource(\r\n\t\t\t\t`${otherUsed ? `${RuntimeGlobals.makeNamespaceObject}(` : \"\"}${\r\n\t\t\t\t\tmodule.moduleArgument\r\n\t\t\t\t}.exports = {\\n${Array.from(\r\n\t\t\t\t\tcssExports,\r\n\t\t\t\t\t([k, v]) => `\\t${JSON.stringify(k)}: ${JSON.stringify(v)}`\r\n\t\t\t\t).join(\",\\n\")}\\n}${otherUsed ? \")\" : \"\"};`\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * @param {NormalModule} module fresh module\r\n\t * @returns {Set<string>} available types (do not mutate)\r\n\t */\r\n\tgetTypes(module) {\r\n\t\treturn TYPES;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {NormalModule} module the module\r\n\t * @param {string=} type source type\r\n\t * @returns {number} estimate size of the module\r\n\t */\r\n\tgetSize(module, type) {\r\n\t\treturn 42;\r\n\t}\r\n\r\n\t/**\r\n\t * @param {Hash} hash hash that will be modified\r\n\t * @param {UpdateHashContext} updateHashContext context for updating hash\r\n\t */\r\n\tupdateHash(hash, { module }) {}\r\n}\r\n\r\nmodule.exports = CssExportsGenerator;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}