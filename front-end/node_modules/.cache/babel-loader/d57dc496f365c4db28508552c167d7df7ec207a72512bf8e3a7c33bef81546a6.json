{"ast":null,"code":"/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\n\n\"use strict\";\n\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst Template = require(\"../Template\");\nconst {\n  cleverMerge\n} = require(\"../util/cleverMerge\");\nconst {\n  getTargetsProperties,\n  getTargetProperties,\n  getDefaultTarget\n} = require(\"./target\");\n\n/** @typedef {import(\"../../declarations/WebpackOptions\").CacheOptionsNormalized} CacheOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").CssExperimentOptions} CssExperimentOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryDescription} EntryDescription */\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryNormalized} Entry */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Experiments} Experiments */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExperimentsNormalized} ExperimentsNormalized */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsPresets} ExternalsPresets */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsType} ExternalsType */\n/** @typedef {import(\"../../declarations/WebpackOptions\").InfrastructureLogging} InfrastructureLogging */\n/** @typedef {import(\"../../declarations/WebpackOptions\").JavascriptParserOptions} JavascriptParserOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Library} Library */\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryName} LibraryName */\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryOptions} LibraryOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Loader} Loader */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Mode} Mode */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ModuleOptionsNormalized} ModuleOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Node} WebpackNode */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Optimization} Optimization */\n/** @typedef {import(\"../../declarations/WebpackOptions\").OutputNormalized} Output */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Performance} Performance */\n/** @typedef {import(\"../../declarations/WebpackOptions\").ResolveOptions} ResolveOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").RuleSetRules} RuleSetRules */\n/** @typedef {import(\"../../declarations/WebpackOptions\").SnapshotOptions} SnapshotOptions */\n/** @typedef {import(\"../../declarations/WebpackOptions\").Target} Target */\n/** @typedef {import(\"../../declarations/WebpackOptions\").WebpackOptionsNormalized} WebpackOptions */\n/** @typedef {import(\"./target\").TargetProperties} TargetProperties */\n\nconst NODE_MODULES_REGEXP = /[\\\\/]node_modules[\\\\/]/i;\n\n/**\r\n * Sets a constant default value when undefined\r\n * @template T\r\n * @template {keyof T} P\r\n * @param {T} obj an object\r\n * @param {P} prop a property of this object\r\n * @param {T[P]} value a default value of the property\r\n * @returns {void}\r\n */\nconst D = (obj, prop, value) => {\n  if (obj[prop] === undefined) {\n    obj[prop] = value;\n  }\n};\n\n/**\r\n * Sets a dynamic default value when undefined, by calling the factory function\r\n * @template T\r\n * @template {keyof T} P\r\n * @param {T} obj an object\r\n * @param {P} prop a property of this object\r\n * @param {function(): T[P]} factory a default value factory for the property\r\n * @returns {void}\r\n */\nconst F = (obj, prop, factory) => {\n  if (obj[prop] === undefined) {\n    obj[prop] = factory();\n  }\n};\n\n/**\r\n * Sets a dynamic default value when undefined, by calling the factory function.\r\n * factory must return an array or undefined\r\n * When the current value is already an array an contains \"...\" it's replaced with\r\n * the result of the factory function\r\n * @template T\r\n * @template {keyof T} P\r\n * @param {T} obj an object\r\n * @param {P} prop a property of this object\r\n * @param {function(): T[P]} factory a default value factory for the property\r\n * @returns {void}\r\n */\nconst A = (obj, prop, factory) => {\n  const value = obj[prop];\n  if (value === undefined) {\n    obj[prop] = factory();\n  } else if (Array.isArray(value)) {\n    /** @type {any[]} */\n    let newArray = undefined;\n    for (let i = 0; i < value.length; i++) {\n      const item = value[i];\n      if (item === \"...\") {\n        if (newArray === undefined) {\n          newArray = value.slice(0, i);\n          obj[prop] = /** @type {T[P]} */ /** @type {unknown} */newArray;\n        }\n        const items = /** @type {any[]} */ /** @type {unknown} */factory();\n        if (items !== undefined) {\n          for (const item of items) {\n            newArray.push(item);\n          }\n        }\n      } else if (newArray !== undefined) {\n        newArray.push(item);\n      }\n    }\n  }\n};\n\n/**\r\n * @param {WebpackOptions} options options to be modified\r\n * @returns {void}\r\n */\nconst applyWebpackOptionsBaseDefaults = options => {\n  F(options, \"context\", () => process.cwd());\n  applyInfrastructureLoggingDefaults(options.infrastructureLogging);\n};\n\n/**\r\n * @param {WebpackOptions} options options to be modified\r\n * @returns {void}\r\n */\nconst applyWebpackOptionsDefaults = options => {\n  F(options, \"context\", () => process.cwd());\n  F(options, \"target\", () => {\n    return getDefaultTarget(options.context);\n  });\n  const {\n    mode,\n    name,\n    target\n  } = options;\n  let targetProperties = target === false ? /** @type {false} */false : typeof target === \"string\" ? getTargetProperties(target, options.context) : getTargetsProperties(target, options.context);\n  const development = mode === \"development\";\n  const production = mode === \"production\" || !mode;\n  if (typeof options.entry !== \"function\") {\n    for (const key of Object.keys(options.entry)) {\n      F(options.entry[key], \"import\", () => /** @type {[string]} */[\"./src\"]);\n    }\n  }\n  F(options, \"devtool\", () => development ? \"eval\" : false);\n  D(options, \"watch\", false);\n  D(options, \"profile\", false);\n  D(options, \"parallelism\", 100);\n  D(options, \"recordsInputPath\", false);\n  D(options, \"recordsOutputPath\", false);\n  applyExperimentsDefaults(options.experiments, {\n    production,\n    development,\n    targetProperties\n  });\n  const futureDefaults = options.experiments.futureDefaults;\n  F(options, \"cache\", () => development ? {\n    type: /** @type {\"memory\"} */\"memory\"\n  } : false);\n  applyCacheDefaults(options.cache, {\n    name: name || \"default\",\n    mode: mode || \"production\",\n    development,\n    cacheUnaffected: options.experiments.cacheUnaffected\n  });\n  const cache = !!options.cache;\n  applySnapshotDefaults(options.snapshot, {\n    production,\n    futureDefaults\n  });\n  applyModuleDefaults(options.module, {\n    cache,\n    syncWebAssembly: options.experiments.syncWebAssembly,\n    asyncWebAssembly: options.experiments.asyncWebAssembly,\n    css: options.experiments.css,\n    futureDefaults,\n    isNode: targetProperties && targetProperties.node === true\n  });\n  applyOutputDefaults(options.output, {\n    context: options.context,\n    targetProperties,\n    isAffectedByBrowserslist: target === undefined || typeof target === \"string\" && target.startsWith(\"browserslist\") || Array.isArray(target) && target.some(target => target.startsWith(\"browserslist\")),\n    outputModule: options.experiments.outputModule,\n    development,\n    entry: options.entry,\n    module: options.module,\n    futureDefaults\n  });\n  applyExternalsPresetsDefaults(options.externalsPresets, {\n    targetProperties,\n    buildHttp: !!options.experiments.buildHttp\n  });\n  applyLoaderDefaults(options.loader, {\n    targetProperties\n  });\n  F(options, \"externalsType\", () => {\n    const validExternalTypes = require(\"../../schemas/WebpackOptions.json\").definitions.ExternalsType.enum;\n    return options.output.library && validExternalTypes.includes(options.output.library.type) ? /** @type {ExternalsType} */options.output.library.type : options.output.module ? \"module\" : \"var\";\n  });\n  applyNodeDefaults(options.node, {\n    futureDefaults: options.experiments.futureDefaults,\n    targetProperties\n  });\n  F(options, \"performance\", () => production && targetProperties && (targetProperties.browser || targetProperties.browser === null) ? {} : false);\n  applyPerformanceDefaults(options.performance, {\n    production\n  });\n  applyOptimizationDefaults(options.optimization, {\n    development,\n    production,\n    css: options.experiments.css,\n    records: !!(options.recordsInputPath || options.recordsOutputPath)\n  });\n  options.resolve = cleverMerge(getResolveDefaults({\n    cache,\n    context: options.context,\n    targetProperties,\n    mode: options.mode\n  }), options.resolve);\n  options.resolveLoader = cleverMerge(getResolveLoaderDefaults({\n    cache\n  }), options.resolveLoader);\n};\n\n/**\r\n * @param {ExperimentsNormalized} experiments options\r\n * @param {Object} options options\r\n * @param {boolean} options.production is production\r\n * @param {boolean} options.development is development mode\r\n * @param {TargetProperties | false} options.targetProperties target properties\r\n * @returns {void}\r\n */\nconst applyExperimentsDefaults = (experiments, _ref) => {\n  let {\n    production,\n    development,\n    targetProperties\n  } = _ref;\n  D(experiments, \"futureDefaults\", false);\n  D(experiments, \"backCompat\", !experiments.futureDefaults);\n  D(experiments, \"topLevelAwait\", experiments.futureDefaults);\n  D(experiments, \"syncWebAssembly\", false);\n  D(experiments, \"asyncWebAssembly\", experiments.futureDefaults);\n  D(experiments, \"outputModule\", false);\n  D(experiments, \"layers\", false);\n  D(experiments, \"lazyCompilation\", undefined);\n  D(experiments, \"buildHttp\", undefined);\n  D(experiments, \"cacheUnaffected\", experiments.futureDefaults);\n  F(experiments, \"css\", () => experiments.futureDefaults ? {} : undefined);\n  if (typeof experiments.buildHttp === \"object\") {\n    D(experiments.buildHttp, \"frozen\", production);\n    D(experiments.buildHttp, \"upgrade\", false);\n  }\n  if (typeof experiments.css === \"object\") {\n    D(experiments.css, \"exportsOnly\", !targetProperties || !targetProperties.document);\n  }\n};\n\n/**\r\n * @param {CacheOptions} cache options\r\n * @param {Object} options options\r\n * @param {string} options.name name\r\n * @param {string} options.mode mode\r\n * @param {boolean} options.development is development mode\r\n * @param {boolean} options.cacheUnaffected the cacheUnaffected experiment is enabled\r\n * @returns {void}\r\n */\nconst applyCacheDefaults = (cache, _ref2) => {\n  let {\n    name,\n    mode,\n    development,\n    cacheUnaffected\n  } = _ref2;\n  if (cache === false) return;\n  switch (cache.type) {\n    case \"filesystem\":\n      F(cache, \"name\", () => name + \"-\" + mode);\n      D(cache, \"version\", \"\");\n      F(cache, \"cacheDirectory\", () => {\n        const cwd = process.cwd();\n        let dir = cwd;\n        for (;;) {\n          try {\n            if (fs.statSync(path.join(dir, \"package.json\")).isFile()) break;\n            // eslint-disable-next-line no-empty\n          } catch (e) {}\n          const parent = path.dirname(dir);\n          if (dir === parent) {\n            dir = undefined;\n            break;\n          }\n          dir = parent;\n        }\n        if (!dir) {\n          return path.resolve(cwd, \".cache/webpack\");\n        } else if (process.versions.pnp === \"1\") {\n          return path.resolve(dir, \".pnp/.cache/webpack\");\n        } else if (process.versions.pnp === \"3\") {\n          return path.resolve(dir, \".yarn/.cache/webpack\");\n        } else {\n          return path.resolve(dir, \"node_modules/.cache/webpack\");\n        }\n      });\n      F(cache, \"cacheLocation\", () => path.resolve(cache.cacheDirectory, cache.name));\n      D(cache, \"hashAlgorithm\", \"md4\");\n      D(cache, \"store\", \"pack\");\n      D(cache, \"compression\", false);\n      D(cache, \"profile\", false);\n      D(cache, \"idleTimeout\", 60000);\n      D(cache, \"idleTimeoutForInitialStore\", 5000);\n      D(cache, \"idleTimeoutAfterLargeChanges\", 1000);\n      D(cache, \"maxMemoryGenerations\", development ? 5 : Infinity);\n      D(cache, \"maxAge\", 1000 * 60 * 60 * 24 * 60); // 1 month\n      D(cache, \"allowCollectingMemory\", development);\n      D(cache, \"memoryCacheUnaffected\", development && cacheUnaffected);\n      D(cache.buildDependencies, \"defaultWebpack\", [path.resolve(__dirname, \"..\") + path.sep]);\n      break;\n    case \"memory\":\n      D(cache, \"maxGenerations\", Infinity);\n      D(cache, \"cacheUnaffected\", development && cacheUnaffected);\n      break;\n  }\n};\n\n/**\r\n * @param {SnapshotOptions} snapshot options\r\n * @param {Object} options options\r\n * @param {boolean} options.production is production\r\n * @param {boolean} options.futureDefaults is future defaults enabled\r\n * @returns {void}\r\n */\nconst applySnapshotDefaults = (snapshot, _ref3) => {\n  let {\n    production,\n    futureDefaults\n  } = _ref3;\n  if (futureDefaults) {\n    F(snapshot, \"managedPaths\", () => process.versions.pnp === \"3\" ? [/^(.+?(?:[\\\\/]\\.yarn[\\\\/]unplugged[\\\\/][^\\\\/]+)?[\\\\/]node_modules[\\\\/])/] : [/^(.+?[\\\\/]node_modules[\\\\/])/]);\n    F(snapshot, \"immutablePaths\", () => process.versions.pnp === \"3\" ? [/^(.+?[\\\\/]cache[\\\\/][^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/])/] : []);\n  } else {\n    A(snapshot, \"managedPaths\", () => {\n      if (process.versions.pnp === \"3\") {\n        const match = /^(.+?)[\\\\/]cache[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(require.resolve(\"watchpack\"));\n        if (match) {\n          return [path.resolve(match[1], \"unplugged\")];\n        }\n      } else {\n        const match = /^(.+?[\\\\/]node_modules[\\\\/])/.exec(\n        // eslint-disable-next-line node/no-extraneous-require\n        require.resolve(\"watchpack\"));\n        if (match) {\n          return [match[1]];\n        }\n      }\n      return [];\n    });\n    A(snapshot, \"immutablePaths\", () => {\n      if (process.versions.pnp === \"1\") {\n        const match = /^(.+?[\\\\/]v4)[\\\\/]npm-watchpack-[^\\\\/]+-[\\da-f]{40}[\\\\/]node_modules[\\\\/]/.exec(require.resolve(\"watchpack\"));\n        if (match) {\n          return [match[1]];\n        }\n      } else if (process.versions.pnp === \"3\") {\n        const match = /^(.+?)[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(require.resolve(\"watchpack\"));\n        if (match) {\n          return [match[1]];\n        }\n      }\n      return [];\n    });\n  }\n  F(snapshot, \"resolveBuildDependencies\", () => ({\n    timestamp: true,\n    hash: true\n  }));\n  F(snapshot, \"buildDependencies\", () => ({\n    timestamp: true,\n    hash: true\n  }));\n  F(snapshot, \"module\", () => production ? {\n    timestamp: true,\n    hash: true\n  } : {\n    timestamp: true\n  });\n  F(snapshot, \"resolve\", () => production ? {\n    timestamp: true,\n    hash: true\n  } : {\n    timestamp: true\n  });\n};\n\n/**\r\n * @param {JavascriptParserOptions} parserOptions parser options\r\n * @param {Object} options options\r\n * @param {boolean} options.futureDefaults is future defaults enabled\r\n * @param {boolean} options.isNode is node target platform\r\n * @returns {void}\r\n */\nconst applyJavascriptParserOptionsDefaults = (parserOptions, _ref4) => {\n  let {\n    futureDefaults,\n    isNode\n  } = _ref4;\n  D(parserOptions, \"unknownContextRequest\", \".\");\n  D(parserOptions, \"unknownContextRegExp\", false);\n  D(parserOptions, \"unknownContextRecursive\", true);\n  D(parserOptions, \"unknownContextCritical\", true);\n  D(parserOptions, \"exprContextRequest\", \".\");\n  D(parserOptions, \"exprContextRegExp\", false);\n  D(parserOptions, \"exprContextRecursive\", true);\n  D(parserOptions, \"exprContextCritical\", true);\n  D(parserOptions, \"wrappedContextRegExp\", /.*/);\n  D(parserOptions, \"wrappedContextRecursive\", true);\n  D(parserOptions, \"wrappedContextCritical\", false);\n  D(parserOptions, \"strictThisContextOnImports\", false);\n  D(parserOptions, \"importMeta\", true);\n  D(parserOptions, \"dynamicImportMode\", \"lazy\");\n  D(parserOptions, \"dynamicImportPrefetch\", false);\n  D(parserOptions, \"dynamicImportPreload\", false);\n  D(parserOptions, \"createRequire\", isNode);\n  if (futureDefaults) D(parserOptions, \"exportsPresence\", \"error\");\n};\n\n/**\r\n * @param {ModuleOptions} module options\r\n * @param {Object} options options\r\n * @param {boolean} options.cache is caching enabled\r\n * @param {boolean} options.syncWebAssembly is syncWebAssembly enabled\r\n * @param {boolean} options.asyncWebAssembly is asyncWebAssembly enabled\r\n * @param {CssExperimentOptions|false} options.css is css enabled\r\n * @param {boolean} options.futureDefaults is future defaults enabled\r\n * @param {boolean} options.isNode is node target platform\r\n * @returns {void}\r\n */\nconst applyModuleDefaults = (module, _ref5) => {\n  let {\n    cache,\n    syncWebAssembly,\n    asyncWebAssembly,\n    css,\n    futureDefaults,\n    isNode\n  } = _ref5;\n  if (cache) {\n    D(module, \"unsafeCache\", module => {\n      const name = module.nameForCondition();\n      return name && NODE_MODULES_REGEXP.test(name);\n    });\n  } else {\n    D(module, \"unsafeCache\", false);\n  }\n  F(module.parser, \"asset\", () => ({}));\n  F(module.parser.asset, \"dataUrlCondition\", () => ({}));\n  if (typeof module.parser.asset.dataUrlCondition === \"object\") {\n    D(module.parser.asset.dataUrlCondition, \"maxSize\", 8096);\n  }\n  F(module.parser, \"javascript\", () => ({}));\n  applyJavascriptParserOptionsDefaults(module.parser.javascript, {\n    futureDefaults,\n    isNode\n  });\n  A(module, \"defaultRules\", () => {\n    const esm = {\n      type: \"javascript/esm\",\n      resolve: {\n        byDependency: {\n          esm: {\n            fullySpecified: true\n          }\n        }\n      }\n    };\n    const commonjs = {\n      type: \"javascript/dynamic\"\n    };\n    /** @type {RuleSetRules} */\n    const rules = [{\n      mimetype: \"application/node\",\n      type: \"javascript/auto\"\n    }, {\n      test: /\\.json$/i,\n      type: \"json\"\n    }, {\n      mimetype: \"application/json\",\n      type: \"json\"\n    }, {\n      test: /\\.mjs$/i,\n      ...esm\n    }, {\n      test: /\\.js$/i,\n      descriptionData: {\n        type: \"module\"\n      },\n      ...esm\n    }, {\n      test: /\\.cjs$/i,\n      ...commonjs\n    }, {\n      test: /\\.js$/i,\n      descriptionData: {\n        type: \"commonjs\"\n      },\n      ...commonjs\n    }, {\n      mimetype: {\n        or: [\"text/javascript\", \"application/javascript\"]\n      },\n      ...esm\n    }];\n    if (asyncWebAssembly) {\n      const wasm = {\n        type: \"webassembly/async\",\n        rules: [{\n          descriptionData: {\n            type: \"module\"\n          },\n          resolve: {\n            fullySpecified: true\n          }\n        }]\n      };\n      rules.push({\n        test: /\\.wasm$/i,\n        ...wasm\n      });\n      rules.push({\n        mimetype: \"application/wasm\",\n        ...wasm\n      });\n    } else if (syncWebAssembly) {\n      const wasm = {\n        type: \"webassembly/sync\",\n        rules: [{\n          descriptionData: {\n            type: \"module\"\n          },\n          resolve: {\n            fullySpecified: true\n          }\n        }]\n      };\n      rules.push({\n        test: /\\.wasm$/i,\n        ...wasm\n      });\n      rules.push({\n        mimetype: \"application/wasm\",\n        ...wasm\n      });\n    }\n    if (css) {\n      const cssRule = {\n        type: \"css\",\n        resolve: {\n          fullySpecified: true,\n          preferRelative: true\n        }\n      };\n      const cssModulesRule = {\n        type: \"css/module\",\n        resolve: {\n          fullySpecified: true\n        }\n      };\n      rules.push({\n        test: /\\.css$/i,\n        oneOf: [{\n          test: /\\.module\\.css$/i,\n          ...cssModulesRule\n        }, {\n          ...cssRule\n        }]\n      });\n      rules.push({\n        mimetype: \"text/css+module\",\n        ...cssModulesRule\n      });\n      rules.push({\n        mimetype: \"text/css\",\n        ...cssRule\n      });\n    }\n    rules.push({\n      dependency: \"url\",\n      oneOf: [{\n        scheme: /^data$/,\n        type: \"asset/inline\"\n      }, {\n        type: \"asset/resource\"\n      }]\n    }, {\n      assert: {\n        type: \"json\"\n      },\n      type: \"json\"\n    });\n    return rules;\n  });\n};\n\n/**\r\n * @param {Output} output options\r\n * @param {Object} options options\r\n * @param {string} options.context context\r\n * @param {TargetProperties | false} options.targetProperties target properties\r\n * @param {boolean} options.isAffectedByBrowserslist is affected by browserslist\r\n * @param {boolean} options.outputModule is outputModule experiment enabled\r\n * @param {boolean} options.development is development mode\r\n * @param {Entry} options.entry entry option\r\n * @param {ModuleOptions} options.module module option\r\n * @param {boolean} options.futureDefaults is future defaults enabled\r\n * @returns {void}\r\n */\nconst applyOutputDefaults = (output, _ref6) => {\n  let {\n    context,\n    targetProperties: tp,\n    isAffectedByBrowserslist,\n    outputModule,\n    development,\n    entry,\n    module,\n    futureDefaults\n  } = _ref6;\n  /**\r\n   * @param {Library=} library the library option\r\n   * @returns {string} a readable library name\r\n   */\n  const getLibraryName = library => {\n    const libraryName = typeof library === \"object\" && library && !Array.isArray(library) && \"type\" in library ? library.name : /** @type {LibraryName=} */library;\n    if (Array.isArray(libraryName)) {\n      return libraryName.join(\".\");\n    } else if (typeof libraryName === \"object\") {\n      return getLibraryName(libraryName.root);\n    } else if (typeof libraryName === \"string\") {\n      return libraryName;\n    }\n    return \"\";\n  };\n  F(output, \"uniqueName\", () => {\n    const libraryName = getLibraryName(output.library).replace(/^\\[(\\\\*[\\w:]+\\\\*)\\](\\.)|(\\.)\\[(\\\\*[\\w:]+\\\\*)\\](?=\\.|$)|\\[(\\\\*[\\w:]+\\\\*)\\]/g, (m, a, d1, d2, b, c) => {\n      const content = a || b || c;\n      return content.startsWith(\"\\\\\") && content.endsWith(\"\\\\\") ? `${d2 || \"\"}[${content.slice(1, -1)}]${d1 || \"\"}` : \"\";\n    });\n    if (libraryName) return libraryName;\n    const pkgPath = path.resolve(context, \"package.json\");\n    try {\n      const packageInfo = JSON.parse(fs.readFileSync(pkgPath, \"utf-8\"));\n      return packageInfo.name || \"\";\n    } catch (e) {\n      if (e.code !== \"ENOENT\") {\n        e.message += `\\nwhile determining default 'output.uniqueName' from 'name' in ${pkgPath}`;\n        throw e;\n      }\n      return \"\";\n    }\n  });\n  F(output, \"module\", () => !!outputModule);\n  D(output, \"filename\", output.module ? \"[name].mjs\" : \"[name].js\");\n  F(output, \"iife\", () => !output.module);\n  D(output, \"importFunctionName\", \"import\");\n  D(output, \"importMetaName\", \"import.meta\");\n  F(output, \"chunkFilename\", () => {\n    const filename = output.filename;\n    if (typeof filename !== \"function\") {\n      const hasName = filename.includes(\"[name]\");\n      const hasId = filename.includes(\"[id]\");\n      const hasChunkHash = filename.includes(\"[chunkhash]\");\n      const hasContentHash = filename.includes(\"[contenthash]\");\n      // Anything changing depending on chunk is fine\n      if (hasChunkHash || hasContentHash || hasName || hasId) return filename;\n      // Otherwise prefix \"[id].\" in front of the basename to make it changing\n      return filename.replace(/(^|\\/)([^/]*(?:\\?|$))/, \"$1[id].$2\");\n    }\n    return output.module ? \"[id].mjs\" : \"[id].js\";\n  });\n  F(output, \"cssFilename\", () => {\n    const filename = output.filename;\n    if (typeof filename !== \"function\") {\n      return filename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n    }\n    return \"[id].css\";\n  });\n  F(output, \"cssChunkFilename\", () => {\n    const chunkFilename = output.chunkFilename;\n    if (typeof chunkFilename !== \"function\") {\n      return chunkFilename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\n    }\n    return \"[id].css\";\n  });\n  D(output, \"assetModuleFilename\", \"[hash][ext][query]\");\n  D(output, \"webassemblyModuleFilename\", \"[hash].module.wasm\");\n  D(output, \"compareBeforeEmit\", true);\n  D(output, \"charset\", true);\n  F(output, \"hotUpdateGlobal\", () => Template.toIdentifier(\"webpackHotUpdate\" + Template.toIdentifier(output.uniqueName)));\n  F(output, \"chunkLoadingGlobal\", () => Template.toIdentifier(\"webpackChunk\" + Template.toIdentifier(output.uniqueName)));\n  F(output, \"globalObject\", () => {\n    if (tp) {\n      if (tp.global) return \"global\";\n      if (tp.globalThis) return \"globalThis\";\n    }\n    return \"self\";\n  });\n  F(output, \"chunkFormat\", () => {\n    if (tp) {\n      const helpMessage = isAffectedByBrowserslist ? \"Make sure that your 'browserslist' includes only platforms that support these features or select an appropriate 'target' to allow selecting a chunk format by default. Alternatively specify the 'output.chunkFormat' directly.\" : \"Select an appropriate 'target' to allow selecting one by default, or specify the 'output.chunkFormat' directly.\";\n      if (output.module) {\n        if (tp.dynamicImport) return \"module\";\n        if (tp.document) return \"array-push\";\n        throw new Error(\"For the selected environment is no default ESM chunk format available:\\n\" + \"ESM exports can be chosen when 'import()' is available.\\n\" + \"JSONP Array push can be chosen when 'document' is available.\\n\" + helpMessage);\n      } else {\n        if (tp.document) return \"array-push\";\n        if (tp.require) return \"commonjs\";\n        if (tp.nodeBuiltins) return \"commonjs\";\n        if (tp.importScripts) return \"array-push\";\n        throw new Error(\"For the selected environment is no default script chunk format available:\\n\" + \"JSONP Array push can be chosen when 'document' or 'importScripts' is available.\\n\" + \"CommonJs exports can be chosen when 'require' or node builtins are available.\\n\" + helpMessage);\n      }\n    }\n    throw new Error(\"Chunk format can't be selected by default when no target is specified\");\n  });\n  D(output, \"asyncChunks\", true);\n  F(output, \"chunkLoading\", () => {\n    if (tp) {\n      switch (output.chunkFormat) {\n        case \"array-push\":\n          if (tp.document) return \"jsonp\";\n          if (tp.importScripts) return \"import-scripts\";\n          break;\n        case \"commonjs\":\n          if (tp.require) return \"require\";\n          if (tp.nodeBuiltins) return \"async-node\";\n          break;\n        case \"module\":\n          if (tp.dynamicImport) return \"import\";\n          break;\n      }\n      if (tp.require === null || tp.nodeBuiltins === null || tp.document === null || tp.importScripts === null) {\n        return \"universal\";\n      }\n    }\n    return false;\n  });\n  F(output, \"workerChunkLoading\", () => {\n    if (tp) {\n      switch (output.chunkFormat) {\n        case \"array-push\":\n          if (tp.importScriptsInWorker) return \"import-scripts\";\n          break;\n        case \"commonjs\":\n          if (tp.require) return \"require\";\n          if (tp.nodeBuiltins) return \"async-node\";\n          break;\n        case \"module\":\n          if (tp.dynamicImportInWorker) return \"import\";\n          break;\n      }\n      if (tp.require === null || tp.nodeBuiltins === null || tp.importScriptsInWorker === null) {\n        return \"universal\";\n      }\n    }\n    return false;\n  });\n  F(output, \"wasmLoading\", () => {\n    if (tp) {\n      if (tp.fetchWasm) return \"fetch\";\n      if (tp.nodeBuiltins) return output.module ? \"async-node-module\" : \"async-node\";\n      if (tp.nodeBuiltins === null || tp.fetchWasm === null) {\n        return \"universal\";\n      }\n    }\n    return false;\n  });\n  F(output, \"workerWasmLoading\", () => output.wasmLoading);\n  F(output, \"devtoolNamespace\", () => output.uniqueName);\n  if (output.library) {\n    F(output.library, \"type\", () => output.module ? \"module\" : \"var\");\n  }\n  F(output, \"path\", () => path.join(process.cwd(), \"dist\"));\n  F(output, \"pathinfo\", () => development);\n  D(output, \"sourceMapFilename\", \"[file].map[query]\");\n  D(output, \"hotUpdateChunkFilename\", `[id].[fullhash].hot-update.${output.module ? \"mjs\" : \"js\"}`);\n  D(output, \"hotUpdateMainFilename\", \"[runtime].[fullhash].hot-update.json\");\n  D(output, \"crossOriginLoading\", false);\n  F(output, \"scriptType\", () => output.module ? \"module\" : false);\n  D(output, \"publicPath\", tp && (tp.document || tp.importScripts) || output.scriptType === \"module\" ? \"auto\" : \"\");\n  D(output, \"chunkLoadTimeout\", 120000);\n  D(output, \"hashFunction\", futureDefaults ? \"xxhash64\" : \"md4\");\n  D(output, \"hashDigest\", \"hex\");\n  D(output, \"hashDigestLength\", futureDefaults ? 16 : 20);\n  D(output, \"strictModuleExceptionHandling\", false);\n  const optimistic = v => v || v === undefined;\n  const conditionallyOptimistic = (v, c) => v === undefined && c || v;\n  F(output.environment, \"arrowFunction\", () => tp && optimistic(tp.arrowFunction));\n  F(output.environment, \"const\", () => tp && optimistic(tp.const));\n  F(output.environment, \"destructuring\", () => tp && optimistic(tp.destructuring));\n  F(output.environment, \"forOf\", () => tp && optimistic(tp.forOf));\n  F(output.environment, \"bigIntLiteral\", () => tp && tp.bigIntLiteral);\n  F(output.environment, \"dynamicImport\", () => conditionallyOptimistic(tp && tp.dynamicImport, output.module));\n  F(output.environment, \"module\", () => conditionallyOptimistic(tp && tp.module, output.module));\n  const {\n    trustedTypes\n  } = output;\n  if (trustedTypes) {\n    F(trustedTypes, \"policyName\", () => output.uniqueName.replace(/[^a-zA-Z0-9\\-#=_/@.%]+/g, \"_\") || \"webpack\");\n  }\n\n  /**\r\n   * @param {function(EntryDescription): void} fn iterator\r\n   * @returns {void}\r\n   */\n  const forEachEntry = fn => {\n    for (const name of Object.keys(entry)) {\n      fn(entry[name]);\n    }\n  };\n  A(output, \"enabledLibraryTypes\", () => {\n    const enabledLibraryTypes = [];\n    if (output.library) {\n      enabledLibraryTypes.push(output.library.type);\n    }\n    forEachEntry(desc => {\n      if (desc.library) {\n        enabledLibraryTypes.push(desc.library.type);\n      }\n    });\n    return enabledLibraryTypes;\n  });\n  A(output, \"enabledChunkLoadingTypes\", () => {\n    const enabledChunkLoadingTypes = new Set();\n    if (output.chunkLoading) {\n      enabledChunkLoadingTypes.add(output.chunkLoading);\n    }\n    if (output.workerChunkLoading) {\n      enabledChunkLoadingTypes.add(output.workerChunkLoading);\n    }\n    forEachEntry(desc => {\n      if (desc.chunkLoading) {\n        enabledChunkLoadingTypes.add(desc.chunkLoading);\n      }\n    });\n    return Array.from(enabledChunkLoadingTypes);\n  });\n  A(output, \"enabledWasmLoadingTypes\", () => {\n    const enabledWasmLoadingTypes = new Set();\n    if (output.wasmLoading) {\n      enabledWasmLoadingTypes.add(output.wasmLoading);\n    }\n    if (output.workerWasmLoading) {\n      enabledWasmLoadingTypes.add(output.workerWasmLoading);\n    }\n    forEachEntry(desc => {\n      if (desc.wasmLoading) {\n        enabledWasmLoadingTypes.add(desc.wasmLoading);\n      }\n    });\n    return Array.from(enabledWasmLoadingTypes);\n  });\n};\n\n/**\r\n * @param {ExternalsPresets} externalsPresets options\r\n * @param {Object} options options\r\n * @param {TargetProperties | false} options.targetProperties target properties\r\n * @param {boolean} options.buildHttp buildHttp experiment enabled\r\n * @returns {void}\r\n */\nconst applyExternalsPresetsDefaults = (externalsPresets, _ref7) => {\n  let {\n    targetProperties,\n    buildHttp\n  } = _ref7;\n  D(externalsPresets, \"web\", !buildHttp && targetProperties && targetProperties.web);\n  D(externalsPresets, \"node\", targetProperties && targetProperties.node);\n  D(externalsPresets, \"nwjs\", targetProperties && targetProperties.nwjs);\n  D(externalsPresets, \"electron\", targetProperties && targetProperties.electron);\n  D(externalsPresets, \"electronMain\", targetProperties && targetProperties.electron && targetProperties.electronMain);\n  D(externalsPresets, \"electronPreload\", targetProperties && targetProperties.electron && targetProperties.electronPreload);\n  D(externalsPresets, \"electronRenderer\", targetProperties && targetProperties.electron && targetProperties.electronRenderer);\n};\n\n/**\r\n * @param {Loader} loader options\r\n * @param {Object} options options\r\n * @param {TargetProperties | false} options.targetProperties target properties\r\n * @returns {void}\r\n */\nconst applyLoaderDefaults = (loader, _ref8) => {\n  let {\n    targetProperties\n  } = _ref8;\n  F(loader, \"target\", () => {\n    if (targetProperties) {\n      if (targetProperties.electron) {\n        if (targetProperties.electronMain) return \"electron-main\";\n        if (targetProperties.electronPreload) return \"electron-preload\";\n        if (targetProperties.electronRenderer) return \"electron-renderer\";\n        return \"electron\";\n      }\n      if (targetProperties.nwjs) return \"nwjs\";\n      if (targetProperties.node) return \"node\";\n      if (targetProperties.web) return \"web\";\n    }\n  });\n};\n\n/**\r\n * @param {WebpackNode} node options\r\n * @param {Object} options options\r\n * @param {TargetProperties | false} options.targetProperties target properties\r\n * @param {boolean} options.futureDefaults is future defaults enabled\r\n * @returns {void}\r\n */\nconst applyNodeDefaults = (node, _ref9) => {\n  let {\n    futureDefaults,\n    targetProperties\n  } = _ref9;\n  if (node === false) return;\n  F(node, \"global\", () => {\n    if (targetProperties && targetProperties.global) return false;\n    // TODO webpack 6 should always default to false\n    return futureDefaults ? \"warn\" : true;\n  });\n  F(node, \"__filename\", () => {\n    if (targetProperties && targetProperties.node) return \"eval-only\";\n    // TODO webpack 6 should always default to false\n    return futureDefaults ? \"warn-mock\" : \"mock\";\n  });\n  F(node, \"__dirname\", () => {\n    if (targetProperties && targetProperties.node) return \"eval-only\";\n    // TODO webpack 6 should always default to false\n    return futureDefaults ? \"warn-mock\" : \"mock\";\n  });\n};\n\n/**\r\n * @param {Performance} performance options\r\n * @param {Object} options options\r\n * @param {boolean} options.production is production\r\n * @returns {void}\r\n */\nconst applyPerformanceDefaults = (performance, _ref10) => {\n  let {\n    production\n  } = _ref10;\n  if (performance === false) return;\n  D(performance, \"maxAssetSize\", 250000);\n  D(performance, \"maxEntrypointSize\", 250000);\n  F(performance, \"hints\", () => production ? \"warning\" : false);\n};\n\n/**\r\n * @param {Optimization} optimization options\r\n * @param {Object} options options\r\n * @param {boolean} options.production is production\r\n * @param {boolean} options.development is development\r\n * @param {CssExperimentOptions|false} options.css is css enabled\r\n * @param {boolean} options.records using records\r\n * @returns {void}\r\n */\nconst applyOptimizationDefaults = (optimization, _ref11) => {\n  let {\n    production,\n    development,\n    css,\n    records\n  } = _ref11;\n  D(optimization, \"removeAvailableModules\", false);\n  D(optimization, \"removeEmptyChunks\", true);\n  D(optimization, \"mergeDuplicateChunks\", true);\n  D(optimization, \"flagIncludedChunks\", production);\n  F(optimization, \"moduleIds\", () => {\n    if (production) return \"deterministic\";\n    if (development) return \"named\";\n    return \"natural\";\n  });\n  F(optimization, \"chunkIds\", () => {\n    if (production) return \"deterministic\";\n    if (development) return \"named\";\n    return \"natural\";\n  });\n  F(optimization, \"sideEffects\", () => production ? true : \"flag\");\n  D(optimization, \"providedExports\", true);\n  D(optimization, \"usedExports\", production);\n  D(optimization, \"innerGraph\", production);\n  D(optimization, \"mangleExports\", production);\n  D(optimization, \"concatenateModules\", production);\n  D(optimization, \"runtimeChunk\", false);\n  D(optimization, \"emitOnErrors\", !production);\n  D(optimization, \"checkWasmTypes\", production);\n  D(optimization, \"mangleWasmImports\", false);\n  D(optimization, \"portableRecords\", records);\n  D(optimization, \"realContentHash\", production);\n  D(optimization, \"minimize\", production);\n  A(optimization, \"minimizer\", () => [{\n    apply: compiler => {\n      // Lazy load the Terser plugin\n      const TerserPlugin = require(\"terser-webpack-plugin\");\n      new TerserPlugin({\n        terserOptions: {\n          compress: {\n            passes: 2\n          }\n        }\n      }).apply(compiler);\n    }\n  }]);\n  F(optimization, \"nodeEnv\", () => {\n    if (production) return \"production\";\n    if (development) return \"development\";\n    return false;\n  });\n  const {\n    splitChunks\n  } = optimization;\n  if (splitChunks) {\n    A(splitChunks, \"defaultSizeTypes\", () => css ? [\"javascript\", \"css\", \"unknown\"] : [\"javascript\", \"unknown\"]);\n    D(splitChunks, \"hidePathInfo\", production);\n    D(splitChunks, \"chunks\", \"async\");\n    D(splitChunks, \"usedExports\", optimization.usedExports === true);\n    D(splitChunks, \"minChunks\", 1);\n    F(splitChunks, \"minSize\", () => production ? 20000 : 10000);\n    F(splitChunks, \"minRemainingSize\", () => development ? 0 : undefined);\n    F(splitChunks, \"enforceSizeThreshold\", () => production ? 50000 : 30000);\n    F(splitChunks, \"maxAsyncRequests\", () => production ? 30 : Infinity);\n    F(splitChunks, \"maxInitialRequests\", () => production ? 30 : Infinity);\n    D(splitChunks, \"automaticNameDelimiter\", \"-\");\n    const {\n      cacheGroups\n    } = splitChunks;\n    F(cacheGroups, \"default\", () => ({\n      idHint: \"\",\n      reuseExistingChunk: true,\n      minChunks: 2,\n      priority: -20\n    }));\n    F(cacheGroups, \"defaultVendors\", () => ({\n      idHint: \"vendors\",\n      reuseExistingChunk: true,\n      test: NODE_MODULES_REGEXP,\n      priority: -10\n    }));\n  }\n};\n\n/**\r\n * @param {Object} options options\r\n * @param {boolean} options.cache is cache enable\r\n * @param {string} options.context build context\r\n * @param {TargetProperties | false} options.targetProperties target properties\r\n * @param {Mode} options.mode mode\r\n * @returns {ResolveOptions} resolve options\r\n */\nconst getResolveDefaults = _ref12 => {\n  let {\n    cache,\n    context,\n    targetProperties,\n    mode\n  } = _ref12;\n  /** @type {string[]} */\n  const conditions = [\"webpack\"];\n  conditions.push(mode === \"development\" ? \"development\" : \"production\");\n  if (targetProperties) {\n    if (targetProperties.webworker) conditions.push(\"worker\");\n    if (targetProperties.node) conditions.push(\"node\");\n    if (targetProperties.web) conditions.push(\"browser\");\n    if (targetProperties.electron) conditions.push(\"electron\");\n    if (targetProperties.nwjs) conditions.push(\"nwjs\");\n  }\n  const jsExtensions = [\".js\", \".json\", \".wasm\"];\n  const tp = targetProperties;\n  const browserField = tp && tp.web && (!tp.node || tp.electron && tp.electronRenderer);\n\n  /** @type {function(): ResolveOptions} */\n  const cjsDeps = () => ({\n    aliasFields: browserField ? [\"browser\"] : [],\n    mainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n    conditionNames: [\"require\", \"module\", \"...\"],\n    extensions: [...jsExtensions]\n  });\n  /** @type {function(): ResolveOptions} */\n  const esmDeps = () => ({\n    aliasFields: browserField ? [\"browser\"] : [],\n    mainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\n    conditionNames: [\"import\", \"module\", \"...\"],\n    extensions: [...jsExtensions]\n  });\n\n  /** @type {ResolveOptions} */\n  const resolveOptions = {\n    cache,\n    modules: [\"node_modules\"],\n    conditionNames: conditions,\n    mainFiles: [\"index\"],\n    extensions: [],\n    aliasFields: [],\n    exportsFields: [\"exports\"],\n    roots: [context],\n    mainFields: [\"main\"],\n    byDependency: {\n      wasm: esmDeps(),\n      esm: esmDeps(),\n      loaderImport: esmDeps(),\n      url: {\n        preferRelative: true\n      },\n      worker: {\n        ...esmDeps(),\n        preferRelative: true\n      },\n      commonjs: cjsDeps(),\n      amd: cjsDeps(),\n      // for backward-compat: loadModule\n      loader: cjsDeps(),\n      // for backward-compat: Custom Dependency\n      unknown: cjsDeps(),\n      // for backward-compat: getResolve without dependencyType\n      undefined: cjsDeps()\n    }\n  };\n  return resolveOptions;\n};\n\n/**\r\n * @param {Object} options options\r\n * @param {boolean} options.cache is cache enable\r\n * @returns {ResolveOptions} resolve options\r\n */\nconst getResolveLoaderDefaults = _ref13 => {\n  let {\n    cache\n  } = _ref13;\n  /** @type {ResolveOptions} */\n  const resolveOptions = {\n    cache,\n    conditionNames: [\"loader\", \"require\", \"node\"],\n    exportsFields: [\"exports\"],\n    mainFields: [\"loader\", \"main\"],\n    extensions: [\".js\"],\n    mainFiles: [\"index\"]\n  };\n  return resolveOptions;\n};\n\n/**\r\n * @param {InfrastructureLogging} infrastructureLogging options\r\n * @returns {void}\r\n */\nconst applyInfrastructureLoggingDefaults = infrastructureLogging => {\n  F(infrastructureLogging, \"stream\", () => process.stderr);\n  const tty = /** @type {any} */infrastructureLogging.stream.isTTY && process.env.TERM !== \"dumb\";\n  D(infrastructureLogging, \"level\", \"info\");\n  D(infrastructureLogging, \"debug\", false);\n  D(infrastructureLogging, \"colors\", tty);\n  D(infrastructureLogging, \"appendOnly\", !tty);\n};\nexports.applyWebpackOptionsBaseDefaults = applyWebpackOptionsBaseDefaults;\nexports.applyWebpackOptionsDefaults = applyWebpackOptionsDefaults;","map":{"version":3,"names":["fs","require","path","Template","cleverMerge","getTargetsProperties","getTargetProperties","getDefaultTarget","NODE_MODULES_REGEXP","D","obj","prop","value","undefined","F","factory","A","Array","isArray","newArray","i","length","item","slice","items","push","applyWebpackOptionsBaseDefaults","options","process","cwd","applyInfrastructureLoggingDefaults","infrastructureLogging","applyWebpackOptionsDefaults","context","mode","name","target","targetProperties","development","production","entry","key","Object","keys","applyExperimentsDefaults","experiments","futureDefaults","type","applyCacheDefaults","cache","cacheUnaffected","applySnapshotDefaults","snapshot","applyModuleDefaults","module","syncWebAssembly","asyncWebAssembly","css","isNode","node","applyOutputDefaults","output","isAffectedByBrowserslist","startsWith","some","outputModule","applyExternalsPresetsDefaults","externalsPresets","buildHttp","applyLoaderDefaults","loader","validExternalTypes","definitions","ExternalsType","enum","library","includes","applyNodeDefaults","browser","applyPerformanceDefaults","performance","applyOptimizationDefaults","optimization","records","recordsInputPath","recordsOutputPath","resolve","getResolveDefaults","resolveLoader","getResolveLoaderDefaults","document","dir","statSync","join","isFile","e","parent","dirname","versions","pnp","cacheDirectory","Infinity","buildDependencies","__dirname","sep","match","exec","timestamp","hash","applyJavascriptParserOptionsDefaults","parserOptions","nameForCondition","test","parser","asset","dataUrlCondition","javascript","esm","byDependency","fullySpecified","commonjs","rules","mimetype","descriptionData","or","wasm","cssRule","preferRelative","cssModulesRule","oneOf","dependency","scheme","assert","tp","getLibraryName","libraryName","root","replace","m","a","d1","d2","b","c","content","endsWith","pkgPath","packageInfo","JSON","parse","readFileSync","code","message","filename","hasName","hasId","hasChunkHash","hasContentHash","chunkFilename","toIdentifier","uniqueName","global","globalThis","helpMessage","dynamicImport","Error","nodeBuiltins","importScripts","chunkFormat","importScriptsInWorker","dynamicImportInWorker","fetchWasm","wasmLoading","scriptType","optimistic","v","conditionallyOptimistic","environment","arrowFunction","const","destructuring","forOf","bigIntLiteral","trustedTypes","forEachEntry","fn","enabledLibraryTypes","desc","enabledChunkLoadingTypes","Set","chunkLoading","add","workerChunkLoading","from","enabledWasmLoadingTypes","workerWasmLoading","web","nwjs","electron","electronMain","electronPreload","electronRenderer","apply","compiler","TerserPlugin","terserOptions","compress","passes","splitChunks","usedExports","cacheGroups","idHint","reuseExistingChunk","minChunks","priority","conditions","webworker","jsExtensions","browserField","cjsDeps","aliasFields","mainFields","conditionNames","extensions","esmDeps","resolveOptions","modules","mainFiles","exportsFields","roots","loaderImport","url","worker","amd","unknown","stderr","tty","stream","isTTY","env","TERM","exports"],"sources":["C:/Users/91930/Desktop/Github projects/Pharmacy Demo/front-end/node_modules/webpack/lib/config/defaults.js"],"sourcesContent":["/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n\r\n\"use strict\";\r\n\r\nconst fs = require(\"fs\");\r\nconst path = require(\"path\");\r\nconst Template = require(\"../Template\");\r\nconst { cleverMerge } = require(\"../util/cleverMerge\");\r\nconst {\r\n\tgetTargetsProperties,\r\n\tgetTargetProperties,\r\n\tgetDefaultTarget\r\n} = require(\"./target\");\r\n\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").CacheOptionsNormalized} CacheOptions */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").CssExperimentOptions} CssExperimentOptions */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryDescription} EntryDescription */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").EntryNormalized} Entry */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").Experiments} Experiments */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExperimentsNormalized} ExperimentsNormalized */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsPresets} ExternalsPresets */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").ExternalsType} ExternalsType */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").InfrastructureLogging} InfrastructureLogging */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").JavascriptParserOptions} JavascriptParserOptions */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").Library} Library */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryName} LibraryName */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").LibraryOptions} LibraryOptions */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").Loader} Loader */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").Mode} Mode */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").ModuleOptionsNormalized} ModuleOptions */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").Node} WebpackNode */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").Optimization} Optimization */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").OutputNormalized} Output */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").Performance} Performance */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").ResolveOptions} ResolveOptions */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").RuleSetRules} RuleSetRules */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").SnapshotOptions} SnapshotOptions */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").Target} Target */\r\n/** @typedef {import(\"../../declarations/WebpackOptions\").WebpackOptionsNormalized} WebpackOptions */\r\n/** @typedef {import(\"./target\").TargetProperties} TargetProperties */\r\n\r\nconst NODE_MODULES_REGEXP = /[\\\\/]node_modules[\\\\/]/i;\r\n\r\n/**\r\n * Sets a constant default value when undefined\r\n * @template T\r\n * @template {keyof T} P\r\n * @param {T} obj an object\r\n * @param {P} prop a property of this object\r\n * @param {T[P]} value a default value of the property\r\n * @returns {void}\r\n */\r\nconst D = (obj, prop, value) => {\r\n\tif (obj[prop] === undefined) {\r\n\t\tobj[prop] = value;\r\n\t}\r\n};\r\n\r\n/**\r\n * Sets a dynamic default value when undefined, by calling the factory function\r\n * @template T\r\n * @template {keyof T} P\r\n * @param {T} obj an object\r\n * @param {P} prop a property of this object\r\n * @param {function(): T[P]} factory a default value factory for the property\r\n * @returns {void}\r\n */\r\nconst F = (obj, prop, factory) => {\r\n\tif (obj[prop] === undefined) {\r\n\t\tobj[prop] = factory();\r\n\t}\r\n};\r\n\r\n/**\r\n * Sets a dynamic default value when undefined, by calling the factory function.\r\n * factory must return an array or undefined\r\n * When the current value is already an array an contains \"...\" it's replaced with\r\n * the result of the factory function\r\n * @template T\r\n * @template {keyof T} P\r\n * @param {T} obj an object\r\n * @param {P} prop a property of this object\r\n * @param {function(): T[P]} factory a default value factory for the property\r\n * @returns {void}\r\n */\r\nconst A = (obj, prop, factory) => {\r\n\tconst value = obj[prop];\r\n\tif (value === undefined) {\r\n\t\tobj[prop] = factory();\r\n\t} else if (Array.isArray(value)) {\r\n\t\t/** @type {any[]} */\r\n\t\tlet newArray = undefined;\r\n\t\tfor (let i = 0; i < value.length; i++) {\r\n\t\t\tconst item = value[i];\r\n\t\t\tif (item === \"...\") {\r\n\t\t\t\tif (newArray === undefined) {\r\n\t\t\t\t\tnewArray = value.slice(0, i);\r\n\t\t\t\t\tobj[prop] = /** @type {T[P]} */ (/** @type {unknown} */ (newArray));\r\n\t\t\t\t}\r\n\t\t\t\tconst items = /** @type {any[]} */ (/** @type {unknown} */ (factory()));\r\n\t\t\t\tif (items !== undefined) {\r\n\t\t\t\t\tfor (const item of items) {\r\n\t\t\t\t\t\tnewArray.push(item);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else if (newArray !== undefined) {\r\n\t\t\t\tnewArray.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n};\r\n\r\n/**\r\n * @param {WebpackOptions} options options to be modified\r\n * @returns {void}\r\n */\r\nconst applyWebpackOptionsBaseDefaults = options => {\r\n\tF(options, \"context\", () => process.cwd());\r\n\tapplyInfrastructureLoggingDefaults(options.infrastructureLogging);\r\n};\r\n\r\n/**\r\n * @param {WebpackOptions} options options to be modified\r\n * @returns {void}\r\n */\r\nconst applyWebpackOptionsDefaults = options => {\r\n\tF(options, \"context\", () => process.cwd());\r\n\tF(options, \"target\", () => {\r\n\t\treturn getDefaultTarget(options.context);\r\n\t});\r\n\r\n\tconst { mode, name, target } = options;\r\n\r\n\tlet targetProperties =\r\n\t\ttarget === false\r\n\t\t\t? /** @type {false} */ (false)\r\n\t\t\t: typeof target === \"string\"\r\n\t\t\t? getTargetProperties(target, options.context)\r\n\t\t\t: getTargetsProperties(target, options.context);\r\n\r\n\tconst development = mode === \"development\";\r\n\tconst production = mode === \"production\" || !mode;\r\n\r\n\tif (typeof options.entry !== \"function\") {\r\n\t\tfor (const key of Object.keys(options.entry)) {\r\n\t\t\tF(\r\n\t\t\t\toptions.entry[key],\r\n\t\t\t\t\"import\",\r\n\t\t\t\t() => /** @type {[string]} */ ([\"./src\"])\r\n\t\t\t);\r\n\t\t}\r\n\t}\r\n\r\n\tF(options, \"devtool\", () => (development ? \"eval\" : false));\r\n\tD(options, \"watch\", false);\r\n\tD(options, \"profile\", false);\r\n\tD(options, \"parallelism\", 100);\r\n\tD(options, \"recordsInputPath\", false);\r\n\tD(options, \"recordsOutputPath\", false);\r\n\r\n\tapplyExperimentsDefaults(options.experiments, {\r\n\t\tproduction,\r\n\t\tdevelopment,\r\n\t\ttargetProperties\r\n\t});\r\n\r\n\tconst futureDefaults = options.experiments.futureDefaults;\r\n\r\n\tF(options, \"cache\", () =>\r\n\t\tdevelopment ? { type: /** @type {\"memory\"} */ (\"memory\") } : false\r\n\t);\r\n\tapplyCacheDefaults(options.cache, {\r\n\t\tname: name || \"default\",\r\n\t\tmode: mode || \"production\",\r\n\t\tdevelopment,\r\n\t\tcacheUnaffected: options.experiments.cacheUnaffected\r\n\t});\r\n\tconst cache = !!options.cache;\r\n\r\n\tapplySnapshotDefaults(options.snapshot, {\r\n\t\tproduction,\r\n\t\tfutureDefaults\r\n\t});\r\n\r\n\tapplyModuleDefaults(options.module, {\r\n\t\tcache,\r\n\t\tsyncWebAssembly: options.experiments.syncWebAssembly,\r\n\t\tasyncWebAssembly: options.experiments.asyncWebAssembly,\r\n\t\tcss: options.experiments.css,\r\n\t\tfutureDefaults,\r\n\t\tisNode: targetProperties && targetProperties.node === true\r\n\t});\r\n\r\n\tapplyOutputDefaults(options.output, {\r\n\t\tcontext: options.context,\r\n\t\ttargetProperties,\r\n\t\tisAffectedByBrowserslist:\r\n\t\t\ttarget === undefined ||\r\n\t\t\t(typeof target === \"string\" && target.startsWith(\"browserslist\")) ||\r\n\t\t\t(Array.isArray(target) &&\r\n\t\t\t\ttarget.some(target => target.startsWith(\"browserslist\"))),\r\n\t\toutputModule: options.experiments.outputModule,\r\n\t\tdevelopment,\r\n\t\tentry: options.entry,\r\n\t\tmodule: options.module,\r\n\t\tfutureDefaults\r\n\t});\r\n\r\n\tapplyExternalsPresetsDefaults(options.externalsPresets, {\r\n\t\ttargetProperties,\r\n\t\tbuildHttp: !!options.experiments.buildHttp\r\n\t});\r\n\r\n\tapplyLoaderDefaults(options.loader, { targetProperties });\r\n\r\n\tF(options, \"externalsType\", () => {\r\n\t\tconst validExternalTypes = require(\"../../schemas/WebpackOptions.json\")\r\n\t\t\t.definitions.ExternalsType.enum;\r\n\t\treturn options.output.library &&\r\n\t\t\tvalidExternalTypes.includes(options.output.library.type)\r\n\t\t\t? /** @type {ExternalsType} */ (options.output.library.type)\r\n\t\t\t: options.output.module\r\n\t\t\t? \"module\"\r\n\t\t\t: \"var\";\r\n\t});\r\n\r\n\tapplyNodeDefaults(options.node, {\r\n\t\tfutureDefaults: options.experiments.futureDefaults,\r\n\t\ttargetProperties\r\n\t});\r\n\r\n\tF(options, \"performance\", () =>\r\n\t\tproduction &&\r\n\t\ttargetProperties &&\r\n\t\t(targetProperties.browser || targetProperties.browser === null)\r\n\t\t\t? {}\r\n\t\t\t: false\r\n\t);\r\n\tapplyPerformanceDefaults(options.performance, {\r\n\t\tproduction\r\n\t});\r\n\r\n\tapplyOptimizationDefaults(options.optimization, {\r\n\t\tdevelopment,\r\n\t\tproduction,\r\n\t\tcss: options.experiments.css,\r\n\t\trecords: !!(options.recordsInputPath || options.recordsOutputPath)\r\n\t});\r\n\r\n\toptions.resolve = cleverMerge(\r\n\t\tgetResolveDefaults({\r\n\t\t\tcache,\r\n\t\t\tcontext: options.context,\r\n\t\t\ttargetProperties,\r\n\t\t\tmode: options.mode\r\n\t\t}),\r\n\t\toptions.resolve\r\n\t);\r\n\r\n\toptions.resolveLoader = cleverMerge(\r\n\t\tgetResolveLoaderDefaults({ cache }),\r\n\t\toptions.resolveLoader\r\n\t);\r\n};\r\n\r\n/**\r\n * @param {ExperimentsNormalized} experiments options\r\n * @param {Object} options options\r\n * @param {boolean} options.production is production\r\n * @param {boolean} options.development is development mode\r\n * @param {TargetProperties | false} options.targetProperties target properties\r\n * @returns {void}\r\n */\r\nconst applyExperimentsDefaults = (\r\n\texperiments,\r\n\t{ production, development, targetProperties }\r\n) => {\r\n\tD(experiments, \"futureDefaults\", false);\r\n\tD(experiments, \"backCompat\", !experiments.futureDefaults);\r\n\tD(experiments, \"topLevelAwait\", experiments.futureDefaults);\r\n\tD(experiments, \"syncWebAssembly\", false);\r\n\tD(experiments, \"asyncWebAssembly\", experiments.futureDefaults);\r\n\tD(experiments, \"outputModule\", false);\r\n\tD(experiments, \"layers\", false);\r\n\tD(experiments, \"lazyCompilation\", undefined);\r\n\tD(experiments, \"buildHttp\", undefined);\r\n\tD(experiments, \"cacheUnaffected\", experiments.futureDefaults);\r\n\tF(experiments, \"css\", () => (experiments.futureDefaults ? {} : undefined));\r\n\r\n\tif (typeof experiments.buildHttp === \"object\") {\r\n\t\tD(experiments.buildHttp, \"frozen\", production);\r\n\t\tD(experiments.buildHttp, \"upgrade\", false);\r\n\t}\r\n\r\n\tif (typeof experiments.css === \"object\") {\r\n\t\tD(\r\n\t\t\texperiments.css,\r\n\t\t\t\"exportsOnly\",\r\n\t\t\t!targetProperties || !targetProperties.document\r\n\t\t);\r\n\t}\r\n};\r\n\r\n/**\r\n * @param {CacheOptions} cache options\r\n * @param {Object} options options\r\n * @param {string} options.name name\r\n * @param {string} options.mode mode\r\n * @param {boolean} options.development is development mode\r\n * @param {boolean} options.cacheUnaffected the cacheUnaffected experiment is enabled\r\n * @returns {void}\r\n */\r\nconst applyCacheDefaults = (\r\n\tcache,\r\n\t{ name, mode, development, cacheUnaffected }\r\n) => {\r\n\tif (cache === false) return;\r\n\tswitch (cache.type) {\r\n\t\tcase \"filesystem\":\r\n\t\t\tF(cache, \"name\", () => name + \"-\" + mode);\r\n\t\t\tD(cache, \"version\", \"\");\r\n\t\t\tF(cache, \"cacheDirectory\", () => {\r\n\t\t\t\tconst cwd = process.cwd();\r\n\t\t\t\tlet dir = cwd;\r\n\t\t\t\tfor (;;) {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tif (fs.statSync(path.join(dir, \"package.json\")).isFile()) break;\r\n\t\t\t\t\t\t// eslint-disable-next-line no-empty\r\n\t\t\t\t\t} catch (e) {}\r\n\t\t\t\t\tconst parent = path.dirname(dir);\r\n\t\t\t\t\tif (dir === parent) {\r\n\t\t\t\t\t\tdir = undefined;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdir = parent;\r\n\t\t\t\t}\r\n\t\t\t\tif (!dir) {\r\n\t\t\t\t\treturn path.resolve(cwd, \".cache/webpack\");\r\n\t\t\t\t} else if (process.versions.pnp === \"1\") {\r\n\t\t\t\t\treturn path.resolve(dir, \".pnp/.cache/webpack\");\r\n\t\t\t\t} else if (process.versions.pnp === \"3\") {\r\n\t\t\t\t\treturn path.resolve(dir, \".yarn/.cache/webpack\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn path.resolve(dir, \"node_modules/.cache/webpack\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tF(cache, \"cacheLocation\", () =>\r\n\t\t\t\tpath.resolve(cache.cacheDirectory, cache.name)\r\n\t\t\t);\r\n\t\t\tD(cache, \"hashAlgorithm\", \"md4\");\r\n\t\t\tD(cache, \"store\", \"pack\");\r\n\t\t\tD(cache, \"compression\", false);\r\n\t\t\tD(cache, \"profile\", false);\r\n\t\t\tD(cache, \"idleTimeout\", 60000);\r\n\t\t\tD(cache, \"idleTimeoutForInitialStore\", 5000);\r\n\t\t\tD(cache, \"idleTimeoutAfterLargeChanges\", 1000);\r\n\t\t\tD(cache, \"maxMemoryGenerations\", development ? 5 : Infinity);\r\n\t\t\tD(cache, \"maxAge\", 1000 * 60 * 60 * 24 * 60); // 1 month\r\n\t\t\tD(cache, \"allowCollectingMemory\", development);\r\n\t\t\tD(cache, \"memoryCacheUnaffected\", development && cacheUnaffected);\r\n\t\t\tD(cache.buildDependencies, \"defaultWebpack\", [\r\n\t\t\t\tpath.resolve(__dirname, \"..\") + path.sep\r\n\t\t\t]);\r\n\t\t\tbreak;\r\n\t\tcase \"memory\":\r\n\t\t\tD(cache, \"maxGenerations\", Infinity);\r\n\t\t\tD(cache, \"cacheUnaffected\", development && cacheUnaffected);\r\n\t\t\tbreak;\r\n\t}\r\n};\r\n\r\n/**\r\n * @param {SnapshotOptions} snapshot options\r\n * @param {Object} options options\r\n * @param {boolean} options.production is production\r\n * @param {boolean} options.futureDefaults is future defaults enabled\r\n * @returns {void}\r\n */\r\nconst applySnapshotDefaults = (snapshot, { production, futureDefaults }) => {\r\n\tif (futureDefaults) {\r\n\t\tF(snapshot, \"managedPaths\", () =>\r\n\t\t\tprocess.versions.pnp === \"3\"\r\n\t\t\t\t? [\r\n\t\t\t\t\t\t/^(.+?(?:[\\\\/]\\.yarn[\\\\/]unplugged[\\\\/][^\\\\/]+)?[\\\\/]node_modules[\\\\/])/\r\n\t\t\t\t  ]\r\n\t\t\t\t: [/^(.+?[\\\\/]node_modules[\\\\/])/]\r\n\t\t);\r\n\t\tF(snapshot, \"immutablePaths\", () =>\r\n\t\t\tprocess.versions.pnp === \"3\"\r\n\t\t\t\t? [/^(.+?[\\\\/]cache[\\\\/][^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/])/]\r\n\t\t\t\t: []\r\n\t\t);\r\n\t} else {\r\n\t\tA(snapshot, \"managedPaths\", () => {\r\n\t\t\tif (process.versions.pnp === \"3\") {\r\n\t\t\t\tconst match =\r\n\t\t\t\t\t/^(.+?)[\\\\/]cache[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(\r\n\t\t\t\t\t\trequire.resolve(\"watchpack\")\r\n\t\t\t\t\t);\r\n\t\t\t\tif (match) {\r\n\t\t\t\t\treturn [path.resolve(match[1], \"unplugged\")];\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst match = /^(.+?[\\\\/]node_modules[\\\\/])/.exec(\r\n\t\t\t\t\t// eslint-disable-next-line node/no-extraneous-require\r\n\t\t\t\t\trequire.resolve(\"watchpack\")\r\n\t\t\t\t);\r\n\t\t\t\tif (match) {\r\n\t\t\t\t\treturn [match[1]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn [];\r\n\t\t});\r\n\t\tA(snapshot, \"immutablePaths\", () => {\r\n\t\t\tif (process.versions.pnp === \"1\") {\r\n\t\t\t\tconst match =\r\n\t\t\t\t\t/^(.+?[\\\\/]v4)[\\\\/]npm-watchpack-[^\\\\/]+-[\\da-f]{40}[\\\\/]node_modules[\\\\/]/.exec(\r\n\t\t\t\t\t\trequire.resolve(\"watchpack\")\r\n\t\t\t\t\t);\r\n\t\t\t\tif (match) {\r\n\t\t\t\t\treturn [match[1]];\r\n\t\t\t\t}\r\n\t\t\t} else if (process.versions.pnp === \"3\") {\r\n\t\t\t\tconst match =\r\n\t\t\t\t\t/^(.+?)[\\\\/]watchpack-npm-[^\\\\/]+\\.zip[\\\\/]node_modules[\\\\/]/.exec(\r\n\t\t\t\t\t\trequire.resolve(\"watchpack\")\r\n\t\t\t\t\t);\r\n\t\t\t\tif (match) {\r\n\t\t\t\t\treturn [match[1]];\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn [];\r\n\t\t});\r\n\t}\r\n\tF(snapshot, \"resolveBuildDependencies\", () => ({\r\n\t\ttimestamp: true,\r\n\t\thash: true\r\n\t}));\r\n\tF(snapshot, \"buildDependencies\", () => ({ timestamp: true, hash: true }));\r\n\tF(snapshot, \"module\", () =>\r\n\t\tproduction ? { timestamp: true, hash: true } : { timestamp: true }\r\n\t);\r\n\tF(snapshot, \"resolve\", () =>\r\n\t\tproduction ? { timestamp: true, hash: true } : { timestamp: true }\r\n\t);\r\n};\r\n\r\n/**\r\n * @param {JavascriptParserOptions} parserOptions parser options\r\n * @param {Object} options options\r\n * @param {boolean} options.futureDefaults is future defaults enabled\r\n * @param {boolean} options.isNode is node target platform\r\n * @returns {void}\r\n */\r\nconst applyJavascriptParserOptionsDefaults = (\r\n\tparserOptions,\r\n\t{ futureDefaults, isNode }\r\n) => {\r\n\tD(parserOptions, \"unknownContextRequest\", \".\");\r\n\tD(parserOptions, \"unknownContextRegExp\", false);\r\n\tD(parserOptions, \"unknownContextRecursive\", true);\r\n\tD(parserOptions, \"unknownContextCritical\", true);\r\n\tD(parserOptions, \"exprContextRequest\", \".\");\r\n\tD(parserOptions, \"exprContextRegExp\", false);\r\n\tD(parserOptions, \"exprContextRecursive\", true);\r\n\tD(parserOptions, \"exprContextCritical\", true);\r\n\tD(parserOptions, \"wrappedContextRegExp\", /.*/);\r\n\tD(parserOptions, \"wrappedContextRecursive\", true);\r\n\tD(parserOptions, \"wrappedContextCritical\", false);\r\n\tD(parserOptions, \"strictThisContextOnImports\", false);\r\n\tD(parserOptions, \"importMeta\", true);\r\n\tD(parserOptions, \"dynamicImportMode\", \"lazy\");\r\n\tD(parserOptions, \"dynamicImportPrefetch\", false);\r\n\tD(parserOptions, \"dynamicImportPreload\", false);\r\n\tD(parserOptions, \"createRequire\", isNode);\r\n\tif (futureDefaults) D(parserOptions, \"exportsPresence\", \"error\");\r\n};\r\n\r\n/**\r\n * @param {ModuleOptions} module options\r\n * @param {Object} options options\r\n * @param {boolean} options.cache is caching enabled\r\n * @param {boolean} options.syncWebAssembly is syncWebAssembly enabled\r\n * @param {boolean} options.asyncWebAssembly is asyncWebAssembly enabled\r\n * @param {CssExperimentOptions|false} options.css is css enabled\r\n * @param {boolean} options.futureDefaults is future defaults enabled\r\n * @param {boolean} options.isNode is node target platform\r\n * @returns {void}\r\n */\r\nconst applyModuleDefaults = (\r\n\tmodule,\r\n\t{ cache, syncWebAssembly, asyncWebAssembly, css, futureDefaults, isNode }\r\n) => {\r\n\tif (cache) {\r\n\t\tD(module, \"unsafeCache\", module => {\r\n\t\t\tconst name = module.nameForCondition();\r\n\t\t\treturn name && NODE_MODULES_REGEXP.test(name);\r\n\t\t});\r\n\t} else {\r\n\t\tD(module, \"unsafeCache\", false);\r\n\t}\r\n\r\n\tF(module.parser, \"asset\", () => ({}));\r\n\tF(module.parser.asset, \"dataUrlCondition\", () => ({}));\r\n\tif (typeof module.parser.asset.dataUrlCondition === \"object\") {\r\n\t\tD(module.parser.asset.dataUrlCondition, \"maxSize\", 8096);\r\n\t}\r\n\r\n\tF(module.parser, \"javascript\", () => ({}));\r\n\tapplyJavascriptParserOptionsDefaults(module.parser.javascript, {\r\n\t\tfutureDefaults,\r\n\t\tisNode\r\n\t});\r\n\r\n\tA(module, \"defaultRules\", () => {\r\n\t\tconst esm = {\r\n\t\t\ttype: \"javascript/esm\",\r\n\t\t\tresolve: {\r\n\t\t\t\tbyDependency: {\r\n\t\t\t\t\tesm: {\r\n\t\t\t\t\t\tfullySpecified: true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\tconst commonjs = {\r\n\t\t\ttype: \"javascript/dynamic\"\r\n\t\t};\r\n\t\t/** @type {RuleSetRules} */\r\n\t\tconst rules = [\r\n\t\t\t{\r\n\t\t\t\tmimetype: \"application/node\",\r\n\t\t\t\ttype: \"javascript/auto\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttest: /\\.json$/i,\r\n\t\t\t\ttype: \"json\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tmimetype: \"application/json\",\r\n\t\t\t\ttype: \"json\"\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttest: /\\.mjs$/i,\r\n\t\t\t\t...esm\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttest: /\\.js$/i,\r\n\t\t\t\tdescriptionData: {\r\n\t\t\t\t\ttype: \"module\"\r\n\t\t\t\t},\r\n\t\t\t\t...esm\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttest: /\\.cjs$/i,\r\n\t\t\t\t...commonjs\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\ttest: /\\.js$/i,\r\n\t\t\t\tdescriptionData: {\r\n\t\t\t\t\ttype: \"commonjs\"\r\n\t\t\t\t},\r\n\t\t\t\t...commonjs\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tmimetype: {\r\n\t\t\t\t\tor: [\"text/javascript\", \"application/javascript\"]\r\n\t\t\t\t},\r\n\t\t\t\t...esm\r\n\t\t\t}\r\n\t\t];\r\n\t\tif (asyncWebAssembly) {\r\n\t\t\tconst wasm = {\r\n\t\t\t\ttype: \"webassembly/async\",\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdescriptionData: {\r\n\t\t\t\t\t\t\ttype: \"module\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tresolve: {\r\n\t\t\t\t\t\t\tfullySpecified: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t};\r\n\t\t\trules.push({\r\n\t\t\t\ttest: /\\.wasm$/i,\r\n\t\t\t\t...wasm\r\n\t\t\t});\r\n\t\t\trules.push({\r\n\t\t\t\tmimetype: \"application/wasm\",\r\n\t\t\t\t...wasm\r\n\t\t\t});\r\n\t\t} else if (syncWebAssembly) {\r\n\t\t\tconst wasm = {\r\n\t\t\t\ttype: \"webassembly/sync\",\r\n\t\t\t\trules: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdescriptionData: {\r\n\t\t\t\t\t\t\ttype: \"module\"\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tresolve: {\r\n\t\t\t\t\t\t\tfullySpecified: true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t};\r\n\t\t\trules.push({\r\n\t\t\t\ttest: /\\.wasm$/i,\r\n\t\t\t\t...wasm\r\n\t\t\t});\r\n\t\t\trules.push({\r\n\t\t\t\tmimetype: \"application/wasm\",\r\n\t\t\t\t...wasm\r\n\t\t\t});\r\n\t\t}\r\n\t\tif (css) {\r\n\t\t\tconst cssRule = {\r\n\t\t\t\ttype: \"css\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tfullySpecified: true,\r\n\t\t\t\t\tpreferRelative: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tconst cssModulesRule = {\r\n\t\t\t\ttype: \"css/module\",\r\n\t\t\t\tresolve: {\r\n\t\t\t\t\tfullySpecified: true\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\trules.push({\r\n\t\t\t\ttest: /\\.css$/i,\r\n\t\t\t\toneOf: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttest: /\\.module\\.css$/i,\r\n\t\t\t\t\t\t...cssModulesRule\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t...cssRule\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t});\r\n\t\t\trules.push({\r\n\t\t\t\tmimetype: \"text/css+module\",\r\n\t\t\t\t...cssModulesRule\r\n\t\t\t});\r\n\t\t\trules.push({\r\n\t\t\t\tmimetype: \"text/css\",\r\n\t\t\t\t...cssRule\r\n\t\t\t});\r\n\t\t}\r\n\t\trules.push(\r\n\t\t\t{\r\n\t\t\t\tdependency: \"url\",\r\n\t\t\t\toneOf: [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tscheme: /^data$/,\r\n\t\t\t\t\t\ttype: \"asset/inline\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\ttype: \"asset/resource\"\r\n\t\t\t\t\t}\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tassert: { type: \"json\" },\r\n\t\t\t\ttype: \"json\"\r\n\t\t\t}\r\n\t\t);\r\n\t\treturn rules;\r\n\t});\r\n};\r\n\r\n/**\r\n * @param {Output} output options\r\n * @param {Object} options options\r\n * @param {string} options.context context\r\n * @param {TargetProperties | false} options.targetProperties target properties\r\n * @param {boolean} options.isAffectedByBrowserslist is affected by browserslist\r\n * @param {boolean} options.outputModule is outputModule experiment enabled\r\n * @param {boolean} options.development is development mode\r\n * @param {Entry} options.entry entry option\r\n * @param {ModuleOptions} options.module module option\r\n * @param {boolean} options.futureDefaults is future defaults enabled\r\n * @returns {void}\r\n */\r\nconst applyOutputDefaults = (\r\n\toutput,\r\n\t{\r\n\t\tcontext,\r\n\t\ttargetProperties: tp,\r\n\t\tisAffectedByBrowserslist,\r\n\t\toutputModule,\r\n\t\tdevelopment,\r\n\t\tentry,\r\n\t\tmodule,\r\n\t\tfutureDefaults\r\n\t}\r\n) => {\r\n\t/**\r\n\t * @param {Library=} library the library option\r\n\t * @returns {string} a readable library name\r\n\t */\r\n\tconst getLibraryName = library => {\r\n\t\tconst libraryName =\r\n\t\t\ttypeof library === \"object\" &&\r\n\t\t\tlibrary &&\r\n\t\t\t!Array.isArray(library) &&\r\n\t\t\t\"type\" in library\r\n\t\t\t\t? library.name\r\n\t\t\t\t: /** @type {LibraryName=} */ (library);\r\n\t\tif (Array.isArray(libraryName)) {\r\n\t\t\treturn libraryName.join(\".\");\r\n\t\t} else if (typeof libraryName === \"object\") {\r\n\t\t\treturn getLibraryName(libraryName.root);\r\n\t\t} else if (typeof libraryName === \"string\") {\r\n\t\t\treturn libraryName;\r\n\t\t}\r\n\t\treturn \"\";\r\n\t};\r\n\r\n\tF(output, \"uniqueName\", () => {\r\n\t\tconst libraryName = getLibraryName(output.library).replace(\r\n\t\t\t/^\\[(\\\\*[\\w:]+\\\\*)\\](\\.)|(\\.)\\[(\\\\*[\\w:]+\\\\*)\\](?=\\.|$)|\\[(\\\\*[\\w:]+\\\\*)\\]/g,\r\n\t\t\t(m, a, d1, d2, b, c) => {\r\n\t\t\t\tconst content = a || b || c;\r\n\t\t\t\treturn content.startsWith(\"\\\\\") && content.endsWith(\"\\\\\")\r\n\t\t\t\t\t? `${d2 || \"\"}[${content.slice(1, -1)}]${d1 || \"\"}`\r\n\t\t\t\t\t: \"\";\r\n\t\t\t}\r\n\t\t);\r\n\t\tif (libraryName) return libraryName;\r\n\t\tconst pkgPath = path.resolve(context, \"package.json\");\r\n\t\ttry {\r\n\t\t\tconst packageInfo = JSON.parse(fs.readFileSync(pkgPath, \"utf-8\"));\r\n\t\t\treturn packageInfo.name || \"\";\r\n\t\t} catch (e) {\r\n\t\t\tif (e.code !== \"ENOENT\") {\r\n\t\t\t\te.message += `\\nwhile determining default 'output.uniqueName' from 'name' in ${pkgPath}`;\r\n\t\t\t\tthrow e;\r\n\t\t\t}\r\n\t\t\treturn \"\";\r\n\t\t}\r\n\t});\r\n\r\n\tF(output, \"module\", () => !!outputModule);\r\n\tD(output, \"filename\", output.module ? \"[name].mjs\" : \"[name].js\");\r\n\tF(output, \"iife\", () => !output.module);\r\n\tD(output, \"importFunctionName\", \"import\");\r\n\tD(output, \"importMetaName\", \"import.meta\");\r\n\tF(output, \"chunkFilename\", () => {\r\n\t\tconst filename = output.filename;\r\n\t\tif (typeof filename !== \"function\") {\r\n\t\t\tconst hasName = filename.includes(\"[name]\");\r\n\t\t\tconst hasId = filename.includes(\"[id]\");\r\n\t\t\tconst hasChunkHash = filename.includes(\"[chunkhash]\");\r\n\t\t\tconst hasContentHash = filename.includes(\"[contenthash]\");\r\n\t\t\t// Anything changing depending on chunk is fine\r\n\t\t\tif (hasChunkHash || hasContentHash || hasName || hasId) return filename;\r\n\t\t\t// Otherwise prefix \"[id].\" in front of the basename to make it changing\r\n\t\t\treturn filename.replace(/(^|\\/)([^/]*(?:\\?|$))/, \"$1[id].$2\");\r\n\t\t}\r\n\t\treturn output.module ? \"[id].mjs\" : \"[id].js\";\r\n\t});\r\n\tF(output, \"cssFilename\", () => {\r\n\t\tconst filename = output.filename;\r\n\t\tif (typeof filename !== \"function\") {\r\n\t\t\treturn filename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\r\n\t\t}\r\n\t\treturn \"[id].css\";\r\n\t});\r\n\tF(output, \"cssChunkFilename\", () => {\r\n\t\tconst chunkFilename = output.chunkFilename;\r\n\t\tif (typeof chunkFilename !== \"function\") {\r\n\t\t\treturn chunkFilename.replace(/\\.[mc]?js(\\?|$)/, \".css$1\");\r\n\t\t}\r\n\t\treturn \"[id].css\";\r\n\t});\r\n\tD(output, \"assetModuleFilename\", \"[hash][ext][query]\");\r\n\tD(output, \"webassemblyModuleFilename\", \"[hash].module.wasm\");\r\n\tD(output, \"compareBeforeEmit\", true);\r\n\tD(output, \"charset\", true);\r\n\tF(output, \"hotUpdateGlobal\", () =>\r\n\t\tTemplate.toIdentifier(\r\n\t\t\t\"webpackHotUpdate\" + Template.toIdentifier(output.uniqueName)\r\n\t\t)\r\n\t);\r\n\tF(output, \"chunkLoadingGlobal\", () =>\r\n\t\tTemplate.toIdentifier(\r\n\t\t\t\"webpackChunk\" + Template.toIdentifier(output.uniqueName)\r\n\t\t)\r\n\t);\r\n\tF(output, \"globalObject\", () => {\r\n\t\tif (tp) {\r\n\t\t\tif (tp.global) return \"global\";\r\n\t\t\tif (tp.globalThis) return \"globalThis\";\r\n\t\t}\r\n\t\treturn \"self\";\r\n\t});\r\n\tF(output, \"chunkFormat\", () => {\r\n\t\tif (tp) {\r\n\t\t\tconst helpMessage = isAffectedByBrowserslist\r\n\t\t\t\t? \"Make sure that your 'browserslist' includes only platforms that support these features or select an appropriate 'target' to allow selecting a chunk format by default. Alternatively specify the 'output.chunkFormat' directly.\"\r\n\t\t\t\t: \"Select an appropriate 'target' to allow selecting one by default, or specify the 'output.chunkFormat' directly.\";\r\n\t\t\tif (output.module) {\r\n\t\t\t\tif (tp.dynamicImport) return \"module\";\r\n\t\t\t\tif (tp.document) return \"array-push\";\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\t\"For the selected environment is no default ESM chunk format available:\\n\" +\r\n\t\t\t\t\t\t\"ESM exports can be chosen when 'import()' is available.\\n\" +\r\n\t\t\t\t\t\t\"JSONP Array push can be chosen when 'document' is available.\\n\" +\r\n\t\t\t\t\t\thelpMessage\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tif (tp.document) return \"array-push\";\r\n\t\t\t\tif (tp.require) return \"commonjs\";\r\n\t\t\t\tif (tp.nodeBuiltins) return \"commonjs\";\r\n\t\t\t\tif (tp.importScripts) return \"array-push\";\r\n\t\t\t\tthrow new Error(\r\n\t\t\t\t\t\"For the selected environment is no default script chunk format available:\\n\" +\r\n\t\t\t\t\t\t\"JSONP Array push can be chosen when 'document' or 'importScripts' is available.\\n\" +\r\n\t\t\t\t\t\t\"CommonJs exports can be chosen when 'require' or node builtins are available.\\n\" +\r\n\t\t\t\t\t\thelpMessage\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t}\r\n\t\tthrow new Error(\r\n\t\t\t\"Chunk format can't be selected by default when no target is specified\"\r\n\t\t);\r\n\t});\r\n\tD(output, \"asyncChunks\", true);\r\n\tF(output, \"chunkLoading\", () => {\r\n\t\tif (tp) {\r\n\t\t\tswitch (output.chunkFormat) {\r\n\t\t\t\tcase \"array-push\":\r\n\t\t\t\t\tif (tp.document) return \"jsonp\";\r\n\t\t\t\t\tif (tp.importScripts) return \"import-scripts\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"commonjs\":\r\n\t\t\t\t\tif (tp.require) return \"require\";\r\n\t\t\t\t\tif (tp.nodeBuiltins) return \"async-node\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"module\":\r\n\t\t\t\t\tif (tp.dynamicImport) return \"import\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\ttp.require === null ||\r\n\t\t\t\ttp.nodeBuiltins === null ||\r\n\t\t\t\ttp.document === null ||\r\n\t\t\t\ttp.importScripts === null\r\n\t\t\t) {\r\n\t\t\t\treturn \"universal\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t});\r\n\tF(output, \"workerChunkLoading\", () => {\r\n\t\tif (tp) {\r\n\t\t\tswitch (output.chunkFormat) {\r\n\t\t\t\tcase \"array-push\":\r\n\t\t\t\t\tif (tp.importScriptsInWorker) return \"import-scripts\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"commonjs\":\r\n\t\t\t\t\tif (tp.require) return \"require\";\r\n\t\t\t\t\tif (tp.nodeBuiltins) return \"async-node\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"module\":\r\n\t\t\t\t\tif (tp.dynamicImportInWorker) return \"import\";\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif (\r\n\t\t\t\ttp.require === null ||\r\n\t\t\t\ttp.nodeBuiltins === null ||\r\n\t\t\t\ttp.importScriptsInWorker === null\r\n\t\t\t) {\r\n\t\t\t\treturn \"universal\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t});\r\n\tF(output, \"wasmLoading\", () => {\r\n\t\tif (tp) {\r\n\t\t\tif (tp.fetchWasm) return \"fetch\";\r\n\t\t\tif (tp.nodeBuiltins)\r\n\t\t\t\treturn output.module ? \"async-node-module\" : \"async-node\";\r\n\t\t\tif (tp.nodeBuiltins === null || tp.fetchWasm === null) {\r\n\t\t\t\treturn \"universal\";\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t});\r\n\tF(output, \"workerWasmLoading\", () => output.wasmLoading);\r\n\tF(output, \"devtoolNamespace\", () => output.uniqueName);\r\n\tif (output.library) {\r\n\t\tF(output.library, \"type\", () => (output.module ? \"module\" : \"var\"));\r\n\t}\r\n\tF(output, \"path\", () => path.join(process.cwd(), \"dist\"));\r\n\tF(output, \"pathinfo\", () => development);\r\n\tD(output, \"sourceMapFilename\", \"[file].map[query]\");\r\n\tD(\r\n\t\toutput,\r\n\t\t\"hotUpdateChunkFilename\",\r\n\t\t`[id].[fullhash].hot-update.${output.module ? \"mjs\" : \"js\"}`\r\n\t);\r\n\tD(output, \"hotUpdateMainFilename\", \"[runtime].[fullhash].hot-update.json\");\r\n\tD(output, \"crossOriginLoading\", false);\r\n\tF(output, \"scriptType\", () => (output.module ? \"module\" : false));\r\n\tD(\r\n\t\toutput,\r\n\t\t\"publicPath\",\r\n\t\t(tp && (tp.document || tp.importScripts)) || output.scriptType === \"module\"\r\n\t\t\t? \"auto\"\r\n\t\t\t: \"\"\r\n\t);\r\n\tD(output, \"chunkLoadTimeout\", 120000);\r\n\tD(output, \"hashFunction\", futureDefaults ? \"xxhash64\" : \"md4\");\r\n\tD(output, \"hashDigest\", \"hex\");\r\n\tD(output, \"hashDigestLength\", futureDefaults ? 16 : 20);\r\n\tD(output, \"strictModuleExceptionHandling\", false);\r\n\r\n\tconst optimistic = v => v || v === undefined;\r\n\tconst conditionallyOptimistic = (v, c) => (v === undefined && c) || v;\r\n\tF(\r\n\t\toutput.environment,\r\n\t\t\"arrowFunction\",\r\n\t\t() => tp && optimistic(tp.arrowFunction)\r\n\t);\r\n\tF(output.environment, \"const\", () => tp && optimistic(tp.const));\r\n\tF(\r\n\t\toutput.environment,\r\n\t\t\"destructuring\",\r\n\t\t() => tp && optimistic(tp.destructuring)\r\n\t);\r\n\tF(output.environment, \"forOf\", () => tp && optimistic(tp.forOf));\r\n\tF(output.environment, \"bigIntLiteral\", () => tp && tp.bigIntLiteral);\r\n\tF(output.environment, \"dynamicImport\", () =>\r\n\t\tconditionallyOptimistic(tp && tp.dynamicImport, output.module)\r\n\t);\r\n\tF(output.environment, \"module\", () =>\r\n\t\tconditionallyOptimistic(tp && tp.module, output.module)\r\n\t);\r\n\r\n\tconst { trustedTypes } = output;\r\n\tif (trustedTypes) {\r\n\t\tF(\r\n\t\t\ttrustedTypes,\r\n\t\t\t\"policyName\",\r\n\t\t\t() =>\r\n\t\t\t\toutput.uniqueName.replace(/[^a-zA-Z0-9\\-#=_/@.%]+/g, \"_\") || \"webpack\"\r\n\t\t);\r\n\t}\r\n\r\n\t/**\r\n\t * @param {function(EntryDescription): void} fn iterator\r\n\t * @returns {void}\r\n\t */\r\n\tconst forEachEntry = fn => {\r\n\t\tfor (const name of Object.keys(entry)) {\r\n\t\t\tfn(entry[name]);\r\n\t\t}\r\n\t};\r\n\tA(output, \"enabledLibraryTypes\", () => {\r\n\t\tconst enabledLibraryTypes = [];\r\n\t\tif (output.library) {\r\n\t\t\tenabledLibraryTypes.push(output.library.type);\r\n\t\t}\r\n\t\tforEachEntry(desc => {\r\n\t\t\tif (desc.library) {\r\n\t\t\t\tenabledLibraryTypes.push(desc.library.type);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn enabledLibraryTypes;\r\n\t});\r\n\r\n\tA(output, \"enabledChunkLoadingTypes\", () => {\r\n\t\tconst enabledChunkLoadingTypes = new Set();\r\n\t\tif (output.chunkLoading) {\r\n\t\t\tenabledChunkLoadingTypes.add(output.chunkLoading);\r\n\t\t}\r\n\t\tif (output.workerChunkLoading) {\r\n\t\t\tenabledChunkLoadingTypes.add(output.workerChunkLoading);\r\n\t\t}\r\n\t\tforEachEntry(desc => {\r\n\t\t\tif (desc.chunkLoading) {\r\n\t\t\t\tenabledChunkLoadingTypes.add(desc.chunkLoading);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn Array.from(enabledChunkLoadingTypes);\r\n\t});\r\n\r\n\tA(output, \"enabledWasmLoadingTypes\", () => {\r\n\t\tconst enabledWasmLoadingTypes = new Set();\r\n\t\tif (output.wasmLoading) {\r\n\t\t\tenabledWasmLoadingTypes.add(output.wasmLoading);\r\n\t\t}\r\n\t\tif (output.workerWasmLoading) {\r\n\t\t\tenabledWasmLoadingTypes.add(output.workerWasmLoading);\r\n\t\t}\r\n\t\tforEachEntry(desc => {\r\n\t\t\tif (desc.wasmLoading) {\r\n\t\t\t\tenabledWasmLoadingTypes.add(desc.wasmLoading);\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn Array.from(enabledWasmLoadingTypes);\r\n\t});\r\n};\r\n\r\n/**\r\n * @param {ExternalsPresets} externalsPresets options\r\n * @param {Object} options options\r\n * @param {TargetProperties | false} options.targetProperties target properties\r\n * @param {boolean} options.buildHttp buildHttp experiment enabled\r\n * @returns {void}\r\n */\r\nconst applyExternalsPresetsDefaults = (\r\n\texternalsPresets,\r\n\t{ targetProperties, buildHttp }\r\n) => {\r\n\tD(\r\n\t\texternalsPresets,\r\n\t\t\"web\",\r\n\t\t!buildHttp && targetProperties && targetProperties.web\r\n\t);\r\n\tD(externalsPresets, \"node\", targetProperties && targetProperties.node);\r\n\tD(externalsPresets, \"nwjs\", targetProperties && targetProperties.nwjs);\r\n\tD(\r\n\t\texternalsPresets,\r\n\t\t\"electron\",\r\n\t\ttargetProperties && targetProperties.electron\r\n\t);\r\n\tD(\r\n\t\texternalsPresets,\r\n\t\t\"electronMain\",\r\n\t\ttargetProperties &&\r\n\t\t\ttargetProperties.electron &&\r\n\t\t\ttargetProperties.electronMain\r\n\t);\r\n\tD(\r\n\t\texternalsPresets,\r\n\t\t\"electronPreload\",\r\n\t\ttargetProperties &&\r\n\t\t\ttargetProperties.electron &&\r\n\t\t\ttargetProperties.electronPreload\r\n\t);\r\n\tD(\r\n\t\texternalsPresets,\r\n\t\t\"electronRenderer\",\r\n\t\ttargetProperties &&\r\n\t\t\ttargetProperties.electron &&\r\n\t\t\ttargetProperties.electronRenderer\r\n\t);\r\n};\r\n\r\n/**\r\n * @param {Loader} loader options\r\n * @param {Object} options options\r\n * @param {TargetProperties | false} options.targetProperties target properties\r\n * @returns {void}\r\n */\r\nconst applyLoaderDefaults = (loader, { targetProperties }) => {\r\n\tF(loader, \"target\", () => {\r\n\t\tif (targetProperties) {\r\n\t\t\tif (targetProperties.electron) {\r\n\t\t\t\tif (targetProperties.electronMain) return \"electron-main\";\r\n\t\t\t\tif (targetProperties.electronPreload) return \"electron-preload\";\r\n\t\t\t\tif (targetProperties.electronRenderer) return \"electron-renderer\";\r\n\t\t\t\treturn \"electron\";\r\n\t\t\t}\r\n\t\t\tif (targetProperties.nwjs) return \"nwjs\";\r\n\t\t\tif (targetProperties.node) return \"node\";\r\n\t\t\tif (targetProperties.web) return \"web\";\r\n\t\t}\r\n\t});\r\n};\r\n\r\n/**\r\n * @param {WebpackNode} node options\r\n * @param {Object} options options\r\n * @param {TargetProperties | false} options.targetProperties target properties\r\n * @param {boolean} options.futureDefaults is future defaults enabled\r\n * @returns {void}\r\n */\r\nconst applyNodeDefaults = (node, { futureDefaults, targetProperties }) => {\r\n\tif (node === false) return;\r\n\r\n\tF(node, \"global\", () => {\r\n\t\tif (targetProperties && targetProperties.global) return false;\r\n\t\t// TODO webpack 6 should always default to false\r\n\t\treturn futureDefaults ? \"warn\" : true;\r\n\t});\r\n\tF(node, \"__filename\", () => {\r\n\t\tif (targetProperties && targetProperties.node) return \"eval-only\";\r\n\t\t// TODO webpack 6 should always default to false\r\n\t\treturn futureDefaults ? \"warn-mock\" : \"mock\";\r\n\t});\r\n\tF(node, \"__dirname\", () => {\r\n\t\tif (targetProperties && targetProperties.node) return \"eval-only\";\r\n\t\t// TODO webpack 6 should always default to false\r\n\t\treturn futureDefaults ? \"warn-mock\" : \"mock\";\r\n\t});\r\n};\r\n\r\n/**\r\n * @param {Performance} performance options\r\n * @param {Object} options options\r\n * @param {boolean} options.production is production\r\n * @returns {void}\r\n */\r\nconst applyPerformanceDefaults = (performance, { production }) => {\r\n\tif (performance === false) return;\r\n\tD(performance, \"maxAssetSize\", 250000);\r\n\tD(performance, \"maxEntrypointSize\", 250000);\r\n\tF(performance, \"hints\", () => (production ? \"warning\" : false));\r\n};\r\n\r\n/**\r\n * @param {Optimization} optimization options\r\n * @param {Object} options options\r\n * @param {boolean} options.production is production\r\n * @param {boolean} options.development is development\r\n * @param {CssExperimentOptions|false} options.css is css enabled\r\n * @param {boolean} options.records using records\r\n * @returns {void}\r\n */\r\nconst applyOptimizationDefaults = (\r\n\toptimization,\r\n\t{ production, development, css, records }\r\n) => {\r\n\tD(optimization, \"removeAvailableModules\", false);\r\n\tD(optimization, \"removeEmptyChunks\", true);\r\n\tD(optimization, \"mergeDuplicateChunks\", true);\r\n\tD(optimization, \"flagIncludedChunks\", production);\r\n\tF(optimization, \"moduleIds\", () => {\r\n\t\tif (production) return \"deterministic\";\r\n\t\tif (development) return \"named\";\r\n\t\treturn \"natural\";\r\n\t});\r\n\tF(optimization, \"chunkIds\", () => {\r\n\t\tif (production) return \"deterministic\";\r\n\t\tif (development) return \"named\";\r\n\t\treturn \"natural\";\r\n\t});\r\n\tF(optimization, \"sideEffects\", () => (production ? true : \"flag\"));\r\n\tD(optimization, \"providedExports\", true);\r\n\tD(optimization, \"usedExports\", production);\r\n\tD(optimization, \"innerGraph\", production);\r\n\tD(optimization, \"mangleExports\", production);\r\n\tD(optimization, \"concatenateModules\", production);\r\n\tD(optimization, \"runtimeChunk\", false);\r\n\tD(optimization, \"emitOnErrors\", !production);\r\n\tD(optimization, \"checkWasmTypes\", production);\r\n\tD(optimization, \"mangleWasmImports\", false);\r\n\tD(optimization, \"portableRecords\", records);\r\n\tD(optimization, \"realContentHash\", production);\r\n\tD(optimization, \"minimize\", production);\r\n\tA(optimization, \"minimizer\", () => [\r\n\t\t{\r\n\t\t\tapply: compiler => {\r\n\t\t\t\t// Lazy load the Terser plugin\r\n\t\t\t\tconst TerserPlugin = require(\"terser-webpack-plugin\");\r\n\t\t\t\tnew TerserPlugin({\r\n\t\t\t\t\tterserOptions: {\r\n\t\t\t\t\t\tcompress: {\r\n\t\t\t\t\t\t\tpasses: 2\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}).apply(compiler);\r\n\t\t\t}\r\n\t\t}\r\n\t]);\r\n\tF(optimization, \"nodeEnv\", () => {\r\n\t\tif (production) return \"production\";\r\n\t\tif (development) return \"development\";\r\n\t\treturn false;\r\n\t});\r\n\tconst { splitChunks } = optimization;\r\n\tif (splitChunks) {\r\n\t\tA(splitChunks, \"defaultSizeTypes\", () =>\r\n\t\t\tcss ? [\"javascript\", \"css\", \"unknown\"] : [\"javascript\", \"unknown\"]\r\n\t\t);\r\n\t\tD(splitChunks, \"hidePathInfo\", production);\r\n\t\tD(splitChunks, \"chunks\", \"async\");\r\n\t\tD(splitChunks, \"usedExports\", optimization.usedExports === true);\r\n\t\tD(splitChunks, \"minChunks\", 1);\r\n\t\tF(splitChunks, \"minSize\", () => (production ? 20000 : 10000));\r\n\t\tF(splitChunks, \"minRemainingSize\", () => (development ? 0 : undefined));\r\n\t\tF(splitChunks, \"enforceSizeThreshold\", () => (production ? 50000 : 30000));\r\n\t\tF(splitChunks, \"maxAsyncRequests\", () => (production ? 30 : Infinity));\r\n\t\tF(splitChunks, \"maxInitialRequests\", () => (production ? 30 : Infinity));\r\n\t\tD(splitChunks, \"automaticNameDelimiter\", \"-\");\r\n\t\tconst { cacheGroups } = splitChunks;\r\n\t\tF(cacheGroups, \"default\", () => ({\r\n\t\t\tidHint: \"\",\r\n\t\t\treuseExistingChunk: true,\r\n\t\t\tminChunks: 2,\r\n\t\t\tpriority: -20\r\n\t\t}));\r\n\t\tF(cacheGroups, \"defaultVendors\", () => ({\r\n\t\t\tidHint: \"vendors\",\r\n\t\t\treuseExistingChunk: true,\r\n\t\t\ttest: NODE_MODULES_REGEXP,\r\n\t\t\tpriority: -10\r\n\t\t}));\r\n\t}\r\n};\r\n\r\n/**\r\n * @param {Object} options options\r\n * @param {boolean} options.cache is cache enable\r\n * @param {string} options.context build context\r\n * @param {TargetProperties | false} options.targetProperties target properties\r\n * @param {Mode} options.mode mode\r\n * @returns {ResolveOptions} resolve options\r\n */\r\nconst getResolveDefaults = ({ cache, context, targetProperties, mode }) => {\r\n\t/** @type {string[]} */\r\n\tconst conditions = [\"webpack\"];\r\n\r\n\tconditions.push(mode === \"development\" ? \"development\" : \"production\");\r\n\r\n\tif (targetProperties) {\r\n\t\tif (targetProperties.webworker) conditions.push(\"worker\");\r\n\t\tif (targetProperties.node) conditions.push(\"node\");\r\n\t\tif (targetProperties.web) conditions.push(\"browser\");\r\n\t\tif (targetProperties.electron) conditions.push(\"electron\");\r\n\t\tif (targetProperties.nwjs) conditions.push(\"nwjs\");\r\n\t}\r\n\r\n\tconst jsExtensions = [\".js\", \".json\", \".wasm\"];\r\n\r\n\tconst tp = targetProperties;\r\n\tconst browserField =\r\n\t\ttp && tp.web && (!tp.node || (tp.electron && tp.electronRenderer));\r\n\r\n\t/** @type {function(): ResolveOptions} */\r\n\tconst cjsDeps = () => ({\r\n\t\taliasFields: browserField ? [\"browser\"] : [],\r\n\t\tmainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\r\n\t\tconditionNames: [\"require\", \"module\", \"...\"],\r\n\t\textensions: [...jsExtensions]\r\n\t});\r\n\t/** @type {function(): ResolveOptions} */\r\n\tconst esmDeps = () => ({\r\n\t\taliasFields: browserField ? [\"browser\"] : [],\r\n\t\tmainFields: browserField ? [\"browser\", \"module\", \"...\"] : [\"module\", \"...\"],\r\n\t\tconditionNames: [\"import\", \"module\", \"...\"],\r\n\t\textensions: [...jsExtensions]\r\n\t});\r\n\r\n\t/** @type {ResolveOptions} */\r\n\tconst resolveOptions = {\r\n\t\tcache,\r\n\t\tmodules: [\"node_modules\"],\r\n\t\tconditionNames: conditions,\r\n\t\tmainFiles: [\"index\"],\r\n\t\textensions: [],\r\n\t\taliasFields: [],\r\n\t\texportsFields: [\"exports\"],\r\n\t\troots: [context],\r\n\t\tmainFields: [\"main\"],\r\n\t\tbyDependency: {\r\n\t\t\twasm: esmDeps(),\r\n\t\t\tesm: esmDeps(),\r\n\t\t\tloaderImport: esmDeps(),\r\n\t\t\turl: {\r\n\t\t\t\tpreferRelative: true\r\n\t\t\t},\r\n\t\t\tworker: {\r\n\t\t\t\t...esmDeps(),\r\n\t\t\t\tpreferRelative: true\r\n\t\t\t},\r\n\t\t\tcommonjs: cjsDeps(),\r\n\t\t\tamd: cjsDeps(),\r\n\t\t\t// for backward-compat: loadModule\r\n\t\t\tloader: cjsDeps(),\r\n\t\t\t// for backward-compat: Custom Dependency\r\n\t\t\tunknown: cjsDeps(),\r\n\t\t\t// for backward-compat: getResolve without dependencyType\r\n\t\t\tundefined: cjsDeps()\r\n\t\t}\r\n\t};\r\n\r\n\treturn resolveOptions;\r\n};\r\n\r\n/**\r\n * @param {Object} options options\r\n * @param {boolean} options.cache is cache enable\r\n * @returns {ResolveOptions} resolve options\r\n */\r\nconst getResolveLoaderDefaults = ({ cache }) => {\r\n\t/** @type {ResolveOptions} */\r\n\tconst resolveOptions = {\r\n\t\tcache,\r\n\t\tconditionNames: [\"loader\", \"require\", \"node\"],\r\n\t\texportsFields: [\"exports\"],\r\n\t\tmainFields: [\"loader\", \"main\"],\r\n\t\textensions: [\".js\"],\r\n\t\tmainFiles: [\"index\"]\r\n\t};\r\n\r\n\treturn resolveOptions;\r\n};\r\n\r\n/**\r\n * @param {InfrastructureLogging} infrastructureLogging options\r\n * @returns {void}\r\n */\r\nconst applyInfrastructureLoggingDefaults = infrastructureLogging => {\r\n\tF(infrastructureLogging, \"stream\", () => process.stderr);\r\n\tconst tty =\r\n\t\t/** @type {any} */ (infrastructureLogging.stream).isTTY &&\r\n\t\tprocess.env.TERM !== \"dumb\";\r\n\tD(infrastructureLogging, \"level\", \"info\");\r\n\tD(infrastructureLogging, \"debug\", false);\r\n\tD(infrastructureLogging, \"colors\", tty);\r\n\tD(infrastructureLogging, \"appendOnly\", !tty);\r\n};\r\n\r\nexports.applyWebpackOptionsBaseDefaults = applyWebpackOptionsBaseDefaults;\r\nexports.applyWebpackOptionsDefaults = applyWebpackOptionsDefaults;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}