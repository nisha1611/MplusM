{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.resolveEndpoint = void 0;\nconst debug_1 = require(\"./debug\");\nconst types_1 = require(\"./types\");\nconst utils_1 = require(\"./utils\");\nconst resolveEndpoint = (ruleSetObject, options) => {\n  var _a, _b, _c, _d, _e, _f;\n  const {\n    endpointParams,\n    logger\n  } = options;\n  const {\n    parameters,\n    rules\n  } = ruleSetObject;\n  (_b = (_a = options.logger) === null || _a === void 0 ? void 0 : _a.debug) === null || _b === void 0 ? void 0 : _b.call(_a, debug_1.debugId, `Initial EndpointParams: ${(0, debug_1.toDebugString)(endpointParams)}`);\n  const paramsWithDefault = Object.entries(parameters).filter(_ref => {\n    let [, v] = _ref;\n    return v.default != null;\n  }).map(_ref2 => {\n    let [k, v] = _ref2;\n    return [k, v.default];\n  });\n  if (paramsWithDefault.length > 0) {\n    for (const [paramKey, paramDefaultValue] of paramsWithDefault) {\n      endpointParams[paramKey] = (_c = endpointParams[paramKey]) !== null && _c !== void 0 ? _c : paramDefaultValue;\n    }\n  }\n  const requiredParams = Object.entries(parameters).filter(_ref3 => {\n    let [, v] = _ref3;\n    return v.required;\n  }).map(_ref4 => {\n    let [k] = _ref4;\n    return k;\n  });\n  for (const requiredParam of requiredParams) {\n    if (endpointParams[requiredParam] == null) {\n      throw new types_1.EndpointError(`Missing required parameter: '${requiredParam}'`);\n    }\n  }\n  const endpoint = (0, utils_1.evaluateRules)(rules, {\n    endpointParams,\n    logger,\n    referenceRecord: {}\n  });\n  if ((_d = options.endpointParams) === null || _d === void 0 ? void 0 : _d.Endpoint) {\n    try {\n      const givenEndpoint = new URL(options.endpointParams.Endpoint);\n      const {\n        protocol,\n        port\n      } = givenEndpoint;\n      endpoint.url.protocol = protocol;\n      endpoint.url.port = port;\n    } catch (e) {}\n  }\n  (_f = (_e = options.logger) === null || _e === void 0 ? void 0 : _e.debug) === null || _f === void 0 ? void 0 : _f.call(_e, debug_1.debugId, `Resolved endpoint: ${(0, debug_1.toDebugString)(endpoint)}`);\n  return endpoint;\n};\nexports.resolveEndpoint = resolveEndpoint;","map":{"version":3,"names":["Object","defineProperty","exports","value","resolveEndpoint","debug_1","require","types_1","utils_1","ruleSetObject","options","_a","_b","_c","_d","_e","_f","endpointParams","logger","parameters","rules","debug","call","debugId","toDebugString","paramsWithDefault","entries","filter","v","default","map","k","length","paramKey","paramDefaultValue","requiredParams","required","requiredParam","EndpointError","endpoint","evaluateRules","referenceRecord","Endpoint","givenEndpoint","URL","protocol","port","url","e"],"sources":["C:/Users/91930/Desktop/Github projects/Pharmacy Demo/back-end/node_modules/@aws-sdk/util-endpoints/dist-cjs/resolveEndpoint.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.resolveEndpoint = void 0;\r\nconst debug_1 = require(\"./debug\");\r\nconst types_1 = require(\"./types\");\r\nconst utils_1 = require(\"./utils\");\r\nconst resolveEndpoint = (ruleSetObject, options) => {\r\n    var _a, _b, _c, _d, _e, _f;\r\n    const { endpointParams, logger } = options;\r\n    const { parameters, rules } = ruleSetObject;\r\n    (_b = (_a = options.logger) === null || _a === void 0 ? void 0 : _a.debug) === null || _b === void 0 ? void 0 : _b.call(_a, debug_1.debugId, `Initial EndpointParams: ${(0, debug_1.toDebugString)(endpointParams)}`);\r\n    const paramsWithDefault = Object.entries(parameters)\r\n        .filter(([, v]) => v.default != null)\r\n        .map(([k, v]) => [k, v.default]);\r\n    if (paramsWithDefault.length > 0) {\r\n        for (const [paramKey, paramDefaultValue] of paramsWithDefault) {\r\n            endpointParams[paramKey] = (_c = endpointParams[paramKey]) !== null && _c !== void 0 ? _c : paramDefaultValue;\r\n        }\r\n    }\r\n    const requiredParams = Object.entries(parameters)\r\n        .filter(([, v]) => v.required)\r\n        .map(([k]) => k);\r\n    for (const requiredParam of requiredParams) {\r\n        if (endpointParams[requiredParam] == null) {\r\n            throw new types_1.EndpointError(`Missing required parameter: '${requiredParam}'`);\r\n        }\r\n    }\r\n    const endpoint = (0, utils_1.evaluateRules)(rules, { endpointParams, logger, referenceRecord: {} });\r\n    if ((_d = options.endpointParams) === null || _d === void 0 ? void 0 : _d.Endpoint) {\r\n        try {\r\n            const givenEndpoint = new URL(options.endpointParams.Endpoint);\r\n            const { protocol, port } = givenEndpoint;\r\n            endpoint.url.protocol = protocol;\r\n            endpoint.url.port = port;\r\n        }\r\n        catch (e) {\r\n        }\r\n    }\r\n    (_f = (_e = options.logger) === null || _e === void 0 ? void 0 : _e.debug) === null || _f === void 0 ? void 0 : _f.call(_e, debug_1.debugId, `Resolved endpoint: ${(0, debug_1.toDebugString)(endpoint)}`);\r\n    return endpoint;\r\n};\r\nexports.resolveEndpoint = resolveEndpoint;\r\n"],"mappings":"AAAA,YAAY;;AACZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,eAAe,GAAG,KAAK,CAAC;AAChC,MAAMC,OAAO,GAAGC,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMC,OAAO,GAAGD,OAAO,CAAC,SAAS,CAAC;AAClC,MAAME,OAAO,GAAGF,OAAO,CAAC,SAAS,CAAC;AAClC,MAAMF,eAAe,GAAG,CAACK,aAAa,EAAEC,OAAO,KAAK;EAChD,IAAIC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE,EAAEC,EAAE;EAC1B,MAAM;IAAEC,cAAc;IAAEC;EAAO,CAAC,GAAGR,OAAO;EAC1C,MAAM;IAAES,UAAU;IAAEC;EAAM,CAAC,GAAGX,aAAa;EAC3C,CAACG,EAAE,GAAG,CAACD,EAAE,GAAGD,OAAO,CAACQ,MAAM,MAAM,IAAI,IAAIP,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACU,KAAK,MAAM,IAAI,IAAIT,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACU,IAAI,CAACX,EAAE,EAAEN,OAAO,CAACkB,OAAO,EAAG,2BAA0B,CAAC,CAAC,EAAElB,OAAO,CAACmB,aAAa,EAAEP,cAAc,CAAE,EAAC,CAAC;EACrN,MAAMQ,iBAAiB,GAAGzB,MAAM,CAAC0B,OAAO,CAACP,UAAU,CAAC,CAC/CQ,MAAM,CAAC;IAAA,IAAC,GAAGC,CAAC,CAAC;IAAA,OAAKA,CAAC,CAACC,OAAO,IAAI,IAAI;EAAA,EAAC,CACpCC,GAAG,CAAC;IAAA,IAAC,CAACC,CAAC,EAAEH,CAAC,CAAC;IAAA,OAAK,CAACG,CAAC,EAAEH,CAAC,CAACC,OAAO,CAAC;EAAA,EAAC;EACpC,IAAIJ,iBAAiB,CAACO,MAAM,GAAG,CAAC,EAAE;IAC9B,KAAK,MAAM,CAACC,QAAQ,EAAEC,iBAAiB,CAAC,IAAIT,iBAAiB,EAAE;MAC3DR,cAAc,CAACgB,QAAQ,CAAC,GAAG,CAACpB,EAAE,GAAGI,cAAc,CAACgB,QAAQ,CAAC,MAAM,IAAI,IAAIpB,EAAE,KAAK,KAAK,CAAC,GAAGA,EAAE,GAAGqB,iBAAiB;IACjH;EACJ;EACA,MAAMC,cAAc,GAAGnC,MAAM,CAAC0B,OAAO,CAACP,UAAU,CAAC,CAC5CQ,MAAM,CAAC;IAAA,IAAC,GAAGC,CAAC,CAAC;IAAA,OAAKA,CAAC,CAACQ,QAAQ;EAAA,EAAC,CAC7BN,GAAG,CAAC;IAAA,IAAC,CAACC,CAAC,CAAC;IAAA,OAAKA,CAAC;EAAA,EAAC;EACpB,KAAK,MAAMM,aAAa,IAAIF,cAAc,EAAE;IACxC,IAAIlB,cAAc,CAACoB,aAAa,CAAC,IAAI,IAAI,EAAE;MACvC,MAAM,IAAI9B,OAAO,CAAC+B,aAAa,CAAE,gCAA+BD,aAAc,GAAE,CAAC;IACrF;EACJ;EACA,MAAME,QAAQ,GAAG,CAAC,CAAC,EAAE/B,OAAO,CAACgC,aAAa,EAAEpB,KAAK,EAAE;IAAEH,cAAc;IAAEC,MAAM;IAAEuB,eAAe,EAAE,CAAC;EAAE,CAAC,CAAC;EACnG,IAAI,CAAC3B,EAAE,GAAGJ,OAAO,CAACO,cAAc,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAAC4B,QAAQ,EAAE;IAChF,IAAI;MACA,MAAMC,aAAa,GAAG,IAAIC,GAAG,CAAClC,OAAO,CAACO,cAAc,CAACyB,QAAQ,CAAC;MAC9D,MAAM;QAAEG,QAAQ;QAAEC;MAAK,CAAC,GAAGH,aAAa;MACxCJ,QAAQ,CAACQ,GAAG,CAACF,QAAQ,GAAGA,QAAQ;MAChCN,QAAQ,CAACQ,GAAG,CAACD,IAAI,GAAGA,IAAI;IAC5B,CAAC,CACD,OAAOE,CAAC,EAAE,CACV;EACJ;EACA,CAAChC,EAAE,GAAG,CAACD,EAAE,GAAGL,OAAO,CAACQ,MAAM,MAAM,IAAI,IAAIH,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACM,KAAK,MAAM,IAAI,IAAIL,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACM,IAAI,CAACP,EAAE,EAAEV,OAAO,CAACkB,OAAO,EAAG,sBAAqB,CAAC,CAAC,EAAElB,OAAO,CAACmB,aAAa,EAAEe,QAAQ,CAAE,EAAC,CAAC;EAC1M,OAAOA,QAAQ;AACnB,CAAC;AACDrC,OAAO,CAACE,eAAe,GAAGA,eAAe"},"metadata":{},"sourceType":"script","externalDependencies":[]}