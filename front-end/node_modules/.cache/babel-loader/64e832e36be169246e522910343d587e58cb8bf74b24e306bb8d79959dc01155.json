{"ast":null,"code":"'use strict';\n\n/*!\r\n * Module dependencies.\r\n */\nconst ArrayMethods = require('../array/methods');\nconst DocumentArrayMethods = require('./methods');\nconst Document = require('../../document');\nconst arrayAtomicsSymbol = require('../../helpers/symbols').arrayAtomicsSymbol;\nconst arrayAtomicsBackupSymbol = require('../../helpers/symbols').arrayAtomicsBackupSymbol;\nconst arrayParentSymbol = require('../../helpers/symbols').arrayParentSymbol;\nconst arrayPathSymbol = require('../../helpers/symbols').arrayPathSymbol;\nconst arraySchemaSymbol = require('../../helpers/symbols').arraySchemaSymbol;\nconst _basePush = Array.prototype.push;\nconst numberRE = /^\\d+$/;\n/**\r\n * DocumentArray constructor\r\n *\r\n * @param {Array} values\r\n * @param {String} path the path to this array\r\n * @param {Document} doc parent document\r\n * @api private\r\n * @return {MongooseDocumentArray}\r\n * @inherits MongooseArray\r\n * @see https://bit.ly/f6CnZU\r\n */\n\nfunction MongooseDocumentArray(values, path, doc) {\n  const __array = [];\n  const internals = {\n    [arrayAtomicsSymbol]: {},\n    [arrayAtomicsBackupSymbol]: void 0,\n    [arrayPathSymbol]: path,\n    [arraySchemaSymbol]: void 0,\n    [arrayParentSymbol]: void 0\n  };\n  if (Array.isArray(values)) {\n    if (values[arrayPathSymbol] === path && values[arrayParentSymbol] === doc) {\n      internals[arrayAtomicsSymbol] = Object.assign({}, values[arrayAtomicsSymbol]);\n    }\n    values.forEach(v => {\n      _basePush.call(__array, v);\n    });\n  }\n  internals[arrayPathSymbol] = path;\n  internals.__array = __array;\n\n  // Because doc comes from the context of another function, doc === global\n  // can happen if there was a null somewhere up the chain (see #3020 && #3034)\n  // RB Jun 17, 2015 updated to check for presence of expected paths instead\n  // to make more proof against unusual node environments\n  if (doc && doc instanceof Document) {\n    internals[arrayParentSymbol] = doc;\n    internals[arraySchemaSymbol] = doc.$__schema.path(path);\n\n    // `schema.path()` doesn't drill into nested arrays properly yet, see\n    // gh-6398, gh-6602. This is a workaround because nested arrays are\n    // always plain non-document arrays, so once you get to a document array\n    // nesting is done. Matryoshka code.\n    while (internals[arraySchemaSymbol] != null && internals[arraySchemaSymbol].$isMongooseArray && !internals[arraySchemaSymbol].$isMongooseDocumentArray) {\n      internals[arraySchemaSymbol] = internals[arraySchemaSymbol].casterConstructor;\n    }\n  }\n  const proxy = new Proxy(__array, {\n    get: function (target, prop) {\n      if (prop === 'isMongooseArray' || prop === 'isMongooseArrayProxy' || prop === 'isMongooseDocumentArray' || prop === 'isMongooseDocumentArrayProxy') {\n        return true;\n      }\n      if (internals.hasOwnProperty(prop)) {\n        return internals[prop];\n      }\n      if (DocumentArrayMethods.hasOwnProperty(prop)) {\n        return DocumentArrayMethods[prop];\n      }\n      if (ArrayMethods.hasOwnProperty(prop)) {\n        return ArrayMethods[prop];\n      }\n      return __array[prop];\n    },\n    set: function (target, prop, value) {\n      if (typeof prop === 'string' && numberRE.test(prop)) {\n        DocumentArrayMethods.set.call(proxy, prop, value, false);\n      } else if (internals.hasOwnProperty(prop)) {\n        internals[prop] = value;\n      } else {\n        __array[prop] = value;\n      }\n      return true;\n    }\n  });\n  return proxy;\n}\n\n/*!\r\n * Module exports.\r\n */\n\nmodule.exports = MongooseDocumentArray;","map":{"version":3,"names":["ArrayMethods","require","DocumentArrayMethods","Document","arrayAtomicsSymbol","arrayAtomicsBackupSymbol","arrayParentSymbol","arrayPathSymbol","arraySchemaSymbol","_basePush","Array","prototype","push","numberRE","MongooseDocumentArray","values","path","doc","__array","internals","isArray","Object","assign","forEach","v","call","$__schema","$isMongooseArray","$isMongooseDocumentArray","casterConstructor","proxy","Proxy","get","target","prop","hasOwnProperty","set","value","test","module","exports"],"sources":["C:/Users/91930/Desktop/Github projects/Pharmacy Demo/back-end/node_modules/mongoose/lib/types/DocumentArray/index.js"],"sourcesContent":["'use strict';\r\n\r\n/*!\r\n * Module dependencies.\r\n */\r\n\r\nconst ArrayMethods = require('../array/methods');\r\nconst DocumentArrayMethods = require('./methods');\r\nconst Document = require('../../document');\r\n\r\nconst arrayAtomicsSymbol = require('../../helpers/symbols').arrayAtomicsSymbol;\r\nconst arrayAtomicsBackupSymbol = require('../../helpers/symbols').arrayAtomicsBackupSymbol;\r\nconst arrayParentSymbol = require('../../helpers/symbols').arrayParentSymbol;\r\nconst arrayPathSymbol = require('../../helpers/symbols').arrayPathSymbol;\r\nconst arraySchemaSymbol = require('../../helpers/symbols').arraySchemaSymbol;\r\n\r\nconst _basePush = Array.prototype.push;\r\nconst numberRE = /^\\d+$/;\r\n/**\r\n * DocumentArray constructor\r\n *\r\n * @param {Array} values\r\n * @param {String} path the path to this array\r\n * @param {Document} doc parent document\r\n * @api private\r\n * @return {MongooseDocumentArray}\r\n * @inherits MongooseArray\r\n * @see https://bit.ly/f6CnZU\r\n */\r\n\r\nfunction MongooseDocumentArray(values, path, doc) {\r\n  const __array = [];\r\n\r\n  const internals = {\r\n    [arrayAtomicsSymbol]: {},\r\n    [arrayAtomicsBackupSymbol]: void 0,\r\n    [arrayPathSymbol]: path,\r\n    [arraySchemaSymbol]: void 0,\r\n    [arrayParentSymbol]: void 0\r\n  };\r\n\r\n  if (Array.isArray(values)) {\r\n    if (values[arrayPathSymbol] === path &&\r\n        values[arrayParentSymbol] === doc) {\r\n      internals[arrayAtomicsSymbol] = Object.assign({}, values[arrayAtomicsSymbol]);\r\n    }\r\n    values.forEach(v => {\r\n      _basePush.call(__array, v);\r\n    });\r\n  }\r\n  internals[arrayPathSymbol] = path;\r\n  internals.__array = __array;\r\n\r\n  // Because doc comes from the context of another function, doc === global\r\n  // can happen if there was a null somewhere up the chain (see #3020 && #3034)\r\n  // RB Jun 17, 2015 updated to check for presence of expected paths instead\r\n  // to make more proof against unusual node environments\r\n  if (doc && doc instanceof Document) {\r\n    internals[arrayParentSymbol] = doc;\r\n    internals[arraySchemaSymbol] = doc.$__schema.path(path);\r\n\r\n    // `schema.path()` doesn't drill into nested arrays properly yet, see\r\n    // gh-6398, gh-6602. This is a workaround because nested arrays are\r\n    // always plain non-document arrays, so once you get to a document array\r\n    // nesting is done. Matryoshka code.\r\n    while (internals[arraySchemaSymbol] != null &&\r\n        internals[arraySchemaSymbol].$isMongooseArray &&\r\n        !internals[arraySchemaSymbol].$isMongooseDocumentArray) {\r\n      internals[arraySchemaSymbol] = internals[arraySchemaSymbol].casterConstructor;\r\n    }\r\n  }\r\n\r\n  const proxy = new Proxy(__array, {\r\n    get: function(target, prop) {\r\n      if (prop === 'isMongooseArray' ||\r\n          prop === 'isMongooseArrayProxy' ||\r\n          prop === 'isMongooseDocumentArray' ||\r\n          prop === 'isMongooseDocumentArrayProxy') {\r\n        return true;\r\n      }\r\n      if (internals.hasOwnProperty(prop)) {\r\n        return internals[prop];\r\n      }\r\n      if (DocumentArrayMethods.hasOwnProperty(prop)) {\r\n        return DocumentArrayMethods[prop];\r\n      }\r\n      if (ArrayMethods.hasOwnProperty(prop)) {\r\n        return ArrayMethods[prop];\r\n      }\r\n\r\n      return __array[prop];\r\n    },\r\n    set: function(target, prop, value) {\r\n      if (typeof prop === 'string' && numberRE.test(prop)) {\r\n        DocumentArrayMethods.set.call(proxy, prop, value, false);\r\n      } else if (internals.hasOwnProperty(prop)) {\r\n        internals[prop] = value;\r\n      } else {\r\n        __array[prop] = value;\r\n      }\r\n\r\n      return true;\r\n    }\r\n  });\r\n\r\n  return proxy;\r\n}\r\n\r\n/*!\r\n * Module exports.\r\n */\r\n\r\nmodule.exports = MongooseDocumentArray;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}